package sip

import (
	"encoding/base64"
	"io"
	"strings"

	"github.com/evocert/kwe/resources"
)

// embedded https://sipjs.com/download/sip-0.16.0.min.js
func SipJS() io.Reader {
	return base64.NewDecoder(base64.StdEncoding, strings.NewReader(sipjs))
}

func init() {
	gblrs := resources.GLOBALRSNG()
	gblrs.FS().MKDIR("/sip/js", "")
	gblrs.FS().SET("/sip/js/sip.js", SipJS())
}

const sipjs string = `IWZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuU0lQPXQoKTplLlNJUD10KCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gaShzKXtpZih0W3NdKXJldHVybiB0W3NdLmV4cG9ydHM7dmFyIHI9dFtzXT17aTpzLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbc10uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsaSksci5sPSEwLHIuZXhwb3J0c31yZXR1cm4gaS5tPWUsaS5jPXQsaS5kPWZ1bmN0aW9uKGUsdCxzKXtpLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6c30pfSxpLnI9ZnVuY3Rpb24oZSl7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0saS50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1pKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiYib2JqZWN0Ij09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgcz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKGkucihzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocywiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmInN0cmluZyIhPXR5cGVvZiBlKWZvcih2YXIgciBpbiBlKWkuZChzLHIsZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxyKSk7cmV0dXJuIHN9LGkubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gaS5kKHQsImEiLHQpLHR9LGkubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0saS5wPSIiLGkoaS5zPTIpfShbZnVuY3Rpb24oZSx0KXt2YXIgaTtpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e2k9aXx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKXx8KDAsZXZhbCkoInRoaXMiKX1jYXRjaChlKXsib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmKGk9d2luZG93KX1lLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXt9O3JldHVybiB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUuRXZlbnRFbWl0dGVyLnByb3RvdHlwZSx7Y29ubmVjdDp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXx8e30sdGhpcy5jb25uZWN0UHJvbWlzZShlKS50aGVuKGZ1bmN0aW9uKGUpeyFlLm92ZXJyaWRlRXZlbnQmJnRoaXMuZW1pdCgiY29ubmVjdGVkIil9LmJpbmQodGhpcykpfX0sY29ubmVjdFByb21pc2U6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKGUpe319LGlzQ29ubmVjdGVkOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe319LHNlbmQ6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8e30sdGhpcy5zZW5kUHJvbWlzZShlKS50aGVuKGZ1bmN0aW9uKGUpeyFlLm92ZXJyaWRlRXZlbnQmJnRoaXMuZW1pdCgibWVzc2FnZVNlbnQiLGUubXNnKX0uYmluZCh0aGlzKSl9fSxzZW5kUHJvbWlzZTp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oZSx0KXt9fSxvbk1lc3NhZ2U6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKGUpe319LGRpc2Nvbm5lY3Q6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPWV8fHt9LHRoaXMuZGlzY29ubmVjdFByb21pc2UoZSkudGhlbihmdW5jdGlvbihlKXshZS5vdmVycmlkZUV2ZW50JiZ0aGlzLmVtaXQoImRpc2Nvbm5lY3RlZCIpfS5iaW5kKHRoaXMpKX19LGRpc2Nvbm5lY3RQcm9taXNlOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbihlKXt9fSxhZnRlckNvbm5lY3RlZDp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5pc0Nvbm5lY3RlZCgpP2UoKTp0aGlzLm9uY2UoImNvbm5lY3RlZCIsZSl9fSx3YWl0Rm9yQ29ubmVjdGVkOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIkRFUFJFQ0FUSU9OIFdBUk5JTkcgVHJhbnNwb3J0LndhaXRGb3JDb25uZWN0ZWQoKTogdXNlIGFmdGVyQ29ubmVjdGVkKCkgaW5zdGVhZCIpLG5ldyBlLlV0aWxzLlByb21pc2UoZnVuY3Rpb24oZSl7dGhpcy5hZnRlckNvbm5lY3RlZChlKX0uYmluZCh0aGlzKSl9fX0pLHR9fSxmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1pKDMpKGkoNDApKX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9aSg0KSxzPXQudmVyc2lvbixyPXQudGl0bGUsbj1PYmplY3QuZGVmaW5lUHJvcGVydGllcyh7fSx7dmVyc2lvbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9fSxuYW1lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19fSk7cmV0dXJuIGkoNSkobixlKSxuLkxvZ2dlckZhY3Rvcnk9aSg2KShlLmNvbnNvbGUpLG4uRXZlbnRFbWl0dGVyPWkoNykoKSxuLkM9aSg5KShuLm5hbWUsbi52ZXJzaW9uKSxuLkV4Y2VwdGlvbnM9aSgxMCksbi5UaW1lcnM9aSgxMSkoZS50aW1lcnMpLG4uVHJhbnNwb3J0PWkoMSkobiksaSgxMikobiksaSgxMykobiksaSgxNCkobiksaSgxNSkobiksaSgxNikobiksaSgxNykobiksaSgxOSkobiksaSgyMCkobiksbi5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyPWkoMjEpKG4uRXZlbnRFbWl0dGVyKSxpKDIyKShuKSxpKDIzKShuKSxpKDI0KShuKSxpKDI2KShuKSxpKDI3KShuKSxpKDI4KShuLGUpLGkoMzIpKG4pLG4uRGlnZXN0QXV0aGVudGljYXRpb249aSgzMykobi5VdGlscyksbi5HcmFtbWFyPWkoMzYpKG4pLG4uV2ViPXtNb2RpZmllcnM6aSgzOCkobiksU2ltcGxlOmkoMzkpKG4pfSxufX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPXtuYW1lOiJzaXAuanMiLHRpdGxlOiJTSVAuanMiLGRlc2NyaXB0aW9uOiJBIHNpbXBsZSwgaW50dWl0aXZlLCBhbmQgcG93ZXJmdWwgSmF2YVNjcmlwdCBzaWduYWxpbmcgbGlicmFyeSIsdmVyc2lvbjoiMC4xMS42IixtYWluOiJkaXN0L3NpcC5qcyIsYnJvd3Nlcjp7Ii4vc3JjL2Vudmlyb25tZW50LmpzIjoiLi9zcmMvZW52aXJvbm1lbnRfYnJvd3Nlci5qcyJ9LGhvbWVwYWdlOiJodHRwczovL3NpcGpzLmNvbSIsYXV0aG9yOiJPblNJUCA8ZGV2ZWxvcGVyQG9uc2lwLmNvbT4gKGh0dHBzOi8vc2lwanMuY29tL2Fib3V0dXMvKSIsY29udHJpYnV0b3JzOlt7dXJsOiJodHRwczovL2dpdGh1Yi5jb20vb25zaXAvU0lQLmpzL2Jsb2IvbWFzdGVyL1RIQU5LUy5tZCJ9XSxyZXBvc2l0b3J5Ont0eXBlOiJnaXQiLHVybDoiaHR0cHM6Ly9naXRodWIuY29tL29uc2lwL1NJUC5qcy5naXQifSxrZXl3b3JkczpbInNpcCIsIndlYnNvY2tldCIsIndlYnJ0YyIsImxpYnJhcnkiLCJqYXZhc2NyaXB0Il0sZGV2RGVwZW5kZW5jaWVzOnsiYXdlc29tZS10eXBlc2NyaXB0LWxvYWRlciI6Il41LjIuMSIsZXNsaW50OiJeNS40LjAiLCJqYXNtaW5lLWNvcmUiOiJeMy4yLjEiLGthcm1hOiJeMy4wLjAiLCJrYXJtYS1jaHJvbWUtbGF1bmNoZXIiOiJeMi4yLjAiLCJrYXJtYS1jbGkiOiJeMS4wLjEiLCJrYXJtYS1qYXNtaW5lIjoiXjEuMS4wIiwia2FybWEtamFzbWluZS1odG1sLXJlcG9ydGVyIjoiXjEuMy4xIiwia2FybWEtbW9jaGEtcmVwb3J0ZXIiOiJeMi4yLjUiLCJrYXJtYS13ZWJwYWNrIjoiXjMuMC4wIixwZWdqczoiXjAuMTAuMCIsInBlZ2pzLWxvYWRlciI6Il4wLjUuNCIsdHlwZXNjcmlwdDoiXjMuMC4zIix3ZWJwYWNrOiJeNC4xOS4wIiwid2VicGFjay1jbGkiOiJeMy4wLjgifSxlbmdpbmVzOntub2RlOiI+PTYuMCJ9LGxpY2Vuc2U6Ik1JVCIsc2NyaXB0czp7cHJlYnVpbGQ6ImVzbGludCBzcmMvKi5qcyBzcmMvKiovKi5qcyIsImJ1aWxkLWRldiI6IndlYnBhY2sgLS1wcm9ncmVzcyAtLWVudi5idWlsZFR5cGUgZGV2IiwiYnVpbGQtcHJvZCI6IndlYnBhY2sgLS1wcm9ncmVzcyAtLWVudi5idWlsZFR5cGUgcHJvZCIsImNvcHktZGlzdC1maWxlcyI6ImNwIGRpc3Qvc2lwLmpzIGRpc3Qvc2lwLSRucG1fcGFja2FnZV92ZXJzaW9uLmpzICYmIGNwIGRpc3Qvc2lwLm1pbi5qcyAgZGlzdC9zaXAtJG5wbV9wYWNrYWdlX3ZlcnNpb24ubWluLmpzIixidWlsZDoibnBtIHJ1biBidWlsZC1kZXYgJiYgbnBtIHJ1biBidWlsZC1wcm9kICYmIG5wbSBydW4gY29weS1kaXN0LWZpbGVzIixicm93c2VyVGVzdDoic2xlZXAgMiAmJiBvcGVuIGh0dHA6Ly8wLjAuMC4wOjk4NzYvZGVidWcuaHRtbCAmIGthcm1hIHN0YXJ0IC0tcmVwb3J0ZXJzIGtqaHRtbCAtLW5vLXNpbmdsZS1ydW4iLGNvbW1hbmRMaW5lVGVzdDoia2FybWEgc3RhcnQgLS1yZXBvcnRlcnMgbW9jaGEgLS1icm93c2VycyBDaHJvbWVIZWFkbGVzcyAtLXNpbmdsZS1ydW4iLGJ1aWxkQW5kVGVzdDoibnBtIHJ1biBidWlsZCAmJiBucG0gcnVuIGNvbW1hbmRMaW5lVGVzdCIsYnVpbGRBbmRCcm93c2VyVGVzdDoibnBtIHJ1biBidWlsZCAmJiBucG0gcnVuIGJyb3dzZXJUZXN0In0sZGVwZW5kZW5jaWVzOnsiY3J5cHRvLWpzIjoiXjMuMS45LTEifSxvcHRpb25hbERlcGVuZGVuY2llczp7cHJvbWlzY3VvdXM6Il4wLjYuMCJ9fX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgaTtpPXtQcm9taXNlOnQuUHJvbWlzZSxkZWZlcjpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlLnByb21pc2U9bmV3IGkuUHJvbWlzZShmdW5jdGlvbih0LGkpe2UucmVzb2x2ZT10LGUucmVqZWN0PWl9KSxlfSxyZWR1Y2VQcm9taXNlczpmdW5jdGlvbih0LGkpe3JldHVybiB0LnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlPWUudGhlbih0KX0sZS5VdGlscy5Qcm9taXNlLnJlc29sdmUoaSkpfSxhdWdtZW50OmZ1bmN0aW9uKGUsdCxpLHMpe3ZhciByLG47Zm9yKHIgaW4gbj10LnByb3RvdHlwZSkoc3x8dm9pZCAwPT09ZVtyXSkmJihlW3JdPW5bcl0pO3QuYXBwbHkoZSxpKX0sZGVmYXVsdE9wdGlvbnM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1lfHx7fSx0PXR8fHt9LE9iamVjdC5hc3NpZ24oe30sZSx0KX0sb3B0aW9uc092ZXJyaWRlOmZ1bmN0aW9uKGUsdCxpLHMscixuKXtzJiZlW2ldJiZyLndhcm4oaSsiIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgIit0KyIgaW5zdGVhZCIpLGVbdF0mJmVbaV0mJnIud2Fybih0KyIgb3ZlcnJpZGluZyAiK2kpLGVbdF09ZVt0XXx8ZVtpXXx8bn0sc3RyX3V0ZjhfbGVuZ3RoOmZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSkucmVwbGFjZSgvJVtBLUZcZF17Mn0vZywiVSIpLmxlbmd0aH0sZ2VuZXJhdGVGYWtlU0RQOmZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PWUuaW5kZXhPZigibz0iKSxpPWUuaW5kZXhPZigiXHJcbiIsdCk7cmV0dXJuInY9MFxyXG4iK2Uuc2xpY2UodCxpKSsiXHJcbnM9LVxyXG50PTAgMFxyXG5jPUlOIElQNCAwLjAuMC4wIn19LGlzRnVuY3Rpb246ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJiJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9LGlzRGVjaW1hbDpmdW5jdGlvbihlKXtyZXR1cm4haXNOYU4oZSkmJnBhcnNlRmxvYXQoZSk9PT1wYXJzZUludChlLDEwKX0sY3JlYXRlUmFuZG9tVG9rZW46ZnVuY3Rpb24oZSx0KXt2YXIgaSxzPSIiO2Zvcih0PXR8fDMyLGk9MDtpPGU7aSsrKXMrPShNYXRoLnJhbmRvbSgpKnR8MCkudG9TdHJpbmcodCk7cmV0dXJuIHN9LG5ld1RhZzpmdW5jdGlvbigpe3JldHVybiBlLlV0aWxzLmNyZWF0ZVJhbmRvbVRva2VuKGUuVUEuQy5UQUdfTEVOR1RIKX0sbmV3VVVJRDpmdW5jdGlvbigpe3JldHVybiJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgiLnJlcGxhY2UoL1t4eV0vZyxmdW5jdGlvbihlKXt2YXIgdD0xNipNYXRoLnJhbmRvbSgpfDA7cmV0dXJuKCJ4Ij09PWU/dDozJnR8OCkudG9TdHJpbmcoMTYpfSl9LGhvc3RUeXBlOmZ1bmN0aW9uKHQpe2lmKHQpcmV0dXJuLTEhPT0odD1lLkdyYW1tYXIucGFyc2UodCwiaG9zdCIpKT90Lmhvc3RfdHlwZTp2b2lkIDB9LG5vcm1hbGl6ZVRhcmdldDpmdW5jdGlvbih0LGkpe3ZhciBzLHIsbjtpZih0KXtpZih0IGluc3RhbmNlb2YgZS5VUkkpcmV0dXJuIHQ7aWYoInN0cmluZyI9PXR5cGVvZiB0KXtzd2l0Y2goKHM9dC5zcGxpdCgiQCIpKS5sZW5ndGgpe2Nhc2UgMTppZighaSlyZXR1cm47cj10LG49aTticmVhaztjYXNlIDI6cj1zWzBdLG49c1sxXTticmVhaztkZWZhdWx0OnI9cy5zbGljZSgwLHMubGVuZ3RoLTEpLmpvaW4oIkAiKSxuPXNbcy5sZW5ndGgtMV19cmV0dXJuIHI9ci5yZXBsYWNlKC9eKHNpcHM/fHRlbCk6L2ksIiIpLC9eW1wtXC5cKFwpXSpcKz9bMC05XC1cLlwoXCldKyQvLnRlc3QocikmJihyPXIucmVwbGFjZSgvW1wtXC5cKFwpXS9nLCIiKSksdD1lLkMuU0lQKyI6IitlLlV0aWxzLmVzY2FwZVVzZXIocikrIkAiK24sZS5VUkkucGFyc2UodCl9fWVsc2U7fSxlc2NhcGVVc2VyOmZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZGVjb2RlVVJJQ29tcG9uZW50KGUpKS5yZXBsYWNlKC8lM0EvZ2ksIjoiKS5yZXBsYWNlKC8lMkIvZ2ksIisiKS5yZXBsYWNlKC8lM0YvZ2ksIj8iKS5yZXBsYWNlKC8lMkYvZ2ksIi8iKX0saGVhZGVyaXplOmZ1bmN0aW9uKGUpe3ZhciB0LGk9eyJDYWxsLUlkIjoiQ2FsbC1JRCIsQ3NlcToiQ1NlcSIsIk1pbi1TZSI6Ik1pbi1TRSIsUmFjazoiUkFjayIsUnNlcToiUlNlcSIsIld3dy1BdXRoZW50aWNhdGUiOiJXV1ctQXV0aGVudGljYXRlIn0scz1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCItIikuc3BsaXQoIi0iKSxyPSIiLG49cy5sZW5ndGg7Zm9yKHQ9MDt0PG47dCsrKTAhPT10JiYocis9Ii0iKSxyKz1zW3RdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3NbdF0uc3Vic3RyaW5nKDEpO3JldHVybiBpW3JdJiYocj1pW3JdKSxyfSxzaXBFcnJvckNhdXNlOmZ1bmN0aW9uKHQpe3ZhciBpO2ZvcihpIGluIGUuQy5TSVBfRVJST1JfQ0FVU0VTKWlmKC0xIT09ZS5DLlNJUF9FUlJPUl9DQVVTRVNbaV0uaW5kZXhPZih0KSlyZXR1cm4gZS5DLmNhdXNlc1tpXTtyZXR1cm4gZS5DLmNhdXNlcy5TSVBfRkFJTFVSRV9DT0RFfSxnZXRSZWFzb25QaHJhc2U6ZnVuY3Rpb24odCxpKXtyZXR1cm4gaXx8ZS5DLlJFQVNPTl9QSFJBU0VbdF18fCIifSxnZXRSZWFzb25IZWFkZXJWYWx1ZTpmdW5jdGlvbih0LGkpe3JldHVybiJTSVA7Y2F1c2U9Iit0Kyc7dGV4dD0iJysoaT1lLlV0aWxzLmdldFJlYXNvblBocmFzZSh0LGkpKSsnIid9LGdldENhbmNlbFJlYXNvbjpmdW5jdGlvbih0LGkpe2lmKHQmJnQ8MjAwfHx0PjY5OSl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIHN0YXR1c19jb2RlOiAiK3QpO2lmKHQpcmV0dXJuIGUuVXRpbHMuZ2V0UmVhc29uSGVhZGVyVmFsdWUodCxpKX0sYnVpbGRTdGF0dXNMaW5lOmZ1bmN0aW9uKGUsdCl7aWYoZT1lfHxudWxsLHQ9dHx8bnVsbCwhZXx8ZTwxMDB8fGU+Njk5KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgc3RhdHVzX2NvZGU6ICIrZSk7aWYodCYmInN0cmluZyIhPXR5cGVvZiB0JiYhKHQgaW5zdGFuY2VvZiBTdHJpbmcpKXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgcmVhc29uX3BocmFzZTogIit0KTtyZXR1cm4iU0lQLzIuMCAiK2UrIiAiKyh0PWkuZ2V0UmVhc29uUGhyYXNlKGUsdCkpKyJcclxuIn0sZ2V0UmFuZG9tVGVzdE5ldElQOmZ1bmN0aW9uKCl7cmV0dXJuIjE5Mi4wLjIuIitmdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKHQtZSsxKStlKX0oMSwyNTQpfX0sZS5VdGlscz1pfX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcz17ZXJyb3I6MCx3YXJuOjEsbG9nOjIsZGVidWc6M307ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKCl7dmFyIGUsdD0yLGk9ITAscj1udWxsO3RoaXMubG9nZ2Vycz17fSxlPXRoaXMuZ2V0TG9nZ2VyKCJzaXAubG9nZ2VyZmFjdG9yeSIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse2J1aWx0aW5FbmFibGVkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sc2V0OmZ1bmN0aW9uKHQpeyJib29sZWFuIj09dHlwZW9mIHQ/aT10OmUuZXJyb3IoJ2ludmFsaWQgImJ1aWx0aW5FbmFibGVkIiBwYXJhbWV0ZXIgdmFsdWU6ICcrSlNPTi5zdHJpbmdpZnkodCkpfX0sbGV2ZWw6e2dldDpmdW5jdGlvbigpe3JldHVybiB0fSxzZXQ6ZnVuY3Rpb24oaSl7aT49MCYmaTw9Mz90PWk6aT4zP3Q9MzpzLmhhc093blByb3BlcnR5KGkpP3Q9c1tpXTplLmVycm9yKCdpbnZhbGlkICJsZXZlbCIgcGFyYW1ldGVyIHZhbHVlOiAnK0pTT04uc3RyaW5naWZ5KGkpKX19LGNvbm5lY3Rvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9LHNldDpmdW5jdGlvbih0KXtudWxsPT09dHx8IiI9PT10fHx2b2lkIDA9PT10P3I9bnVsbDoiZnVuY3Rpb24iPT10eXBlb2YgdD9yPXQ6ZS5lcnJvcignaW52YWxpZCAiY29ubmVjdG9yIiBwYXJhbWV0ZXIgdmFsdWU6ICcrSlNPTi5zdHJpbmdpZnkodCkpfX19KX07ZnVuY3Rpb24gaShlLHQsaSl7dGhpcy5sb2dnZXI9ZSx0aGlzLmNhdGVnb3J5PXQsdGhpcy5sYWJlbD1pfXJldHVybiB0LnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0LGkscyxyKXtpZigic3RyaW5nIj09dHlwZW9mIHIpe3ZhciBuPVtuZXcgRGF0ZSxpXTtzJiZuLnB1c2gocykscj1uLmNvbmNhdChyKS5qb2luKCIgfCAiKX10LmNhbGwoZSxyKX0sT2JqZWN0LmtleXMocykuZm9yRWFjaChmdW5jdGlvbihyKXtpLnByb3RvdHlwZVtyXT1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcltyXSh0aGlzLmNhdGVnb3J5LHRoaXMubGFiZWwsZSl9LHQucHJvdG90eXBlW3JdPWZ1bmN0aW9uKHQsaSxuKXt0aGlzLmxldmVsPj1zW3JdJiYodGhpcy5idWlsdGluRW5hYmxlZCYmdGhpcy5wcmludChlW3JdLHQsaSxuKSx0aGlzLmNvbm5lY3RvciYmdGhpcy5jb25uZWN0b3Iocix0LGksbikpfX0pLHQucHJvdG90eXBlLmdldExvZ2dlcj1mdW5jdGlvbihlLHQpe3ZhciBzO3JldHVybiB0JiYzPT09dGhpcy5sZXZlbD9uZXcgaSh0aGlzLGUsdCk6dGhpcy5sb2dnZXJzW2VdP3RoaXMubG9nZ2Vyc1tlXToocz1uZXcgaSh0aGlzLGUpLHRoaXMubG9nZ2Vyc1tlXT1zLHMpfSx0fX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcz1pKDgpLkV2ZW50RW1pdHRlcjtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cy5jYWxsKHRoaXMpfXJldHVybiBlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlfX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKCl7dGhpcy5fZXZlbnRzPXRoaXMuX2V2ZW50c3x8e30sdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfWZ1bmN0aW9uIHMoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9ZnVuY3Rpb24gcihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIHZvaWQgMD09PWV9ZS5leHBvcnRzPWksaS5FdmVudEVtaXR0ZXI9aSxpLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxpLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMCxpLmRlZmF1bHRNYXhMaXN0ZW5lcnM9MTAsaS5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe2lmKCFmdW5jdGlvbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGV9KGUpfHxlPDB8fGlzTmFOKGUpKXRocm93IFR5cGVFcnJvcigibiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz1lLHRoaXN9LGkucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7dmFyIHQsaSxvLGEsYyxoO2lmKHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSksImVycm9yIj09PWUmJighdGhpcy5fZXZlbnRzLmVycm9yfHxyKHRoaXMuX2V2ZW50cy5lcnJvcikmJiF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSl7aWYoKHQ9YXJndW1lbnRzWzFdKWluc3RhbmNlb2YgRXJyb3IpdGhyb3cgdDt2YXIgdT1uZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCAiZXJyb3IiIGV2ZW50LiAoJyt0KyIpIik7dGhyb3cgdS5jb250ZXh0PXQsdX1pZihuKGk9dGhpcy5fZXZlbnRzW2VdKSlyZXR1cm4hMTtpZihzKGkpKXN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6aS5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UgMjppLmNhbGwodGhpcyxhcmd1bWVudHNbMV0pO2JyZWFrO2Nhc2UgMzppLmNhbGwodGhpcyxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKTticmVhaztkZWZhdWx0OmE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGkuYXBwbHkodGhpcyxhKX1lbHNlIGlmKHIoaSkpZm9yKGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG89KGg9aS5zbGljZSgpKS5sZW5ndGgsYz0wO2M8bztjKyspaFtjXS5hcHBseSh0aGlzLGEpO3JldHVybiEwfSxpLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBvO2lmKCFzKHQpKXRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7cmV0dXJuIHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSksdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyJiZ0aGlzLmVtaXQoIm5ld0xpc3RlbmVyIixlLHModC5saXN0ZW5lcik/dC5saXN0ZW5lcjp0KSx0aGlzLl9ldmVudHNbZV0/cih0aGlzLl9ldmVudHNbZV0pP3RoaXMuX2V2ZW50c1tlXS5wdXNoKHQpOnRoaXMuX2V2ZW50c1tlXT1bdGhpcy5fZXZlbnRzW2VdLHRdOnRoaXMuX2V2ZW50c1tlXT10LHIodGhpcy5fZXZlbnRzW2VdKSYmIXRoaXMuX2V2ZW50c1tlXS53YXJuZWQmJihvPW4odGhpcy5fbWF4TGlzdGVuZXJzKT9pLmRlZmF1bHRNYXhMaXN0ZW5lcnM6dGhpcy5fbWF4TGlzdGVuZXJzKSYmbz4wJiZ0aGlzLl9ldmVudHNbZV0ubGVuZ3RoPm8mJih0aGlzLl9ldmVudHNbZV0ud2FybmVkPSEwLGNvbnNvbGUuZXJyb3IoIihub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuIix0aGlzLl9ldmVudHNbZV0ubGVuZ3RoKSwiZnVuY3Rpb24iPT10eXBlb2YgY29uc29sZS50cmFjZSYmY29uc29sZS50cmFjZSgpKSx0aGlzfSxpLnByb3RvdHlwZS5vbj1pLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixpLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCl7aWYoIXModCkpdGhyb3cgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTt2YXIgaT0hMTtmdW5jdGlvbiByKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcihlLHIpLGl8fChpPSEwLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gci5saXN0ZW5lcj10LHRoaXMub24oZSxyKSx0aGlzfSxpLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBpLG4sbyxhO2lmKCFzKHQpKXRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7aWYoIXRoaXMuX2V2ZW50c3x8IXRoaXMuX2V2ZW50c1tlXSlyZXR1cm4gdGhpcztpZihvPShpPXRoaXMuX2V2ZW50c1tlXSkubGVuZ3RoLG49LTEsaT09PXR8fHMoaS5saXN0ZW5lcikmJmkubGlzdGVuZXI9PT10KWRlbGV0ZSB0aGlzLl9ldmVudHNbZV0sdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoInJlbW92ZUxpc3RlbmVyIixlLHQpO2Vsc2UgaWYocihpKSl7Zm9yKGE9bzthLS0gPjA7KWlmKGlbYV09PT10fHxpW2FdLmxpc3RlbmVyJiZpW2FdLmxpc3RlbmVyPT09dCl7bj1hO2JyZWFrfWlmKG48MClyZXR1cm4gdGhpczsxPT09aS5sZW5ndGg/KGkubGVuZ3RoPTAsZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSk6aS5zcGxpY2UobiwxKSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLGUsdCl9cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxpO2lmKCF0aGlzLl9ldmVudHMpcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5fZXZlbnRzPXt9OnRoaXMuX2V2ZW50c1tlXSYmZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IodCBpbiB0aGlzLl9ldmVudHMpInJlbW92ZUxpc3RlbmVyIiE9PXQmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKHQpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygicmVtb3ZlTGlzdGVuZXIiKSx0aGlzLl9ldmVudHM9e30sdGhpc31pZihzKGk9dGhpcy5fZXZlbnRzW2VdKSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsaSk7ZWxzZSBpZihpKWZvcig7aS5sZW5ndGg7KXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxpW2kubGVuZ3RoLTFdKTtyZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzfSxpLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzW2VdP3ModGhpcy5fZXZlbnRzW2VdKT9bdGhpcy5fZXZlbnRzW2VdXTp0aGlzLl9ldmVudHNbZV0uc2xpY2UoKTpbXX0saS5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlKXtpZih0aGlzLl9ldmVudHMpe3ZhciB0PXRoaXMuX2V2ZW50c1tlXTtpZihzKHQpKXJldHVybiAxO2lmKHQpcmV0dXJuIHQubGVuZ3RofXJldHVybiAwfSxpLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5saXN0ZW5lckNvdW50KHQpfX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57VVNFUl9BR0VOVDplKyIvIit0LFNJUDoic2lwIixTSVBTOiJzaXBzIixjYXVzZXM6e0NPTk5FQ1RJT05fRVJST1I6IkNvbm5lY3Rpb24gRXJyb3IiLFJFUVVFU1RfVElNRU9VVDoiUmVxdWVzdCBUaW1lb3V0IixTSVBfRkFJTFVSRV9DT0RFOiJTSVAgRmFpbHVyZSBDb2RlIixJTlRFUk5BTF9FUlJPUjoiSW50ZXJuYWwgRXJyb3IiLEJVU1k6IkJ1c3kiLFJFSkVDVEVEOiJSZWplY3RlZCIsUkVESVJFQ1RFRDoiUmVkaXJlY3RlZCIsVU5BVkFJTEFCTEU6IlVuYXZhaWxhYmxlIixOT1RfRk9VTkQ6Ik5vdCBGb3VuZCIsQUREUkVTU19JTkNPTVBMRVRFOiJBZGRyZXNzIEluY29tcGxldGUiLElOQ09NUEFUSUJMRV9TRFA6IkluY29tcGF0aWJsZSBTRFAiLEFVVEhFTlRJQ0FUSU9OX0VSUk9SOiJBdXRoZW50aWNhdGlvbiBFcnJvciIsRElBTE9HX0VSUk9SOiJEaWFsb2cgRXJyb3IiLFdFQlJUQ19OT1RfU1VQUE9SVEVEOiJXZWJSVEMgTm90IFN1cHBvcnRlZCIsV0VCUlRDX0VSUk9SOiJXZWJSVEMgRXJyb3IiLENBTkNFTEVEOiJDYW5jZWxlZCIsTk9fQU5TV0VSOiJObyBBbnN3ZXIiLEVYUElSRVM6IkV4cGlyZXMiLE5PX0FDSzoiTm8gQUNLIixOT19QUkFDSzoiTm8gUFJBQ0siLFVTRVJfREVOSUVEX01FRElBX0FDQ0VTUzoiVXNlciBEZW5pZWQgTWVkaWEgQWNjZXNzIixCQURfTUVESUFfREVTQ1JJUFRJT046IkJhZCBNZWRpYSBEZXNjcmlwdGlvbiIsUlRQX1RJTUVPVVQ6IlJUUCBUaW1lb3V0In0sc3VwcG9ydGVkOntVTlNVUFBPUlRFRDoibm9uZSIsU1VQUE9SVEVEOiJzdXBwb3J0ZWQiLFJFUVVJUkVEOiJyZXF1aXJlZCJ9LFNJUF9FUlJPUl9DQVVTRVM6e1JFRElSRUNURUQ6WzMwMCwzMDEsMzAyLDMwNSwzODBdLEJVU1k6WzQ4Niw2MDBdLFJFSkVDVEVEOls0MDMsNjAzXSxOT1RfRk9VTkQ6WzQwNCw2MDRdLFVOQVZBSUxBQkxFOls0ODAsNDEwLDQwOCw0MzBdLEFERFJFU1NfSU5DT01QTEVURTpbNDg0XSxJTkNPTVBBVElCTEVfU0RQOls0ODgsNjA2XSxBVVRIRU5USUNBVElPTl9FUlJPUjpbNDAxLDQwN119LEFDSzoiQUNLIixCWUU6IkJZRSIsQ0FOQ0VMOiJDQU5DRUwiLElORk86IklORk8iLElOVklURToiSU5WSVRFIixNRVNTQUdFOiJNRVNTQUdFIixOT1RJRlk6Ik5PVElGWSIsT1BUSU9OUzoiT1BUSU9OUyIsUkVHSVNURVI6IlJFR0lTVEVSIixVUERBVEU6IlVQREFURSIsU1VCU0NSSUJFOiJTVUJTQ1JJQkUiLFBVQkxJU0g6IlBVQkxJU0giLFJFRkVSOiJSRUZFUiIsUFJBQ0s6IlBSQUNLIixSRUFTT05fUEhSQVNFOnsxMDA6IlRyeWluZyIsMTgwOiJSaW5naW5nIiwxODE6IkNhbGwgSXMgQmVpbmcgRm9yd2FyZGVkIiwxODI6IlF1ZXVlZCIsMTgzOiJTZXNzaW9uIFByb2dyZXNzIiwxOTk6IkVhcmx5IERpYWxvZyBUZXJtaW5hdGVkIiwyMDA6Ik9LIiwyMDI6IkFjY2VwdGVkIiwyMDQ6Ik5vIE5vdGlmaWNhdGlvbiIsMzAwOiJNdWx0aXBsZSBDaG9pY2VzIiwzMDE6Ik1vdmVkIFBlcm1hbmVudGx5IiwzMDI6Ik1vdmVkIFRlbXBvcmFyaWx5IiwzMDU6IlVzZSBQcm94eSIsMzgwOiJBbHRlcm5hdGl2ZSBTZXJ2aWNlIiw0MDA6IkJhZCBSZXF1ZXN0Iiw0MDE6IlVuYXV0aG9yaXplZCIsNDAyOiJQYXltZW50IFJlcXVpcmVkIiw0MDM6IkZvcmJpZGRlbiIsNDA0OiJOb3QgRm91bmQiLDQwNToiTWV0aG9kIE5vdCBBbGxvd2VkIiw0MDY6Ik5vdCBBY2NlcHRhYmxlIiw0MDc6IlByb3h5IEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkIiw0MDg6IlJlcXVlc3QgVGltZW91dCIsNDEwOiJHb25lIiw0MTI6IkNvbmRpdGlvbmFsIFJlcXVlc3QgRmFpbGVkIiw0MTM6IlJlcXVlc3QgRW50aXR5IFRvbyBMYXJnZSIsNDE0OiJSZXF1ZXN0LVVSSSBUb28gTG9uZyIsNDE1OiJVbnN1cHBvcnRlZCBNZWRpYSBUeXBlIiw0MTY6IlVuc3VwcG9ydGVkIFVSSSBTY2hlbWUiLDQxNzoiVW5rbm93biBSZXNvdXJjZS1Qcmlvcml0eSIsNDIwOiJCYWQgRXh0ZW5zaW9uIiw0MjE6IkV4dGVuc2lvbiBSZXF1aXJlZCIsNDIyOiJTZXNzaW9uIEludGVydmFsIFRvbyBTbWFsbCIsNDIzOiJJbnRlcnZhbCBUb28gQnJpZWYiLDQyODoiVXNlIElkZW50aXR5IEhlYWRlciIsNDI5OiJQcm92aWRlIFJlZmVycmVyIElkZW50aXR5Iiw0MzA6IkZsb3cgRmFpbGVkIiw0MzM6IkFub255bWl0eSBEaXNhbGxvd2VkIiw0MzY6IkJhZCBJZGVudGl0eS1JbmZvIiw0Mzc6IlVuc3VwcG9ydGVkIENlcnRpZmljYXRlIiw0Mzg6IkludmFsaWQgSWRlbnRpdHkgSGVhZGVyIiw0Mzk6IkZpcnN0IEhvcCBMYWNrcyBPdXRib3VuZCBTdXBwb3J0Iiw0NDA6Ik1heC1CcmVhZHRoIEV4Y2VlZGVkIiw0Njk6IkJhZCBJbmZvIFBhY2thZ2UiLDQ3MDoiQ29uc2VudCBOZWVkZWQiLDQ3ODoiVW5yZXNvbHZhYmxlIERlc3RpbmF0aW9uIiw0ODA6IlRlbXBvcmFyaWx5IFVuYXZhaWxhYmxlIiw0ODE6IkNhbGwvVHJhbnNhY3Rpb24gRG9lcyBOb3QgRXhpc3QiLDQ4MjoiTG9vcCBEZXRlY3RlZCIsNDgzOiJUb28gTWFueSBIb3BzIiw0ODQ6IkFkZHJlc3MgSW5jb21wbGV0ZSIsNDg1OiJBbWJpZ3VvdXMiLDQ4NjoiQnVzeSBIZXJlIiw0ODc6IlJlcXVlc3QgVGVybWluYXRlZCIsNDg4OiJOb3QgQWNjZXB0YWJsZSBIZXJlIiw0ODk6IkJhZCBFdmVudCIsNDkxOiJSZXF1ZXN0IFBlbmRpbmciLDQ5MzoiVW5kZWNpcGhlcmFibGUiLDQ5NDoiU2VjdXJpdHkgQWdyZWVtZW50IFJlcXVpcmVkIiw1MDA6IkludGVybmFsIFNlcnZlciBFcnJvciIsNTAxOiJOb3QgSW1wbGVtZW50ZWQiLDUwMjoiQmFkIEdhdGV3YXkiLDUwMzoiU2VydmljZSBVbmF2YWlsYWJsZSIsNTA0OiJTZXJ2ZXIgVGltZS1vdXQiLDUwNToiVmVyc2lvbiBOb3QgU3VwcG9ydGVkIiw1MTM6Ik1lc3NhZ2UgVG9vIExhcmdlIiw1ODA6IlByZWNvbmRpdGlvbiBGYWlsdXJlIiw2MDA6IkJ1c3kgRXZlcnl3aGVyZSIsNjAzOiJEZWNsaW5lIiw2MDQ6IkRvZXMgTm90IEV4aXN0IEFueXdoZXJlIiw2MDY6Ik5vdCBBY2NlcHRhYmxlIn0sT1BUSU9OX1RBR1M6eyIxMDByZWwiOiEwLDE5OTohMCxhbnN3ZXJtb2RlOiEwLCJlYXJseS1zZXNzaW9uIjohMCxldmVudGxpc3Q6ITAsZXhwbGljaXRzdWI6ITAsImZyb20tY2hhbmdlIjohMCwiZ2VvbG9jYXRpb24taHR0cCI6ITAsImdlb2xvY2F0aW9uLXNpcCI6ITAsZ2luOiEwLGdydXU6ITAsaGlzdGluZm86ITAsaWNlOiEwLGpvaW46ITAsIm11bHRpcGxlLXJlZmVyIjohMCxub3JlZmVyc3ViOiEwLG5vc3ViOiEwLG91dGJvdW5kOiEwLHBhdGg6ITAscG9saWN5OiEwLHByZWNvbmRpdGlvbjohMCxwcmVmOiEwLHByaXZhY3k6ITAsInJlY2lwaWVudC1saXN0LWludml0ZSI6ITAsInJlY2lwaWVudC1saXN0LW1lc3NhZ2UiOiEwLCJyZWNpcGllbnQtbGlzdC1zdWJzY3JpYmUiOiEwLHJlcGxhY2VzOiEwLCJyZXNvdXJjZS1wcmlvcml0eSI6ITAsInNkcC1hbmF0IjohMCwic2VjLWFncmVlIjohMCx0ZGlhbG9nOiEwLHRpbWVyOiEwLHV1aTohMH0sZHRtZlR5cGU6e0lORk86ImluZm8iLFJUUDoicnRwIn19fX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9e0NvbmZpZ3VyYXRpb25FcnJvcjpmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUsdCl7dGhpcy5jb2RlPTEsdGhpcy5uYW1lPSJDT05GSUdVUkFUSU9OX0VSUk9SIix0aGlzLnBhcmFtZXRlcj1lLHRoaXMudmFsdWU9dCx0aGlzLm1lc3NhZ2U9dGhpcy52YWx1ZT8iSW52YWxpZCB2YWx1ZSAiK0pTT04uc3RyaW5naWZ5KHRoaXMudmFsdWUpKycgZm9yIHBhcmFtZXRlciAiJyt0aGlzLnBhcmFtZXRlcisnIic6Ik1pc3NpbmcgcGFyYW1ldGVyOiAiK3RoaXMucGFyYW1ldGVyfTtyZXR1cm4gZS5wcm90b3R5cGU9bmV3IEVycm9yLGV9KCksSW52YWxpZFN0YXRlRXJyb3I6ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihlKXt0aGlzLmNvZGU9Mix0aGlzLm5hbWU9IklOVkFMSURfU1RBVEVfRVJST1IiLHRoaXMuc3RhdHVzPWUsdGhpcy5tZXNzYWdlPSJJbnZhbGlkIHN0YXR1czogIitlfTtyZXR1cm4gZS5wcm90b3R5cGU9bmV3IEVycm9yLGV9KCksTm90U3VwcG9ydGVkRXJyb3I6ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihlKXt0aGlzLmNvZGU9Myx0aGlzLm5hbWU9Ik5PVF9TVVBQT1JURURfRVJST1IiLHRoaXMubWVzc2FnZT1lfTtyZXR1cm4gZS5wcm90b3R5cGU9bmV3IEVycm9yLGV9KCksR2V0RGVzY3JpcHRpb25FcnJvcjpmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUpe3RoaXMuY29kZT00LHRoaXMubmFtZT0iR0VUX0RFU0NSSVBUSU9OX0VSUk9SIix0aGlzLm1lc3NhZ2U9ZX07cmV0dXJuIGUucHJvdG90eXBlPW5ldyBFcnJvcixlfSgpLFJlbmVnb3RpYXRpb25FcnJvcjpmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUpe3RoaXMuY29kZT01LHRoaXMubmFtZT0iUkVORUdPVElBVElPTl9FUlJPUiIsdGhpcy5tZXNzYWdlPWV9O3JldHVybiBlLnByb3RvdHlwZT1uZXcgRXJyb3IsZX0oKSxNZXRob2RQYXJhbWV0ZXJFcnJvcjpmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUsdCxpKXt0aGlzLmNvZGU9Nix0aGlzLm5hbWU9Ik1FVEhPRF9QQVJBTUVURVJfRVJST1IiLHRoaXMubWV0aG9kPWUsdGhpcy5wYXJhbWV0ZXI9dCx0aGlzLnZhbHVlPWksdGhpcy5tZXNzYWdlPXRoaXMudmFsdWU/IkludmFsaWQgdmFsdWUgIitKU09OLnN0cmluZ2lmeSh0aGlzLnZhbHVlKSsnIGZvciBwYXJhbWV0ZXIgIicrdGhpcy5wYXJhbWV0ZXIrJyInOiJNaXNzaW5nIHBhcmFtZXRlcjogIit0aGlzLnBhcmFtZXRlcn07cmV0dXJuIGUucHJvdG90eXBlPW5ldyBFcnJvcixlfSgpLFRyYW5zcG9ydEVycm9yOmZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7dGhpcy5jb2RlPTcsdGhpcy5uYW1lPSJUUkFOU1BPUlRfRVJST1IiLHRoaXMubWVzc2FnZT1lfTtyZXR1cm4gZS5wcm90b3R5cGU9bmV3IEVycm9yLGV9KCksU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yOmZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSx0LGkpe3RoaXMuY29kZT04LHRoaXMubmFtZT0iU0VTU0lPTl9ERVNDUklQVElPTl9IQU5ETEVSX0VSUk9SIix0aGlzLm1ldGhvZD1lLHRoaXMuZXJyb3I9dCx0aGlzLm1lc3NhZ2U9aXx8IkVycm9yIHdpdGggU2Vzc2lvbiBEZXNjcmlwdGlvbiBIYW5kbGVyIn07cmV0dXJuIGUucHJvdG90eXBlPW5ldyBFcnJvcixlfSgpfX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcz01MDA7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtUMTpzLFQyOjRlMyxUNDo1ZTMsVElNRVJfQjozMmUzLFRJTUVSX0Q6MCxUSU1FUl9GOjMyZTMsVElNRVJfSDozMmUzLFRJTUVSX0k6MCxUSU1FUl9KOjAsVElNRVJfSzowLFRJTUVSX0w6MzJlMyxUSU1FUl9NOjMyZTMsVElNRVJfTjozMmUzLFBST1ZJU0lPTkFMX1JFU1BPTlNFX0lOVEVSVkFMOjZlNH07cmV0dXJuWyJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0Iiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIl0uZm9yRWFjaChmdW5jdGlvbihpKXt0W2ldPWZ1bmN0aW9uKCl7cmV0dXJuIGVbaV0uYXBwbHkoZSxhcmd1bWVudHMpfX0pLHR9fSxmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdDtmdW5jdGlvbiBpKGUsdCl7dmFyIGk9dCxzPTAscj0wO2lmKGUuc3Vic3RyaW5nKGksaSsyKS5tYXRjaCgvKF5cclxuKS8pKXJldHVybi0yO2Zvcig7MD09PXM7KXtpZigtMT09PShyPWUuaW5kZXhPZigiXHJcbiIsaSkpKXJldHVybiByOyFlLnN1YnN0cmluZyhyKzIscis0KS5tYXRjaCgvKF5cclxuKS8pJiZlLmNoYXJBdChyKzIpLm1hdGNoKC8oXlxzKykvKT9pPXIrMjpzPXJ9cmV0dXJuIHN9ZnVuY3Rpb24gcyh0LGkscyxyKXt2YXIgbixvLGEsYyxoPWkuaW5kZXhPZigiOiIscyksdT1pLnN1YnN0cmluZyhzLGgpLnRyaW0oKSxsPWkuc3Vic3RyaW5nKGgrMSxyKS50cmltKCk7c3dpdGNoKHUudG9Mb3dlckNhc2UoKSl7Y2FzZSJ2aWEiOmNhc2UidiI6dC5hZGRIZWFkZXIoInZpYSIsbCksMT09PXQuZ2V0SGVhZGVycygidmlhIikubGVuZ3RoPyhjPXQucGFyc2VIZWFkZXIoIlZpYSIpKSYmKHQudmlhPWMsdC52aWFfYnJhbmNoPWMuYnJhbmNoKTpjPTA7YnJlYWs7Y2FzZSJmcm9tIjpjYXNlImYiOnQuc2V0SGVhZGVyKCJmcm9tIixsKSwoYz10LnBhcnNlSGVhZGVyKCJmcm9tIikpJiYodC5mcm9tPWMsdC5mcm9tX3RhZz1jLmdldFBhcmFtKCJ0YWciKSk7YnJlYWs7Y2FzZSJ0byI6Y2FzZSJ0Ijp0LnNldEhlYWRlcigidG8iLGwpLChjPXQucGFyc2VIZWFkZXIoInRvIikpJiYodC50bz1jLHQudG9fdGFnPWMuZ2V0UGFyYW0oInRhZyIpKTticmVhaztjYXNlInJlY29yZC1yb3V0ZSI6aWYoLTE9PT0oYz1lLkdyYW1tYXIucGFyc2UobCwiUmVjb3JkX1JvdXRlIikpKXtjPXZvaWQgMDticmVha31mb3IoYT1jLmxlbmd0aCxvPTA7bzxhO28rKyluPWNbb10sdC5hZGRIZWFkZXIoInJlY29yZC1yb3V0ZSIsbC5zdWJzdHJpbmcobi5wb3NpdGlvbixuLm9mZnNldCkpLHQuaGVhZGVyc1siUmVjb3JkLVJvdXRlIl1bdC5nZXRIZWFkZXJzKCJyZWNvcmQtcm91dGUiKS5sZW5ndGgtMV0ucGFyc2VkPW4ucGFyc2VkO2JyZWFrO2Nhc2UiY2FsbC1pZCI6Y2FzZSJpIjp0LnNldEhlYWRlcigiY2FsbC1pZCIsbCksKGM9dC5wYXJzZUhlYWRlcigiY2FsbC1pZCIpKSYmKHQuY2FsbF9pZD1sKTticmVhaztjYXNlImNvbnRhY3QiOmNhc2UibSI6aWYoLTE9PT0oYz1lLkdyYW1tYXIucGFyc2UobCwiQ29udGFjdCIpKSl7Yz12b2lkIDA7YnJlYWt9Zm9yKGE9Yy5sZW5ndGgsbz0wO288YTtvKyspbj1jW29dLHQuYWRkSGVhZGVyKCJjb250YWN0IixsLnN1YnN0cmluZyhuLnBvc2l0aW9uLG4ub2Zmc2V0KSksdC5oZWFkZXJzLkNvbnRhY3RbdC5nZXRIZWFkZXJzKCJjb250YWN0IikubGVuZ3RoLTFdLnBhcnNlZD1uLnBhcnNlZDticmVhaztjYXNlImNvbnRlbnQtbGVuZ3RoIjpjYXNlImwiOnQuc2V0SGVhZGVyKCJjb250ZW50LWxlbmd0aCIsbCksYz10LnBhcnNlSGVhZGVyKCJjb250ZW50LWxlbmd0aCIpO2JyZWFrO2Nhc2UiY29udGVudC10eXBlIjpjYXNlImMiOnQuc2V0SGVhZGVyKCJjb250ZW50LXR5cGUiLGwpLGM9dC5wYXJzZUhlYWRlcigiY29udGVudC10eXBlIik7YnJlYWs7Y2FzZSJjc2VxIjp0LnNldEhlYWRlcigiY3NlcSIsbCksKGM9dC5wYXJzZUhlYWRlcigiY3NlcSIpKSYmKHQuY3NlcT1jLnZhbHVlKSx0IGluc3RhbmNlb2YgZS5JbmNvbWluZ1Jlc3BvbnNlJiYodC5tZXRob2Q9Yy5tZXRob2QpO2JyZWFrO2Nhc2UibWF4LWZvcndhcmRzIjp0LnNldEhlYWRlcigibWF4LWZvcndhcmRzIixsKSxjPXQucGFyc2VIZWFkZXIoIm1heC1mb3J3YXJkcyIpO2JyZWFrO2Nhc2Uid3d3LWF1dGhlbnRpY2F0ZSI6dC5zZXRIZWFkZXIoInd3dy1hdXRoZW50aWNhdGUiLGwpLGM9dC5wYXJzZUhlYWRlcigid3d3LWF1dGhlbnRpY2F0ZSIpO2JyZWFrO2Nhc2UicHJveHktYXV0aGVudGljYXRlIjp0LnNldEhlYWRlcigicHJveHktYXV0aGVudGljYXRlIixsKSxjPXQucGFyc2VIZWFkZXIoInByb3h5LWF1dGhlbnRpY2F0ZSIpO2JyZWFrO2Nhc2UicmVmZXItdG8iOmNhc2UiciI6dC5zZXRIZWFkZXIoInJlZmVyLXRvIixsKSwoYz10LnBhcnNlSGVhZGVyKCJyZWZlci10byIpKSYmKHQucmVmZXJfdG89Yyk7YnJlYWs7ZGVmYXVsdDp0LnNldEhlYWRlcih1LGwpLGM9MH1yZXR1cm4gdm9pZCAwIT09Y3x8e2Vycm9yOidlcnJvciBwYXJzaW5nIGhlYWRlciAiJyt1KyciJ319KHQ9e30pLnBhcnNlTWVzc2FnZT1mdW5jdGlvbih0LHIpe3ZhciBuLG8sYSxjLGgsdT0wLGw9dC5pbmRleE9mKCJcclxuIiksZD1yLmdldExvZ2dlcigic2lwLnBhcnNlciIpO2lmKC0xIT09bCl7aWYobz10LnN1YnN0cmluZygwLGwpLC0xIT09KGg9ZS5HcmFtbWFyLnBhcnNlKG8sIlJlcXVlc3RfUmVzcG9uc2UiKSkpe2ZvcihoLnN0YXR1c19jb2RlPygobj1uZXcgZS5JbmNvbWluZ1Jlc3BvbnNlKHIpKS5zdGF0dXNfY29kZT1oLnN0YXR1c19jb2RlLG4ucmVhc29uX3BocmFzZT1oLnJlYXNvbl9waHJhc2UpOigobj1uZXcgZS5JbmNvbWluZ1JlcXVlc3QocikpLm1ldGhvZD1oLm1ldGhvZCxuLnJ1cmk9aC51cmkpLG4uZGF0YT10LHU9bCsyOzspe2lmKC0yPT09KGw9aSh0LHUpKSl7Yz11KzI7YnJlYWt9aWYoLTE9PT1sKXJldHVybiB2b2lkIGQuZXJyb3IoIm1hbGZvcm1lZCBtZXNzYWdlIik7aWYoITAhPT0oaD1zKG4sdCx1LGwpKSlyZXR1cm4gdm9pZCBkLmVycm9yKGguZXJyb3IpO3U9bCsyfXJldHVybiBuLmhhc0hlYWRlcigiY29udGVudC1sZW5ndGgiKT8oYT1uLmdldEhlYWRlcigiY29udGVudC1sZW5ndGgiKSxuLmJvZHk9dC5zdWJzdHIoYyxhKSk6bi5ib2R5PXQuc3Vic3RyaW5nKGMpLG59ZC53YXJuKCdlcnJvciBwYXJzaW5nIGZpcnN0IGxpbmUgb2YgU0lQIG1lc3NhZ2U6ICInK28rJyInKX1lbHNlIGQud2Fybigibm8gQ1JMRiBmb3VuZCwgbm90IGEgU0lQIG1lc3NhZ2UsIGRpc2NhcmRlZCIpfSxlLlBhcnNlcj10fX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQsaSxzLHI7ZnVuY3Rpb24gbih0KXt2YXIgaT10LnVhLmNvbmZpZ3VyYXRpb24uaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFncyxzPVtdLHI9e307cmV0dXJuIHQubWV0aG9kPT09ZS5DLlJFR0lTVEVSP3MucHVzaCgicGF0aCIsImdydXUiKTp0Lm1ldGhvZD09PWUuQy5JTlZJVEUmJih0LnVhLmNvbnRhY3QucHViX2dydXV8fHQudWEuY29udGFjdC50ZW1wX2dydXUpJiZzLnB1c2goImdydXUiKSx0LnVhLmNvbmZpZ3VyYXRpb24ucmVsMTAwPT09ZS5DLnN1cHBvcnRlZC5TVVBQT1JURUQmJnMucHVzaCgiMTAwcmVsIiksdC51YS5jb25maWd1cmF0aW9uLnJlcGxhY2VzPT09ZS5DLnN1cHBvcnRlZC5TVVBQT1JURUQmJnMucHVzaCgicmVwbGFjZXMiKSxzLnB1c2goIm91dGJvdW5kIiksIlN1cHBvcnRlZDogIisocz0ocz1zLmNvbmNhdCh0LnVhLmNvbmZpZ3VyYXRpb24uZXh0cmFTdXBwb3J0ZWQpKS5maWx0ZXIoZnVuY3Rpb24odCl7dmFyIHM9ZS5DLk9QVElPTl9UQUdTW3RdLG49IXJbdF07cmV0dXJuIHJbdF09ITAsKHN8fGkpJiZufSkpLmpvaW4oIiwgIikrIlxyXG4ifSh0PWZ1bmN0aW9uKHQsaSxzLHIsbixvKXt2YXIgYSxjLGgsdSxsLGQ7aWYocj1yfHx7fSwhdHx8IWl8fCFzKXJldHVybiBudWxsO3RoaXMubG9nZ2VyPXMuZ2V0TG9nZ2VyKCJzaXAuc2lwbWVzc2FnZSIpLHRoaXMudWE9cyx0aGlzLmhlYWRlcnM9e30sdGhpcy5tZXRob2Q9dCx0aGlzLnJ1cmk9aSx0aGlzLmJvZHk9byx0aGlzLmV4dHJhSGVhZGVycz0obnx8W10pLnNsaWNlKCksdGhpcy5zdGF0dXNDb2RlPXIuc3RhdHVzX2NvZGUsdGhpcy5yZWFzb25QaHJhc2U9ci5yZWFzb25fcGhyYXNlLHIucm91dGVfc2V0P3RoaXMuc2V0SGVhZGVyKCJyb3V0ZSIsci5yb3V0ZV9zZXQpOnMuY29uZmlndXJhdGlvbi51c2VQcmVsb2FkZWRSb3V0ZSYmdGhpcy5zZXRIZWFkZXIoInJvdXRlIixzLnRyYW5zcG9ydC5zZXJ2ZXIuc2lwX3VyaSksdGhpcy5zZXRIZWFkZXIoInZpYSIsIiIpLHRoaXMuc2V0SGVhZGVyKCJtYXgtZm9yd2FyZHMiLGUuVUEuQy5NQVhfRk9SV0FSRFMpLGw9ci50b191cml8fGksYT1yLnRvX2Rpc3BsYXlOYW1lfHwwPT09ci50b19kaXNwbGF5TmFtZT8nIicrci50b19kaXNwbGF5TmFtZSsnIiAnOiIiLGErPSI8IisobCYmbC50b1Jhdz9sLnRvUmF3KCk6bCkrIj4iLGErPXIudG9fdGFnPyI7dGFnPSIrci50b190YWc6IiIsdGhpcy50bz1uZXcgZS5OYW1lQWRkckhlYWRlci5wYXJzZShhKSx0aGlzLnNldEhlYWRlcigidG8iLGEpLGQ9ci5mcm9tX3VyaXx8cy5jb25maWd1cmF0aW9uLnVyaSxjPXIuZnJvbV9kaXNwbGF5TmFtZXx8MD09PXIuZnJvbV9kaXNwbGF5TmFtZT8nIicrci5mcm9tX2Rpc3BsYXlOYW1lKyciICc6cy5jb25maWd1cmF0aW9uLmRpc3BsYXlOYW1lPyciJytzLmNvbmZpZ3VyYXRpb24uZGlzcGxheU5hbWUrJyIgJzoiIixjKz0iPCIrKGQmJmQudG9SYXc/ZC50b1JhdygpOmQpKyI+O3RhZz0iLGMrPXIuZnJvbV90YWd8fGUuVXRpbHMubmV3VGFnKCksdGhpcy5mcm9tPW5ldyBlLk5hbWVBZGRySGVhZGVyLnBhcnNlKGMpLHRoaXMuc2V0SGVhZGVyKCJmcm9tIixjKSxoPXIuY2FsbF9pZHx8cy5jb25maWd1cmF0aW9uLnNpcGpzSWQrZS5VdGlscy5jcmVhdGVSYW5kb21Ub2tlbigxNSksdGhpcy5jYWxsX2lkPWgsdGhpcy5zZXRIZWFkZXIoImNhbGwtaWQiLGgpLHU9ci5jc2VxfHxNYXRoLmZsb29yKDFlNCpNYXRoLnJhbmRvbSgpKSx0aGlzLmNzZXE9dSx0aGlzLnNldEhlYWRlcigiY3NlcSIsdSsiICIrdCl9KS5wcm90b3R5cGU9e3NldEhlYWRlcjpmdW5jdGlvbih0LGkpe3RoaXMuaGVhZGVyc1tlLlV0aWxzLmhlYWRlcml6ZSh0KV09aSBpbnN0YW5jZW9mIEFycmF5P2k6W2ldfSxnZXRIZWFkZXI6ZnVuY3Rpb24odCl7dmFyIGkscyxyPXRoaXMuZXh0cmFIZWFkZXJzLmxlbmd0aCxuPXRoaXMuaGVhZGVyc1tlLlV0aWxzLmhlYWRlcml6ZSh0KV07aWYobil7aWYoblswXSlyZXR1cm4gblswXX1lbHNlIGZvcihpPW5ldyBSZWdFeHAoIl5cXHMqIit0KyJcXHMqOiIsImkiKSxzPTA7czxyO3MrKylpZihuPXRoaXMuZXh0cmFIZWFkZXJzW3NdLGkudGVzdChuKSlyZXR1cm4gbi5zdWJzdHJpbmcobi5pbmRleE9mKCI6IikrMSkudHJpbSgpfSxnZXRIZWFkZXJzOmZ1bmN0aW9uKHQpe3ZhciBpLHMscixuPXRoaXMuaGVhZGVyc1tlLlV0aWxzLmhlYWRlcml6ZSh0KV0sbz1bXTtpZihuKXtmb3Iocz1uLmxlbmd0aCxpPTA7aTxzO2krKylvLnB1c2gobltpXSk7cmV0dXJuIG99Zm9yKHM9dGhpcy5leHRyYUhlYWRlcnMubGVuZ3RoLHI9bmV3IFJlZ0V4cCgiXlxccyoiK3QrIlxccyo6IiwiaSIpLGk9MDtpPHM7aSsrKW49dGhpcy5leHRyYUhlYWRlcnNbaV0sci50ZXN0KG4pJiZvLnB1c2gobi5zdWJzdHJpbmcobi5pbmRleE9mKCI6IikrMSkudHJpbSgpKTtyZXR1cm4gb30saGFzSGVhZGVyOmZ1bmN0aW9uKHQpe3ZhciBpLHMscj10aGlzLmV4dHJhSGVhZGVycy5sZW5ndGg7aWYodGhpcy5oZWFkZXJzW2UuVXRpbHMuaGVhZGVyaXplKHQpXSlyZXR1cm4hMDtmb3IoaT1uZXcgUmVnRXhwKCJeXFxzKiIrdCsiXFxzKjoiLCJpIikscz0wO3M8cjtzKyspaWYoaS50ZXN0KHRoaXMuZXh0cmFIZWFkZXJzW3NdKSlyZXR1cm4hMDtyZXR1cm4hMX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdCxpLHMscj0iIjtmb3IodCBpbiByKz10aGlzLm1ldGhvZCsiICIrKHRoaXMucnVyaS50b1Jhdz90aGlzLnJ1cmkudG9SYXcoKTp0aGlzLnJ1cmkpKyIgU0lQLzIuMFxyXG4iLHRoaXMuaGVhZGVycylmb3IoaT10aGlzLmhlYWRlcnNbdF0ubGVuZ3RoLHM9MDtzPGk7cysrKXIrPXQrIjogIit0aGlzLmhlYWRlcnNbdF1bc10rIlxyXG4iO2ZvcihpPXRoaXMuZXh0cmFIZWFkZXJzLmxlbmd0aCxzPTA7czxpO3MrKylyKz10aGlzLmV4dHJhSGVhZGVyc1tzXS50cmltKCkrIlxyXG4iO3JldHVybiByKz1uKHRoaXMpLHIrPSJVc2VyLUFnZW50OiAiK3RoaXMudWEuY29uZmlndXJhdGlvbi51c2VyQWdlbnRTdHJpbmcrIlxyXG4iLHRoaXMuYm9keT8ic3RyaW5nIj09dHlwZW9mIHRoaXMuYm9keT8ocis9IkNvbnRlbnQtTGVuZ3RoOiAiKyhpPWUuVXRpbHMuc3RyX3V0ZjhfbGVuZ3RoKHRoaXMuYm9keSkpKyJcclxuXHJcbiIscis9dGhpcy5ib2R5KTp0aGlzLmJvZHkuYm9keSYmdGhpcy5ib2R5LmNvbnRlbnRUeXBlPyhpPWUuVXRpbHMuc3RyX3V0ZjhfbGVuZ3RoKHRoaXMuYm9keS5ib2R5KSxyKz0iQ29udGVudC1UeXBlOiAiK3RoaXMuYm9keS5jb250ZW50VHlwZSsiXHJcbiIscis9IkNvbnRlbnQtTGVuZ3RoOiAiK2krIlxyXG5cclxuIixyKz10aGlzLmJvZHkuYm9keSk6cis9IkNvbnRlbnQtTGVuZ3RoOiAwXHJcblxyXG4iOnIrPSJDb250ZW50LUxlbmd0aDogMFxyXG5cclxuIixyfX0sKGk9ZnVuY3Rpb24oKXt0aGlzLmRhdGE9bnVsbCx0aGlzLmhlYWRlcnM9bnVsbCx0aGlzLm1ldGhvZD1udWxsLHRoaXMudmlhPW51bGwsdGhpcy52aWFfYnJhbmNoPW51bGwsdGhpcy5jYWxsX2lkPW51bGwsdGhpcy5jc2VxPW51bGwsdGhpcy5mcm9tPW51bGwsdGhpcy5mcm9tX3RhZz1udWxsLHRoaXMudG89bnVsbCx0aGlzLnRvX3RhZz1udWxsLHRoaXMuYm9keT1udWxsfSkucHJvdG90eXBlPXthZGRIZWFkZXI6ZnVuY3Rpb24odCxpKXt2YXIgcz17cmF3Oml9O3Q9ZS5VdGlscy5oZWFkZXJpemUodCksdGhpcy5oZWFkZXJzW3RdP3RoaXMuaGVhZGVyc1t0XS5wdXNoKHMpOnRoaXMuaGVhZGVyc1t0XT1bc119LGdldEhlYWRlcjpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmhlYWRlcnNbZS5VdGlscy5oZWFkZXJpemUodCldO2lmKGkpcmV0dXJuIGlbMF0/aVswXS5yYXc6dm9pZCAwfSxnZXRIZWFkZXJzOmZ1bmN0aW9uKHQpe3ZhciBpLHMscj10aGlzLmhlYWRlcnNbZS5VdGlscy5oZWFkZXJpemUodCldLG49W107aWYoIXIpcmV0dXJuW107Zm9yKHM9ci5sZW5ndGgsaT0wO2k8cztpKyspbi5wdXNoKHJbaV0ucmF3KTtyZXR1cm4gbn0saGFzSGVhZGVyOmZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5oZWFkZXJzW2UuVXRpbHMuaGVhZGVyaXplKHQpXX0scGFyc2VIZWFkZXI6ZnVuY3Rpb24odCxpKXt2YXIgcyxyLG47aWYodD1lLlV0aWxzLmhlYWRlcml6ZSh0KSxpPWl8fDAsdGhpcy5oZWFkZXJzW3RdKXtpZighKGk+PXRoaXMuaGVhZGVyc1t0XS5sZW5ndGgpKXJldHVybiByPShzPXRoaXMuaGVhZGVyc1t0XVtpXSkucmF3LHMucGFyc2VkP3MucGFyc2VkOi0xPT09KG49ZS5HcmFtbWFyLnBhcnNlKHIsdC5yZXBsYWNlKC8tL2csIl8iKSkpPyh0aGlzLmhlYWRlcnNbdF0uc3BsaWNlKGksMSksdm9pZCB0aGlzLmxvZ2dlci53YXJuKCdlcnJvciBwYXJzaW5nICInK3QrJyIgaGVhZGVyIGZpZWxkIHdpdGggdmFsdWUgIicrcisnIicpKToocy5wYXJzZWQ9bixuKTt0aGlzLmxvZ2dlci5sb2coJ25vdCBzbyBtYW55ICInK3QrJyIgaGVhZGVycyBwcmVzZW50Jyl9ZWxzZSB0aGlzLmxvZ2dlci5sb2coJ2hlYWRlciAiJyt0KyciIG5vdCBwcmVzZW50Jyl9LHM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wYXJzZUhlYWRlcihlLHQpfSxzZXRIZWFkZXI6ZnVuY3Rpb24odCxpKXt2YXIgcz17cmF3Oml9O3RoaXMuaGVhZGVyc1tlLlV0aWxzLmhlYWRlcml6ZSh0KV09W3NdfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9fSwoKHM9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXI9ZS5nZXRMb2dnZXIoInNpcC5zaXBtZXNzYWdlIiksdGhpcy51YT1lLHRoaXMuaGVhZGVycz17fSx0aGlzLnJ1cmk9bnVsbCx0aGlzLnRyYW5zcG9ydD1udWxsLHRoaXMuc2VydmVyX3RyYW5zYWN0aW9uPW51bGx9KS5wcm90b3R5cGU9bmV3IGkpLnJlcGx5PWZ1bmN0aW9uKHQsaSxzLHIsbyxhKXt2YXIgYyxoLHUsbCxkLHA9dGhpcy5nZXRIZWFkZXIoIlRvIiksZz0wLGY9MDtpZihkPWUuVXRpbHMuYnVpbGRTdGF0dXNMaW5lKHQsaSkscz0oc3x8W10pLnNsaWNlKCksdGhpcy5tZXRob2Q9PT1lLkMuSU5WSVRFJiZ0PjEwMCYmdDw9MjAwKWZvcih1PShjPXRoaXMuZ2V0SGVhZGVycygicmVjb3JkLXJvdXRlIikpLmxlbmd0aDtnPHU7ZysrKWQrPSJSZWNvcmQtUm91dGU6ICIrY1tnXSsiXHJcbiI7Zm9yKHU9KGg9dGhpcy5nZXRIZWFkZXJzKCJ2aWEiKSkubGVuZ3RoO2Y8dTtmKyspZCs9IlZpYTogIitoW2ZdKyJcclxuIjtmb3IoIXRoaXMudG9fdGFnJiZ0PjEwMD9wKz0iO3RhZz0iK2UuVXRpbHMubmV3VGFnKCk6dGhpcy50b190YWcmJiF0aGlzLnMoInRvIikuaGFzUGFyYW0oInRhZyIpJiYocCs9Ijt0YWc9Iit0aGlzLnRvX3RhZyksZCs9IlRvOiAiK3ArIlxyXG4iLGQrPSJGcm9tOiAiK3RoaXMuZ2V0SGVhZGVyKCJGcm9tIikrIlxyXG4iLGQrPSJDYWxsLUlEOiAiK3RoaXMuY2FsbF9pZCsiXHJcbiIsZCs9IkNTZXE6ICIrdGhpcy5jc2VxKyIgIit0aGlzLm1ldGhvZCsiXHJcbiIsdT1zLmxlbmd0aCxsPTA7bDx1O2wrKylkKz1zW2xdLnRyaW0oKSsiXHJcbiI7cmV0dXJuIGQrPW4odGhpcyksZCs9IlVzZXItQWdlbnQ6ICIrdGhpcy51YS5jb25maWd1cmF0aW9uLnVzZXJBZ2VudFN0cmluZysiXHJcbiIscj8ic3RyaW5nIj09dHlwZW9mIHI/KGQrPSJDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3NkcFxyXG4iLGQrPSJDb250ZW50LUxlbmd0aDogIisodT1lLlV0aWxzLnN0cl91dGY4X2xlbmd0aChyKSkrIlxyXG5cclxuIixkKz1yKTpyLmJvZHkmJnIuY29udGVudFR5cGU/KHU9ZS5VdGlscy5zdHJfdXRmOF9sZW5ndGgoci5ib2R5KSxkKz0iQ29udGVudC1UeXBlOiAiK3IuY29udGVudFR5cGUrIlxyXG4iLGQrPSJDb250ZW50LUxlbmd0aDogIit1KyJcclxuXHJcbiIsZCs9ci5ib2R5KTpkKz0iQ29udGVudC1MZW5ndGg6IDBcclxuXHJcbiI6ZCs9IkNvbnRlbnQtTGVuZ3RoOiAwXHJcblxyXG4iLHRoaXMuc2VydmVyX3RyYW5zYWN0aW9uLnJlY2VpdmVSZXNwb25zZSh0LGQpLnRoZW4obyxhKSxkfSxzLnByb3RvdHlwZS5yZXBseV9zbD1mdW5jdGlvbih0LGkpe3ZhciBzLHIsbj0wLG89dGhpcy5nZXRIZWFkZXJzKCJ2aWEiKSxhPW8ubGVuZ3RoO2ZvcihyPWUuVXRpbHMuYnVpbGRTdGF0dXNMaW5lKHQsaSk7bjxhO24rKylyKz0iVmlhOiAiK29bbl0rIlxyXG4iO3M9dGhpcy5nZXRIZWFkZXIoIlRvIiksIXRoaXMudG9fdGFnJiZ0PjEwMD9zKz0iO3RhZz0iK2UuVXRpbHMubmV3VGFnKCk6dGhpcy50b190YWcmJiF0aGlzLnMoInRvIikuaGFzUGFyYW0oInRhZyIpJiYocys9Ijt0YWc9Iit0aGlzLnRvX3RhZykscis9IlRvOiAiK3MrIlxyXG4iLHIrPSJGcm9tOiAiK3RoaXMuZ2V0SGVhZGVyKCJGcm9tIikrIlxyXG4iLHIrPSJDYWxsLUlEOiAiK3RoaXMuY2FsbF9pZCsiXHJcbiIscis9IkNTZXE6ICIrdGhpcy5jc2VxKyIgIit0aGlzLm1ldGhvZCsiXHJcbiIscis9IlVzZXItQWdlbnQ6ICIrdGhpcy51YS5jb25maWd1cmF0aW9uLnVzZXJBZ2VudFN0cmluZysiXHJcbiIscis9IkNvbnRlbnQtTGVuZ3RoOiAwXHJcblxyXG4iLHRoaXMudHJhbnNwb3J0LnNlbmQocil9LChyPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyPWUuZ2V0TG9nZ2VyKCJzaXAuc2lwbWVzc2FnZSIpLHRoaXMuaGVhZGVycz17fSx0aGlzLnN0YXR1c19jb2RlPW51bGwsdGhpcy5yZWFzb25fcGhyYXNlPW51bGx9KS5wcm90b3R5cGU9bmV3IGksZS5PdXRnb2luZ1JlcXVlc3Q9dCxlLkluY29taW5nUmVxdWVzdD1zLGUuSW5jb21pbmdSZXNwb25zZT1yfX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9ZnVuY3Rpb24odCxpLHMscixuLG8pe3ZhciBhLGMsaCx1O2lmKCFzKXRocm93IG5ldyBUeXBlRXJyb3IoJ21pc3Npbmcgb3IgaW52YWxpZCAiaG9zdCIgcGFyYW1ldGVyJyk7Zm9yKGEgaW4gdD10fHxlLkMuU0lQLHRoaXMucGFyYW1ldGVycz17fSx0aGlzLmhlYWRlcnM9e30sbil0aGlzLnNldFBhcmFtKGEsblthXSk7Zm9yKGMgaW4gbyl0aGlzLnNldEhlYWRlcihjLG9bY10pO2g9e3NjaGVtZTp0LHVzZXI6aSxob3N0OnMscG9ydDpyfSx1PXtzY2hlbWU6dC50b0xvd2VyQ2FzZSgpLHVzZXI6aSxob3N0OnMudG9Mb3dlckNhc2UoKSxwb3J0OnJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse19ub3JtYWw6e2dldDpmdW5jdGlvbigpe3JldHVybiB1fX0sX3Jhdzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGh9fSxzY2hlbWU6e2dldDpmdW5jdGlvbigpe3JldHVybiB1LnNjaGVtZX0sc2V0OmZ1bmN0aW9uKGUpe2guc2NoZW1lPWUsdS5zY2hlbWU9ZS50b0xvd2VyQ2FzZSgpfX0sdXNlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUudXNlcn0sc2V0OmZ1bmN0aW9uKGUpe3UudXNlcj1oLnVzZXI9ZX19LGhvc3Q6e2dldDpmdW5jdGlvbigpe3JldHVybiB1Lmhvc3R9LHNldDpmdW5jdGlvbihlKXtoLmhvc3Q9ZSx1Lmhvc3Q9ZS50b0xvd2VyQ2FzZSgpfX0sYW9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS51c2VyKyJAIit1Lmhvc3R9fSxwb3J0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS5wb3J0fSxzZXQ6ZnVuY3Rpb24oZSl7dS5wb3J0PWgucG9ydD0wPT09ZT9lOnBhcnNlSW50KGUsMTApfHxudWxsfX19KX0pLnByb3RvdHlwZT17c2V0UGFyYW06ZnVuY3Rpb24oZSx0KXtlJiYodGhpcy5wYXJhbWV0ZXJzW2UudG9Mb3dlckNhc2UoKV09dm9pZCAwPT09dHx8bnVsbD09PXQ/bnVsbDp0LnRvU3RyaW5nKCkpfSxnZXRQYXJhbTpmdW5jdGlvbihlKXtpZihlKXJldHVybiB0aGlzLnBhcmFtZXRlcnNbZS50b0xvd2VyQ2FzZSgpXX0saGFzUGFyYW06ZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4hIXRoaXMucGFyYW1ldGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpfSxkZWxldGVQYXJhbTpmdW5jdGlvbihlKXt2YXIgdDtpZihlPWUudG9Mb3dlckNhc2UoKSx0aGlzLnBhcmFtZXRlcnMuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuIHQ9dGhpcy5wYXJhbWV0ZXJzW2VdLGRlbGV0ZSB0aGlzLnBhcmFtZXRlcnNbZV0sdH0sY2xlYXJQYXJhbXM6ZnVuY3Rpb24oKXt0aGlzLnBhcmFtZXRlcnM9e319LHNldEhlYWRlcjpmdW5jdGlvbih0LGkpe3RoaXMuaGVhZGVyc1tlLlV0aWxzLmhlYWRlcml6ZSh0KV09aSBpbnN0YW5jZW9mIEFycmF5P2k6W2ldfSxnZXRIZWFkZXI6ZnVuY3Rpb24odCl7aWYodClyZXR1cm4gdGhpcy5oZWFkZXJzW2UuVXRpbHMuaGVhZGVyaXplKHQpXX0saGFzSGVhZGVyOmZ1bmN0aW9uKHQpe2lmKHQpcmV0dXJuISF0aGlzLmhlYWRlcnMuaGFzT3duUHJvcGVydHkoZS5VdGlscy5oZWFkZXJpemUodCkpfSxkZWxldGVIZWFkZXI6ZnVuY3Rpb24odCl7dmFyIGk7aWYodD1lLlV0aWxzLmhlYWRlcml6ZSh0KSx0aGlzLmhlYWRlcnMuaGFzT3duUHJvcGVydHkodCkpcmV0dXJuIGk9dGhpcy5oZWFkZXJzW3RdLGRlbGV0ZSB0aGlzLmhlYWRlcnNbdF0saX0sY2xlYXJIZWFkZXJzOmZ1bmN0aW9uKCl7dGhpcy5oZWFkZXJzPXt9fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLl9yYXcuc2NoZW1lLHRoaXMuX3Jhdy51c2VyLHRoaXMuX3Jhdy5ob3N0LHRoaXMuX3Jhdy5wb3J0LEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5wYXJhbWV0ZXJzKSksSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmhlYWRlcnMpKSl9LHRvUmF3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvU3RyaW5nKHRoaXMuX3Jhdyl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvU3RyaW5nKHRoaXMuX25vcm1hbCl9LF90b1N0cmluZzpmdW5jdGlvbih0KXt2YXIgaSxzLHIsbixvPVtdO2ZvcihzIGluIG49dC5zY2hlbWUrIjoiLHQuc2NoZW1lLnRvTG93ZXJDYXNlKCkubWF0Y2goIl5zaXBzPyQiKXx8KG4rPSIvLyIpLHQudXNlciYmKG4rPWUuVXRpbHMuZXNjYXBlVXNlcih0LnVzZXIpKyJAIiksbis9dC5ob3N0LCh0LnBvcnR8fDA9PT10LnBvcnQpJiYobis9IjoiK3QucG9ydCksdGhpcy5wYXJhbWV0ZXJzKW4rPSI7IitzLG51bGwhPT10aGlzLnBhcmFtZXRlcnNbc10mJihuKz0iPSIrdGhpcy5wYXJhbWV0ZXJzW3NdKTtmb3IoaSBpbiB0aGlzLmhlYWRlcnMpZm9yKHIgaW4gdGhpcy5oZWFkZXJzW2ldKW8ucHVzaChpKyI9Iit0aGlzLmhlYWRlcnNbaV1bcl0pO3JldHVybiBvLmxlbmd0aD4wJiYobis9Ij8iK28uam9pbigiJiIpKSxufX0sdC5wYXJzZT1mdW5jdGlvbih0KXtyZXR1cm4tMSE9PSh0PWUuR3JhbW1hci5wYXJzZSh0LCJTSVBfVVJJIikpP3Q6dm9pZCAwfSxlLlVSST10fX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9ZnVuY3Rpb24odCxpLHMpe3ZhciByO2lmKCEodCYmdCBpbnN0YW5jZW9mIGUuVVJJKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdtaXNzaW5nIG9yIGludmFsaWQgInVyaSIgcGFyYW1ldGVyJyk7Zm9yKHIgaW4gdGhpcy51cmk9dCx0aGlzLnBhcmFtZXRlcnM9e30scyl0aGlzLnNldFBhcmFtKHIsc1tyXSk7T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7ZnJpZW5kbHlOYW1lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5TmFtZXx8dC5hb3J9fSxkaXNwbGF5TmFtZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9LHNldDpmdW5jdGlvbihlKXtpPTA9PT1lPyIwIjplfX19KX0pLnByb3RvdHlwZT17c2V0UGFyYW06ZnVuY3Rpb24oZSx0KXtlJiYodGhpcy5wYXJhbWV0ZXJzW2UudG9Mb3dlckNhc2UoKV09dm9pZCAwPT09dHx8bnVsbD09PXQ/bnVsbDp0LnRvU3RyaW5nKCkpfSxnZXRQYXJhbTplLlVSSS5wcm90b3R5cGUuZ2V0UGFyYW0saGFzUGFyYW06ZS5VUkkucHJvdG90eXBlLmhhc1BhcmFtLGRlbGV0ZVBhcmFtOmUuVVJJLnByb3RvdHlwZS5kZWxldGVQYXJhbSxjbGVhclBhcmFtczplLlVSSS5wcm90b3R5cGUuY2xlYXJQYXJhbXMsY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy51cmkuY2xvbmUoKSx0aGlzLmRpc3BsYXlOYW1lLEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5wYXJhbWV0ZXJzKSkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBlLHQ7Zm9yKHQgaW4gZT10aGlzLmRpc3BsYXlOYW1lfHwwPT09dGhpcy5kaXNwbGF5TmFtZT8nIicrdGhpcy5kaXNwbGF5TmFtZSsnIiAnOiIiLGUrPSI8Iit0aGlzLnVyaS50b1N0cmluZygpKyI+Iix0aGlzLnBhcmFtZXRlcnMpZSs9IjsiK3QsbnVsbCE9PXRoaXMucGFyYW1ldGVyc1t0XSYmKGUrPSI9Iit0aGlzLnBhcmFtZXRlcnNbdF0pO3JldHVybiBlfX0sdC5wYXJzZT1mdW5jdGlvbih0KXtyZXR1cm4tMSE9PSh0PWUuR3JhbW1hci5wYXJzZSh0LCJOYW1lX0FkZHJfSGVhZGVyIikpP3Q6dm9pZCAwfSxlLk5hbWVBZGRySGVhZGVyPXR9fSxmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17U1RBVFVTX1RSWUlORzoxLFNUQVRVU19QUk9DRUVESU5HOjIsU1RBVFVTX0NBTExJTkc6MyxTVEFUVVNfQUNDRVBURUQ6NCxTVEFUVVNfQ09NUExFVEVEOjUsU1RBVFVTX1RFUk1JTkFURUQ6NixTVEFUVVNfQ09ORklSTUVEOjcsTk9OX0lOVklURV9DTElFTlQ6Im5pY3QiLE5PTl9JTlZJVEVfU0VSVkVSOiJuaXN0IixJTlZJVEVfQ0xJRU5UOiJpY3QiLElOVklURV9TRVJWRVI6ImlzdCJ9O2Z1bmN0aW9uIGkoZSx0LGkpe3ZhciBzO3JldHVybiBzPSJTSVAvMi4wLyIrKGUudWEuY29uZmlndXJhdGlvbi5oYWNrVmlhVGNwPyJUQ1AiOnQuc2VydmVyLnNjaGVtZSkscys9IiAiK2UudWEuY29uZmlndXJhdGlvbi52aWFIb3N0KyI7YnJhbmNoPSIraSxlLnVhLmNvbmZpZ3VyYXRpb24uZm9yY2VScG9ydCYmKHMrPSI7cnBvcnQiKSxzfXZhciBzPWZ1bmN0aW9uKGUscyxyKXt2YXIgbjt0aGlzLnR5cGU9dC5OT05fSU5WSVRFX0NMSUVOVCx0aGlzLnRyYW5zcG9ydD1yLHRoaXMuaWQ9Ino5aEc0YksiK01hdGguZmxvb3IoMWU3Kk1hdGgucmFuZG9tKCkpLHRoaXMucmVxdWVzdF9zZW5kZXI9ZSx0aGlzLnJlcXVlc3Q9cyx0aGlzLmxvZ2dlcj1lLnVhLmdldExvZ2dlcigic2lwLnRyYW5zYWN0aW9uLm5pY3QiLHRoaXMuaWQpLG49aShlLHIsdGhpcy5pZCksdGhpcy5yZXF1ZXN0LnNldEhlYWRlcigidmlhIixuKSx0aGlzLnJlcXVlc3Rfc2VuZGVyLnVhLm5ld1RyYW5zYWN0aW9uKHRoaXMpfTsocy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpKS5zdGF0ZUNoYW5nZWQ9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZT1lLHRoaXMuZW1pdCgic3RhdGVDaGFuZ2VkIil9LHMucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlQ2hhbmdlZCh0LlNUQVRVU19UUllJTkcpLHRoaXMuRj1lLlRpbWVycy5zZXRUaW1lb3V0KHRoaXMudGltZXJfRi5iaW5kKHRoaXMpLGUuVGltZXJzLlRJTUVSX0YpLHRoaXMudHJhbnNwb3J0LnNlbmQodGhpcy5yZXF1ZXN0KS5jYXRjaChmdW5jdGlvbigpe3RoaXMub25UcmFuc3BvcnRFcnJvcigpfS5iaW5kKHRoaXMpKX0scy5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvcj1mdW5jdGlvbigpe3RoaXMubG9nZ2VyLmxvZygidHJhbnNwb3J0IGVycm9yIG9jY3VycmVkLCBkZWxldGluZyBub24tSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbiAiK3RoaXMuaWQpLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLkYpLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLkspLHRoaXMuc3RhdGVDaGFuZ2VkKHQuU1RBVFVTX1RFUk1JTkFURUQpLHRoaXMucmVxdWVzdF9zZW5kZXIudWEuZGVzdHJveVRyYW5zYWN0aW9uKHRoaXMpLHRoaXMucmVxdWVzdF9zZW5kZXIub25UcmFuc3BvcnRFcnJvcigpfSxzLnByb3RvdHlwZS50aW1lcl9GPWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIuZGVidWcoIlRpbWVyIEYgZXhwaXJlZCBmb3Igbm9uLUlOVklURSBjbGllbnQgdHJhbnNhY3Rpb24gIit0aGlzLmlkKSx0aGlzLnN0YXRlQ2hhbmdlZCh0LlNUQVRVU19URVJNSU5BVEVEKSx0aGlzLnJlcXVlc3Rfc2VuZGVyLnVhLmRlc3Ryb3lUcmFuc2FjdGlvbih0aGlzKSx0aGlzLnJlcXVlc3Rfc2VuZGVyLm9uUmVxdWVzdFRpbWVvdXQoKX0scy5wcm90b3R5cGUudGltZXJfSz1mdW5jdGlvbigpe3RoaXMuc3RhdGVDaGFuZ2VkKHQuU1RBVFVTX1RFUk1JTkFURUQpLHRoaXMucmVxdWVzdF9zZW5kZXIudWEuZGVzdHJveVRyYW5zYWN0aW9uKHRoaXMpfSxzLnByb3RvdHlwZS5yZWNlaXZlUmVzcG9uc2U9ZnVuY3Rpb24oaSl7dmFyIHM9aS5zdGF0dXNfY29kZTtpZihzPDIwMClzd2l0Y2godGhpcy5zdGF0ZSl7Y2FzZSB0LlNUQVRVU19UUllJTkc6Y2FzZSB0LlNUQVRVU19QUk9DRUVESU5HOnRoaXMuc3RhdGVDaGFuZ2VkKHQuU1RBVFVTX1BST0NFRURJTkcpLHRoaXMucmVxdWVzdF9zZW5kZXIucmVjZWl2ZVJlc3BvbnNlKGkpfWVsc2Ugc3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2UgdC5TVEFUVVNfVFJZSU5HOmNhc2UgdC5TVEFUVVNfUFJPQ0VFRElORzp0aGlzLnN0YXRlQ2hhbmdlZCh0LlNUQVRVU19DT01QTEVURUQpLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLkYpLDQwOD09PXM/dGhpcy5yZXF1ZXN0X3NlbmRlci5vblJlcXVlc3RUaW1lb3V0KCk6dGhpcy5yZXF1ZXN0X3NlbmRlci5yZWNlaXZlUmVzcG9uc2UoaSksdGhpcy5LPWUuVGltZXJzLnNldFRpbWVvdXQodGhpcy50aW1lcl9LLmJpbmQodGhpcyksZS5UaW1lcnMuVElNRVJfSyl9fTt2YXIgcj1mdW5jdGlvbihlLHMscil7dmFyIG4sbz10aGlzO3RoaXMudHlwZT10LklOVklURV9DTElFTlQsdGhpcy50cmFuc3BvcnQ9cix0aGlzLmlkPSJ6OWhHNGJLIitNYXRoLmZsb29yKDFlNypNYXRoLnJhbmRvbSgpKSx0aGlzLnJlcXVlc3Rfc2VuZGVyPWUsdGhpcy5yZXF1ZXN0PXMsdGhpcy5sb2dnZXI9ZS51YS5nZXRMb2dnZXIoInNpcC50cmFuc2FjdGlvbi5pY3QiLHRoaXMuaWQpLG49aShlLHIsdGhpcy5pZCksdGhpcy5yZXF1ZXN0LnNldEhlYWRlcigidmlhIixuKSx0aGlzLnJlcXVlc3Rfc2VuZGVyLnVhLm5ld1RyYW5zYWN0aW9uKHRoaXMpLHRoaXMucmVxdWVzdC5jYW5jZWw9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9KHQ9KHR8fFtdKS5zbGljZSgpKS5sZW5ndGgscz1udWxsLHI9MDtyPGk7cisrKXM9KHN8fCIiKSt0W3JdLnRyaW0oKSsiXHJcbiI7by5jYW5jZWxfcmVxdWVzdChvLGUscyl9fTsoci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpKS5zdGF0ZUNoYW5nZWQ9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZT1lLHRoaXMuZW1pdCgic3RhdGVDaGFuZ2VkIil9LHIucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlQ2hhbmdlZCh0LlNUQVRVU19DQUxMSU5HKSx0aGlzLkI9ZS5UaW1lcnMuc2V0VGltZW91dCh0aGlzLnRpbWVyX0IuYmluZCh0aGlzKSxlLlRpbWVycy5USU1FUl9CKSx0aGlzLnRyYW5zcG9ydC5zZW5kKHRoaXMucmVxdWVzdCkuY2F0Y2goZnVuY3Rpb24oKXt0aGlzLm9uVHJhbnNwb3J0RXJyb3IoKX0uYmluZCh0aGlzKSl9LHIucHJvdG90eXBlLm9uVHJhbnNwb3J0RXJyb3I9ZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5sb2coInRyYW5zcG9ydCBlcnJvciBvY2N1cnJlZCwgZGVsZXRpbmcgSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbiAiK3RoaXMuaWQpLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLkIpLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLkQpLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLk0pLHRoaXMuc3RhdGVDaGFuZ2VkKHQuU1RBVFVTX1RFUk1JTkFURUQpLHRoaXMucmVxdWVzdF9zZW5kZXIudWEuZGVzdHJveVRyYW5zYWN0aW9uKHRoaXMpLHRoaXMuc3RhdGUhPT10LlNUQVRVU19BQ0NFUFRFRCYmdGhpcy5yZXF1ZXN0X3NlbmRlci5vblRyYW5zcG9ydEVycm9yKCl9LHIucHJvdG90eXBlLnRpbWVyX009ZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5kZWJ1ZygiVGltZXIgTSBleHBpcmVkIGZvciBJTlZJVEUgY2xpZW50IHRyYW5zYWN0aW9uICIrdGhpcy5pZCksdGhpcy5zdGF0ZT09PXQuU1RBVFVTX0FDQ0VQVEVEJiYoZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMuQiksdGhpcy5zdGF0ZUNoYW5nZWQodC5TVEFUVVNfVEVSTUlOQVRFRCksdGhpcy5yZXF1ZXN0X3NlbmRlci51YS5kZXN0cm95VHJhbnNhY3Rpb24odGhpcykpfSxyLnByb3RvdHlwZS50aW1lcl9CPWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIuZGVidWcoIlRpbWVyIEIgZXhwaXJlZCBmb3IgSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbiAiK3RoaXMuaWQpLHRoaXMuc3RhdGU9PT10LlNUQVRVU19DQUxMSU5HJiYodGhpcy5zdGF0ZUNoYW5nZWQodC5TVEFUVVNfVEVSTUlOQVRFRCksdGhpcy5yZXF1ZXN0X3NlbmRlci51YS5kZXN0cm95VHJhbnNhY3Rpb24odGhpcyksdGhpcy5yZXF1ZXN0X3NlbmRlci5vblJlcXVlc3RUaW1lb3V0KCkpfSxyLnByb3RvdHlwZS50aW1lcl9EPWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIuZGVidWcoIlRpbWVyIEQgZXhwaXJlZCBmb3IgSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbiAiK3RoaXMuaWQpLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLkIpLHRoaXMuc3RhdGVDaGFuZ2VkKHQuU1RBVFVTX1RFUk1JTkFURUQpLHRoaXMucmVxdWVzdF9zZW5kZXIudWEuZGVzdHJveVRyYW5zYWN0aW9uKHRoaXMpfSxyLnByb3RvdHlwZS5zZW5kQUNLPWZ1bmN0aW9uKHQpe3ZhciBpLHM9dGhpcyxyPXRoaXMucmVzcG9uc2UuY2FsbF9pZCt0aGlzLnJlc3BvbnNlLmZyb21fdGFnK3RoaXMucmVzcG9uc2UudG9fdGFnLG49dGhpcy5yZXF1ZXN0LnVhLmRpYWxvZ3Nbcl0/dGhpcy5yZXF1ZXN0LnVhLmRpYWxvZ3Nbcl0ucm91dGVfc2V0OnRoaXMucmVzcG9uc2UuZ2V0SGVhZGVycygicmVjb3JkLXJvdXRlIikucmV2ZXJzZSgpO3Q9dHx8e30saT10aGlzLnJlc3BvbnNlLmdldEhlYWRlcigiY29udGFjdCIpP3RoaXMucmVzcG9uc2UucGFyc2VIZWFkZXIoImNvbnRhY3QiKS51cmk6dGhpcy5yZXF1ZXN0LnJ1cmk7dmFyIG89bmV3IGUuT3V0Z29pbmdSZXF1ZXN0KCJBQ0siLGksdGhpcy5yZXF1ZXN0LnVhLHtjc2VxOnRoaXMucmVzcG9uc2UuY3NlcSxjYWxsX2lkOnRoaXMucmVzcG9uc2UuY2FsbF9pZCxmcm9tX3VyaTp0aGlzLnJlc3BvbnNlLmZyb20udXJpLGZyb21fdGFnOnRoaXMucmVzcG9uc2UuZnJvbV90YWcsdG9fdXJpOnRoaXMucmVzcG9uc2UudG8udXJpLHRvX3RhZzp0aGlzLnJlc3BvbnNlLnRvX3RhZyxyb3V0ZV9zZXQ6bn0sdC5leHRyYUhlYWRlcnN8fFtdLHQuYm9keSk7cmV0dXJuIHRoaXMuYWNrU2VuZGVyPW5ldyBlLlJlcXVlc3RTZW5kZXIoe3JlcXVlc3Q6byxvblJlcXVlc3RUaW1lb3V0OnRoaXMucmVxdWVzdF9zZW5kZXIuYXBwbGljYW50LmFwcGxpY2FudD90aGlzLnJlcXVlc3Rfc2VuZGVyLmFwcGxpY2FudC5hcHBsaWNhbnQub25SZXF1ZXN0VGltZW91dDpmdW5jdGlvbigpe3MubG9nZ2VyLndhcm4oIkFDSyBSZXF1ZXN0IHRpbWVkIG91dCIpfSxvblRyYW5zcG9ydEVycm9yOnRoaXMucmVxdWVzdF9zZW5kZXIuYXBwbGljYW50LmFwcGxpY2FudD90aGlzLnJlcXVlc3Rfc2VuZGVyLmFwcGxpY2FudC5hcHBsaWNhbnQub25SZXF1ZXN0VHJhbnNwb3J0RXJyb3I6ZnVuY3Rpb24oKXtzLmxvZ2dlci53YXJuKCJBQ0sgUmVxdWVzdCBoYWQgYSB0cmFuc3BvcnQgZXJyb3IiKX0scmVjZWl2ZVJlc3BvbnNlOnQucmVjZWl2ZVJlc3BvbnNlfHxmdW5jdGlvbigpe3MubG9nZ2VyLndhcm4oIlJlY2VpdmVkIGEgcmVzcG9uc2UgdG8gYW4gQUNLIHdoaWNoIHdhcyB1bmV4cGVjdGVkLiBEcm9wcGluZyBSZXNwb25zZS4iKX19LHRoaXMucmVxdWVzdC51YSkuc2VuZCgpLG99LHIucHJvdG90eXBlLmNhbmNlbF9yZXF1ZXN0PWZ1bmN0aW9uKGkscyxyKXt2YXIgbj1pLnJlcXVlc3Q7dGhpcy5jYW5jZWw9ZS5DLkNBTkNFTCsiICIrbi5ydXJpKyIgU0lQLzIuMFxyXG4iLHRoaXMuY2FuY2VsKz0iVmlhOiAiK24uaGVhZGVycy5WaWEudG9TdHJpbmcoKSsiXHJcbiIsdGhpcy5yZXF1ZXN0LmhlYWRlcnMuUm91dGUmJih0aGlzLmNhbmNlbCs9IlJvdXRlOiAiK24uaGVhZGVycy5Sb3V0ZS50b1N0cmluZygpKyJcclxuIiksdGhpcy5jYW5jZWwrPSJUbzogIituLmhlYWRlcnMuVG8udG9TdHJpbmcoKSsiXHJcbiIsdGhpcy5jYW5jZWwrPSJGcm9tOiAiK24uaGVhZGVycy5Gcm9tLnRvU3RyaW5nKCkrIlxyXG4iLHRoaXMuY2FuY2VsKz0iQ2FsbC1JRDogIituLmhlYWRlcnNbIkNhbGwtSUQiXS50b1N0cmluZygpKyJcclxuIix0aGlzLmNhbmNlbCs9Ik1heC1Gb3J3YXJkczogIitlLlVBLkMuTUFYX0ZPUldBUkRTKyJcclxuIix0aGlzLmNhbmNlbCs9IkNTZXE6ICIrbi5oZWFkZXJzLkNTZXEudG9TdHJpbmcoKS5zcGxpdCgiICIpWzBdKyIgQ0FOQ0VMXHJcbiIscyYmKHRoaXMuY2FuY2VsKz0iUmVhc29uOiAiK3MrIlxyXG4iKSxyJiYodGhpcy5jYW5jZWwrPXIpLHRoaXMuY2FuY2VsKz0iQ29udGVudC1MZW5ndGg6IDBcclxuXHJcbiIsdGhpcy5zdGF0ZT09PXQuU1RBVFVTX1BST0NFRURJTkcmJnRoaXMudHJhbnNwb3J0LnNlbmQodGhpcy5jYW5jZWwpfSxyLnByb3RvdHlwZS5yZWNlaXZlUmVzcG9uc2U9ZnVuY3Rpb24oaSl7dmFyIHM9aS5zdGF0dXNfY29kZTtpZihpLnRyYW5zYWN0aW9uPXRoaXMsdGhpcy5yZXNwb25zZSYmdGhpcy5yZXNwb25zZS5zdGF0dXNfY29kZT09PWkuc3RhdHVzX2NvZGUmJnRoaXMucmVzcG9uc2UuY3NlcT09PWkuY3NlcSlyZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcoIklDVCBSZWNlaXZlZCBhIHJldHJhbnNtaXNzaW9uIGZvciBjc2VxOiAiK2kuY3NlcSksdm9pZCh0aGlzLmFja1NlbmRlciYmdGhpcy5hY2tTZW5kZXIuc2VuZCgpKTtpZih0aGlzLnJlc3BvbnNlPWkscz49MTAwJiZzPD0xOTkpc3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2UgdC5TVEFUVVNfQ0FMTElORzp0aGlzLnN0YXRlQ2hhbmdlZCh0LlNUQVRVU19QUk9DRUVESU5HKSx0aGlzLnJlcXVlc3Rfc2VuZGVyLnJlY2VpdmVSZXNwb25zZShpKSx0aGlzLmNhbmNlbCYmdGhpcy50cmFuc3BvcnQuc2VuZCh0aGlzLmNhbmNlbCk7YnJlYWs7Y2FzZSB0LlNUQVRVU19QUk9DRUVESU5HOnRoaXMucmVxdWVzdF9zZW5kZXIucmVjZWl2ZVJlc3BvbnNlKGkpfWVsc2UgaWYocz49MjAwJiZzPD0yOTkpc3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2UgdC5TVEFUVVNfQ0FMTElORzpjYXNlIHQuU1RBVFVTX1BST0NFRURJTkc6dGhpcy5zdGF0ZUNoYW5nZWQodC5TVEFUVVNfQUNDRVBURUQpLHRoaXMuTT1lLlRpbWVycy5zZXRUaW1lb3V0KHRoaXMudGltZXJfTS5iaW5kKHRoaXMpLGUuVGltZXJzLlRJTUVSX00pLHRoaXMucmVxdWVzdF9zZW5kZXIucmVjZWl2ZVJlc3BvbnNlKGkpO2JyZWFrO2Nhc2UgdC5TVEFUVVNfQUNDRVBURUQ6dGhpcy5yZXF1ZXN0X3NlbmRlci5yZWNlaXZlUmVzcG9uc2UoaSl9ZWxzZSBpZihzPj0zMDAmJnM8PTY5OSlzd2l0Y2godGhpcy5zdGF0ZSl7Y2FzZSB0LlNUQVRVU19DQUxMSU5HOmNhc2UgdC5TVEFUVVNfUFJPQ0VFRElORzp0aGlzLnN0YXRlQ2hhbmdlZCh0LlNUQVRVU19DT01QTEVURUQpLHRoaXMuc2VuZEFDSygpLHRoaXMucmVxdWVzdF9zZW5kZXIucmVjZWl2ZVJlc3BvbnNlKGkpO2JyZWFrO2Nhc2UgdC5TVEFUVVNfQ09NUExFVEVEOnRoaXMuc2VuZEFDSygpfX07dmFyIG49ZnVuY3Rpb24oZSx0LHMpe3ZhciByO3RoaXMudHJhbnNwb3J0PXMsdGhpcy5pZD0iejloRzRiSyIrTWF0aC5mbG9vcigxZTcqTWF0aC5yYW5kb20oKSksdGhpcy5yZXF1ZXN0X3NlbmRlcj1lLHRoaXMucmVxdWVzdD10LHRoaXMubG9nZ2VyPWUudWEuZ2V0TG9nZ2VyKCJzaXAudHJhbnNhY3Rpb24ubmljdCIsdGhpcy5pZCkscj1pKGUscyx0aGlzLmlkKSx0aGlzLnJlcXVlc3Quc2V0SGVhZGVyKCJ2aWEiLHIpfTsobi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpKS5zZW5kPWZ1bmN0aW9uKCl7dGhpcy50cmFuc3BvcnQuc2VuZCh0aGlzLnJlcXVlc3QpLmNhdGNoKGZ1bmN0aW9uKCl7dGhpcy5vblRyYW5zcG9ydEVycm9yKCl9LmJpbmQodGhpcykpfSxuLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yPWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIubG9nKCJ0cmFuc3BvcnQgZXJyb3Igb2NjdXJyZWQsIGZvciBhbiBBQ0sgY2xpZW50IHRyYW5zYWN0aW9uICIrdGhpcy5pZCksdGhpcy5yZXF1ZXN0X3NlbmRlci5vblRyYW5zcG9ydEVycm9yKCl9O3ZhciBvPWZ1bmN0aW9uKGUsaSl7dGhpcy50eXBlPXQuTk9OX0lOVklURV9TRVJWRVIsdGhpcy5pZD1lLnZpYV9icmFuY2gsdGhpcy5yZXF1ZXN0PWUsdGhpcy50cmFuc3BvcnQ9aS50cmFuc3BvcnQsdGhpcy51YT1pLHRoaXMubGFzdF9yZXNwb25zZT0iIixlLnNlcnZlcl90cmFuc2FjdGlvbj10aGlzLHRoaXMubG9nZ2VyPWkuZ2V0TG9nZ2VyKCJzaXAudHJhbnNhY3Rpb24ubmlzdCIsdGhpcy5pZCksdGhpcy5zdGF0ZT10LlNUQVRVU19UUllJTkcsaS5uZXdUcmFuc2FjdGlvbih0aGlzKX07KG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5FdmVudEVtaXR0ZXIucHJvdG90eXBlKSkuc3RhdGVDaGFuZ2VkPWZ1bmN0aW9uKGUpe3RoaXMuc3RhdGU9ZSx0aGlzLmVtaXQoInN0YXRlQ2hhbmdlZCIpfSxvLnByb3RvdHlwZS50aW1lcl9KPWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIuZGVidWcoIlRpbWVyIEogZXhwaXJlZCBmb3Igbm9uLUlOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb24gIit0aGlzLmlkKSx0aGlzLnN0YXRlQ2hhbmdlZCh0LlNUQVRVU19URVJNSU5BVEVEKSx0aGlzLnVhLmRlc3Ryb3lUcmFuc2FjdGlvbih0aGlzKX0sby5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvcj1mdW5jdGlvbigpe3RoaXMudHJhbnNwb3J0RXJyb3J8fCh0aGlzLnRyYW5zcG9ydEVycm9yPSEwLHRoaXMubG9nZ2VyLmxvZygidHJhbnNwb3J0IGVycm9yIG9jY3VycmVkLCBkZWxldGluZyBub24tSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiAiK3RoaXMuaWQpLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLkopLHRoaXMuc3RhdGVDaGFuZ2VkKHQuU1RBVFVTX1RFUk1JTkFURUQpLHRoaXMudWEuZGVzdHJveVRyYW5zYWN0aW9uKHRoaXMpKX0sby5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlPWZ1bmN0aW9uKGkscyl7dmFyIHI9ZS5VdGlscy5kZWZlcigpO2lmKDEwMD09PWkpc3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2UgdC5TVEFUVVNfVFJZSU5HOnRoaXMuc3RhdGVDaGFuZ2VkKHQuU1RBVFVTX1BST0NFRURJTkcpLHRoaXMudHJhbnNwb3J0LnNlbmQocykuY2F0Y2goZnVuY3Rpb24oKXt0aGlzLm9uVHJhbnNwb3J0RXJyb3IoKX0uYmluZCh0aGlzKSk7YnJlYWs7Y2FzZSB0LlNUQVRVU19QUk9DRUVESU5HOnRoaXMubGFzdF9yZXNwb25zZT1zLHRoaXMudHJhbnNwb3J0LnNlbmQocykudGhlbihmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSkuY2F0Y2goZnVuY3Rpb24oKXt0aGlzLm9uVHJhbnNwb3J0RXJyb3IoKSxyLnJlamVjdCgpfS5iaW5kKHRoaXMpKX1lbHNlIGlmKGk+PTIwMCYmaTw9Njk5KXN3aXRjaCh0aGlzLnN0YXRlKXtjYXNlIHQuU1RBVFVTX1RSWUlORzpjYXNlIHQuU1RBVFVTX1BST0NFRURJTkc6dGhpcy5zdGF0ZUNoYW5nZWQodC5TVEFUVVNfQ09NUExFVEVEKSx0aGlzLmxhc3RfcmVzcG9uc2U9cyx0aGlzLko9ZS5UaW1lcnMuc2V0VGltZW91dCh0aGlzLnRpbWVyX0ouYmluZCh0aGlzKSxlLlRpbWVycy5USU1FUl9KKSx0aGlzLnRyYW5zcG9ydC5zZW5kKHMpLnRoZW4oZnVuY3Rpb24oKXtyLnJlc29sdmUoKX0pLmNhdGNoKGZ1bmN0aW9uKCl7dGhpcy5vblRyYW5zcG9ydEVycm9yKCksci5yZWplY3QoKX0uYmluZCh0aGlzKSl9cmV0dXJuIHIucHJvbWlzZX07dmFyIGE9ZnVuY3Rpb24oZSxpKXt0aGlzLnR5cGU9dC5JTlZJVEVfU0VSVkVSLHRoaXMuaWQ9ZS52aWFfYnJhbmNoLHRoaXMucmVxdWVzdD1lLHRoaXMudHJhbnNwb3J0PWkudHJhbnNwb3J0LHRoaXMudWE9aSx0aGlzLmxhc3RfcmVzcG9uc2U9IiIsZS5zZXJ2ZXJfdHJhbnNhY3Rpb249dGhpcyx0aGlzLmxvZ2dlcj1pLmdldExvZ2dlcigic2lwLnRyYW5zYWN0aW9uLmlzdCIsdGhpcy5pZCksdGhpcy5zdGF0ZT10LlNUQVRVU19QUk9DRUVESU5HLGkubmV3VHJhbnNhY3Rpb24odGhpcyksdGhpcy5yZXNlbmRQcm92aXNpb25hbFRpbWVyPW51bGwsZS5yZXBseSgxMDApfTsoYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpKS5zdGF0ZUNoYW5nZWQ9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZT1lLHRoaXMuZW1pdCgic3RhdGVDaGFuZ2VkIil9LGEucHJvdG90eXBlLnRpbWVyX0g9ZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5kZWJ1ZygiVGltZXIgSCBleHBpcmVkIGZvciBJTlZJVEUgc2VydmVyIHRyYW5zYWN0aW9uICIrdGhpcy5pZCksdGhpcy5zdGF0ZT09PXQuU1RBVFVTX0NPTVBMRVRFRCYmdGhpcy5sb2dnZXIud2FybigidHJhbnNhY3Rpb25zIiwiQUNLIGZvciBJTlZJVEUgc2VydmVyIHRyYW5zYWN0aW9uIHdhcyBuZXZlciByZWNlaXZlZCwgY2FsbCB3aWxsIGJlIHRlcm1pbmF0ZWQiKSx0aGlzLnN0YXRlQ2hhbmdlZCh0LlNUQVRVU19URVJNSU5BVEVEKSx0aGlzLnVhLmRlc3Ryb3lUcmFuc2FjdGlvbih0aGlzKX0sYS5wcm90b3R5cGUudGltZXJfST1mdW5jdGlvbigpe3RoaXMuc3RhdGVDaGFuZ2VkKHQuU1RBVFVTX1RFUk1JTkFURUQpLHRoaXMudWEuZGVzdHJveVRyYW5zYWN0aW9uKHRoaXMpfSxhLnByb3RvdHlwZS50aW1lcl9MPWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIuZGVidWcoIlRpbWVyIEwgZXhwaXJlZCBmb3IgSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiAiK3RoaXMuaWQpLHRoaXMuc3RhdGU9PT10LlNUQVRVU19BQ0NFUFRFRCYmKHRoaXMuc3RhdGVDaGFuZ2VkKHQuU1RBVFVTX1RFUk1JTkFURUQpLHRoaXMudWEuZGVzdHJveVRyYW5zYWN0aW9uKHRoaXMpKX0sYS5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvcj1mdW5jdGlvbigpe3RoaXMudHJhbnNwb3J0RXJyb3J8fCh0aGlzLnRyYW5zcG9ydEVycm9yPSEwLHRoaXMubG9nZ2VyLmxvZygidHJhbnNwb3J0IGVycm9yIG9jY3VycmVkLCBkZWxldGluZyBJTlZJVEUgc2VydmVyIHRyYW5zYWN0aW9uICIrdGhpcy5pZCksbnVsbCE9PXRoaXMucmVzZW5kUHJvdmlzaW9uYWxUaW1lciYmKGUuVGltZXJzLmNsZWFySW50ZXJ2YWwodGhpcy5yZXNlbmRQcm92aXNpb25hbFRpbWVyKSx0aGlzLnJlc2VuZFByb3Zpc2lvbmFsVGltZXI9bnVsbCksZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMuTCksZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMuSCksZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMuSSksdGhpcy5zdGF0ZUNoYW5nZWQodC5TVEFUVVNfVEVSTUlOQVRFRCksdGhpcy51YS5kZXN0cm95VHJhbnNhY3Rpb24odGhpcykpfSxhLnByb3RvdHlwZS5yZXNlbmRfcHJvdmlzaW9uYWw9ZnVuY3Rpb24oKXt0aGlzLnRyYW5zcG9ydC5zZW5kKHRoaXMucmVxdWVzdCkuY2F0Y2goZnVuY3Rpb24oKXt0aGlzLm9uVHJhbnNwb3J0RXJyb3IoKX0uYmluZCh0aGlzKSl9LGEucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZT1mdW5jdGlvbihpLHMpe3ZhciByPXRoaXMsbj1lLlV0aWxzLmRlZmVyKCk7aWYoaT49MTAwJiZpPD0xOTkpc3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2UgdC5TVEFUVVNfUFJPQ0VFRElORzp0aGlzLnRyYW5zcG9ydC5zZW5kKHMpLmNhdGNoKGZ1bmN0aW9uKCl7dGhpcy5vblRyYW5zcG9ydEVycm9yKCl9LmJpbmQodGhpcykpLHRoaXMubGFzdF9yZXNwb25zZT1zfWlmKGk+MTAwJiZpPD0xOTkmJnRoaXMuc3RhdGU9PT10LlNUQVRVU19QUk9DRUVESU5HKW51bGw9PT10aGlzLnJlc2VuZFByb3Zpc2lvbmFsVGltZXImJih0aGlzLnJlc2VuZFByb3Zpc2lvbmFsVGltZXI9ZS5UaW1lcnMuc2V0SW50ZXJ2YWwoci5yZXNlbmRfcHJvdmlzaW9uYWwuYmluZChyKSxlLlRpbWVycy5QUk9WSVNJT05BTF9SRVNQT05TRV9JTlRFUlZBTCkpO2Vsc2UgaWYoaT49MjAwJiZpPD0yOTkpc3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2UgdC5TVEFUVVNfUFJPQ0VFRElORzp0aGlzLnN0YXRlQ2hhbmdlZCh0LlNUQVRVU19BQ0NFUFRFRCksdGhpcy5sYXN0X3Jlc3BvbnNlPXMsdGhpcy5MPWUuVGltZXJzLnNldFRpbWVvdXQoci50aW1lcl9MLmJpbmQociksZS5UaW1lcnMuVElNRVJfTCksbnVsbCE9PXRoaXMucmVzZW5kUHJvdmlzaW9uYWxUaW1lciYmKGUuVGltZXJzLmNsZWFySW50ZXJ2YWwodGhpcy5yZXNlbmRQcm92aXNpb25hbFRpbWVyKSx0aGlzLnJlc2VuZFByb3Zpc2lvbmFsVGltZXI9bnVsbCk7Y2FzZSB0LlNUQVRVU19BQ0NFUFRFRDp0aGlzLnRyYW5zcG9ydC5zZW5kKHMpLnRoZW4oZnVuY3Rpb24oKXtuLnJlc29sdmUoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmVycm9yKGUpLHRoaXMub25UcmFuc3BvcnRFcnJvcigpLG4ucmVqZWN0KCl9LmJpbmQodGhpcykpfWVsc2UgaWYoaT49MzAwJiZpPD02OTkpc3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2UgdC5TVEFUVVNfUFJPQ0VFRElORzpudWxsIT09dGhpcy5yZXNlbmRQcm92aXNpb25hbFRpbWVyJiYoZS5UaW1lcnMuY2xlYXJJbnRlcnZhbCh0aGlzLnJlc2VuZFByb3Zpc2lvbmFsVGltZXIpLHRoaXMucmVzZW5kUHJvdmlzaW9uYWxUaW1lcj1udWxsKSx0aGlzLnRyYW5zcG9ydC5zZW5kKHMpLnRoZW4oZnVuY3Rpb24oKXt0aGlzLnN0YXRlQ2hhbmdlZCh0LlNUQVRVU19DT01QTEVURUQpLHRoaXMuSD1lLlRpbWVycy5zZXRUaW1lb3V0KHIudGltZXJfSC5iaW5kKHIpLGUuVGltZXJzLlRJTUVSX0gpLG4ucmVzb2x2ZSgpfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5lcnJvcihlKSx0aGlzLm9uVHJhbnNwb3J0RXJyb3IoKSxuLnJlamVjdCgpfS5iaW5kKHRoaXMpKX1yZXR1cm4gbi5wcm9taXNlfTtlLlRyYW5zYWN0aW9ucz17Qzp0LGNoZWNrVHJhbnNhY3Rpb246ZnVuY3Rpb24oaSxzKXt2YXIgcjtzd2l0Y2gocy5tZXRob2Qpe2Nhc2UgZS5DLklOVklURTppZihyPWkudHJhbnNhY3Rpb25zLmlzdFtzLnZpYV9icmFuY2hdKXtzd2l0Y2goci5zdGF0ZSl7Y2FzZSB0LlNUQVRVU19QUk9DRUVESU5HOnIudHJhbnNwb3J0LnNlbmQoci5sYXN0X3Jlc3BvbnNlKX1yZXR1cm4hMH1icmVhaztjYXNlIGUuQy5BQ0s6aWYoIShyPWkudHJhbnNhY3Rpb25zLmlzdFtzLnZpYV9icmFuY2hdKSlyZXR1cm4hMTtpZihyLnN0YXRlPT09dC5TVEFUVVNfQUNDRVBURUQpcmV0dXJuITE7aWYoci5zdGF0ZT09PXQuU1RBVFVTX0NPTVBMRVRFRClyZXR1cm4gci5zdGF0ZUNoYW5nZWQodC5TVEFUVVNfQ09ORklSTUVEKSxyLkk9ZS5UaW1lcnMuc2V0VGltZW91dChyLnRpbWVyX0kuYmluZChyKSxlLlRpbWVycy5USU1FUl9JKSwhMDticmVhaztjYXNlIGUuQy5DQU5DRUw6cmV0dXJuKHI9aS50cmFuc2FjdGlvbnMuaXN0W3MudmlhX2JyYW5jaF0pPyhzLnJlcGx5X3NsKDIwMCksci5zdGF0ZSE9PXQuU1RBVFVTX1BST0NFRURJTkcpOihzLnJlcGx5X3NsKDQ4MSksITApO2RlZmF1bHQ6aWYocj1pLnRyYW5zYWN0aW9ucy5uaXN0W3MudmlhX2JyYW5jaF0pe3N3aXRjaChyLnN0YXRlKXtjYXNlIHQuU1RBVFVTX1RSWUlORzpicmVhaztjYXNlIHQuU1RBVFVTX1BST0NFRURJTkc6Y2FzZSB0LlNUQVRVU19DT01QTEVURUQ6ci50cmFuc3BvcnQuc2VuZChyLmxhc3RfcmVzcG9uc2UpfXJldHVybiEwfX19LE5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uOnMsSW52aXRlQ2xpZW50VHJhbnNhY3Rpb246cixBY2tDbGllbnRUcmFuc2FjdGlvbjpuLE5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uOm8sSW52aXRlU2VydmVyVHJhbnNhY3Rpb246YX19fSxmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxzPWkoMTgpKGUpLHI9e1NUQVRVU19FQVJMWToxLFNUQVRVU19DT05GSVJNRUQ6Mn07KHQ9ZnVuY3Rpb24odCxpLHMsbil7dmFyIG87aWYodGhpcy51YWNfcGVuZGluZ19yZXBseT0hMSx0aGlzLnVhc19wZW5kaW5nX3JlcGx5PSExLCFpLmhhc0hlYWRlcigiY29udGFjdCIpKXJldHVybntlcnJvcjoidW5hYmxlIHRvIGNyZWF0ZSBhIERpYWxvZyB3aXRob3V0IENvbnRhY3QgaGVhZGVyIGZpZWxkIn07bj1pIGluc3RhbmNlb2YgZS5JbmNvbWluZ1Jlc3BvbnNlP2kuc3RhdHVzX2NvZGU8MjAwP3IuU1RBVFVTX0VBUkxZOnIuU1RBVFVTX0NPTkZJUk1FRDpufHxyLlNUQVRVU19DT05GSVJNRUQsbz1pLnBhcnNlSGVhZGVyKCJjb250YWN0IiksIlVBUyI9PT1zPyh0aGlzLmlkPXtjYWxsX2lkOmkuY2FsbF9pZCxsb2NhbF90YWc6aS50b190YWcscmVtb3RlX3RhZzppLmZyb21fdGFnLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FsbF9pZCt0aGlzLmxvY2FsX3RhZyt0aGlzLnJlbW90ZV90YWd9fSx0aGlzLnN0YXRlPW4sdGhpcy5yZW1vdGVfc2VxbnVtPWkuY3NlcSx0aGlzLmxvY2FsX3VyaT1pLnBhcnNlSGVhZGVyKCJ0byIpLnVyaSx0aGlzLnJlbW90ZV91cmk9aS5wYXJzZUhlYWRlcigiZnJvbSIpLnVyaSx0aGlzLnJlbW90ZV90YXJnZXQ9by51cmksdGhpcy5yb3V0ZV9zZXQ9aS5nZXRIZWFkZXJzKCJyZWNvcmQtcm91dGUiKSx0aGlzLmludml0ZV9zZXFudW09aS5jc2VxLHRoaXMubG9jYWxfc2VxbnVtPWkuY3NlcSk6IlVBQyI9PT1zJiYodGhpcy5pZD17Y2FsbF9pZDppLmNhbGxfaWQsbG9jYWxfdGFnOmkuZnJvbV90YWcscmVtb3RlX3RhZzppLnRvX3RhZyx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbGxfaWQrdGhpcy5sb2NhbF90YWcrdGhpcy5yZW1vdGVfdGFnfX0sdGhpcy5zdGF0ZT1uLHRoaXMuaW52aXRlX3NlcW51bT1pLmNzZXEsdGhpcy5sb2NhbF9zZXFudW09aS5jc2VxLHRoaXMubG9jYWxfdXJpPWkucGFyc2VIZWFkZXIoImZyb20iKS51cmksdGhpcy5wcmFja2VkPVtdLHRoaXMucmVtb3RlX3VyaT1pLnBhcnNlSGVhZGVyKCJ0byIpLnVyaSx0aGlzLnJlbW90ZV90YXJnZXQ9by51cmksdGhpcy5yb3V0ZV9zZXQ9aS5nZXRIZWFkZXJzKCJyZWNvcmQtcm91dGUiKS5yZXZlcnNlKCkpLHRoaXMubG9nZ2VyPXQudWEuZ2V0TG9nZ2VyKCJzaXAuZGlhbG9nIix0aGlzLmlkLnRvU3RyaW5nKCkpLHRoaXMub3duZXI9dCx0LnVhLmRpYWxvZ3NbdGhpcy5pZC50b1N0cmluZygpXT10aGlzLHRoaXMubG9nZ2VyLmxvZygibmV3ICIrcysiIGRpYWxvZyBjcmVhdGVkIHdpdGggc3RhdHVzICIrKHRoaXMuc3RhdGU9PT1yLlNUQVRVU19FQVJMWT8iRUFSTFkiOiJDT05GSVJNRUQiKSksdC5lbWl0KCJkaWFsb2ciLHRoaXMpfSkucHJvdG90eXBlPXt1cGRhdGU6ZnVuY3Rpb24oZSx0KXt0aGlzLnN0YXRlPXIuU1RBVFVTX0NPTkZJUk1FRCx0aGlzLmxvZ2dlci5sb2coImRpYWxvZyAiK3RoaXMuaWQudG9TdHJpbmcoKSsiICBjaGFuZ2VkIHRvIENPTkZJUk1FRCBzdGF0ZSIpLCJVQUMiPT09dCYmKHRoaXMucm91dGVfc2V0PWUuZ2V0SGVhZGVycygicmVjb3JkLXJvdXRlIikucmV2ZXJzZSgpKX0sdGVybWluYXRlOmZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIubG9nKCJkaWFsb2cgIit0aGlzLmlkLnRvU3RyaW5nKCkrIiBkZWxldGVkIiksdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyJiZ0aGlzLnN0YXRlIT09ci5TVEFUVVNfQ09ORklSTUVEJiZ0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuY2xvc2UoKSxkZWxldGUgdGhpcy5vd25lci51YS5kaWFsb2dzW3RoaXMuaWQudG9TdHJpbmcoKV19LGNyZWF0ZVJlcXVlc3Q6ZnVuY3Rpb24odCxpLHMpe3ZhciByLG47cmV0dXJuIGk9KGl8fFtdKS5zbGljZSgpLHRoaXMubG9jYWxfc2VxbnVtfHwodGhpcy5sb2NhbF9zZXFudW09TWF0aC5mbG9vcigxZTQqTWF0aC5yYW5kb20oKSkpLHI9dD09PWUuQy5DQU5DRUx8fHQ9PT1lLkMuQUNLP3RoaXMuaW52aXRlX3NlcW51bTp0aGlzLmxvY2FsX3NlcW51bSs9MSwobj1uZXcgZS5PdXRnb2luZ1JlcXVlc3QodCx0aGlzLnJlbW90ZV90YXJnZXQsdGhpcy5vd25lci51YSx7Y3NlcTpyLGNhbGxfaWQ6dGhpcy5pZC5jYWxsX2lkLGZyb21fdXJpOnRoaXMubG9jYWxfdXJpLGZyb21fdGFnOnRoaXMuaWQubG9jYWxfdGFnLHRvX3VyaTp0aGlzLnJlbW90ZV91cmksdG9fdGFnOnRoaXMuaWQucmVtb3RlX3RhZyxyb3V0ZV9zZXQ6dGhpcy5yb3V0ZV9zZXR9LGkscykpLmRpYWxvZz10aGlzLG59LGNoZWNrSW5EaWFsb2dSZXF1ZXN0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7aWYodGhpcy5yZW1vdGVfc2VxbnVtKXtpZih0LmNzZXE8dGhpcy5yZW1vdGVfc2VxbnVtKXJldHVybiB0Lm1ldGhvZCE9PWUuQy5BQ0smJnQucmVwbHkoNTAwKSx0LmNzZXE9PT10aGlzLmludml0ZV9zZXFudW19ZWxzZSB0aGlzLnJlbW90ZV9zZXFudW09dC5jc2VxO3N3aXRjaCh0Lm1ldGhvZCl7Y2FzZSBlLkMuSU5WSVRFOmlmKCEwPT09dGhpcy51YWNfcGVuZGluZ19yZXBseSl0LnJlcGx5KDQ5MSk7ZWxzZXtpZighMD09PXRoaXMudWFzX3BlbmRpbmdfcmVwbHkmJnQuY3NlcT50aGlzLnJlbW90ZV9zZXFudW0pe3ZhciBzPTErKDEwKk1hdGgucmFuZG9tKCl8MCk7cmV0dXJuIHQucmVwbHkoNTAwLG51bGwsWyJSZXRyeS1BZnRlcjoiK3NdKSx0aGlzLnJlbW90ZV9zZXFudW09dC5jc2VxLCExfXRoaXMudWFzX3BlbmRpbmdfcmVwbHk9ITAsdC5zZXJ2ZXJfdHJhbnNhY3Rpb24ub24oInN0YXRlQ2hhbmdlZCIsZnVuY3Rpb24gdCgpe3RoaXMuc3RhdGUhPT1lLlRyYW5zYWN0aW9ucy5DLlNUQVRVU19BQ0NFUFRFRCYmdGhpcy5zdGF0ZSE9PWUuVHJhbnNhY3Rpb25zLkMuU1RBVFVTX0NPTVBMRVRFRCYmdGhpcy5zdGF0ZSE9PWUuVHJhbnNhY3Rpb25zLkMuU1RBVFVTX1RFUk1JTkFURUR8fCh0aGlzLnJlbW92ZUxpc3RlbmVyKCJzdGF0ZUNoYW5nZWQiLHQpLGkudWFzX3BlbmRpbmdfcmVwbHk9ITEpfSl9dC5oYXNIZWFkZXIoImNvbnRhY3QiKSYmdC5zZXJ2ZXJfdHJhbnNhY3Rpb24ub24oInN0YXRlQ2hhbmdlZCIsZnVuY3Rpb24oKXt0aGlzLnN0YXRlPT09ZS5UcmFuc2FjdGlvbnMuQy5TVEFUVVNfQUNDRVBURUQmJihpLnJlbW90ZV90YXJnZXQ9dC5wYXJzZUhlYWRlcigiY29udGFjdCIpLnVyaSl9KTticmVhaztjYXNlIGUuQy5OT1RJRlk6dC5oYXNIZWFkZXIoImNvbnRhY3QiKSYmdC5zZXJ2ZXJfdHJhbnNhY3Rpb24ub24oInN0YXRlQ2hhbmdlZCIsZnVuY3Rpb24oKXt0aGlzLnN0YXRlPT09ZS5UcmFuc2FjdGlvbnMuQy5TVEFUVVNfQ09NUExFVEVEJiYoaS5yZW1vdGVfdGFyZ2V0PXQucGFyc2VIZWFkZXIoImNvbnRhY3QiKS51cmkpfSl9cmV0dXJuIHQuY3NlcT50aGlzLnJlbW90ZV9zZXFudW0mJih0aGlzLnJlbW90ZV9zZXFudW09dC5jc2VxKSwhMH0sc2VuZFJlcXVlc3Q6ZnVuY3Rpb24oZSx0LGkpe3ZhciByPSgoaT1pfHx7fSkuZXh0cmFIZWFkZXJzfHxbXSkuc2xpY2UoKSxuPW51bGw7aS5ib2R5JiYoaS5ib2R5LmJvZHk/bj1pLmJvZHk6KChuPXt9KS5ib2R5PWkuYm9keSxpLmNvbnRlbnRUeXBlJiYobi5jb250ZW50VHlwZT1pLmNvbnRlbnRUeXBlKSkpO3ZhciBvPXRoaXMuY3JlYXRlUmVxdWVzdCh0LHIsbik7cmV0dXJuIG5ldyBzKHRoaXMsZSxvKS5zZW5kKCksb30scmVjZWl2ZVJlcXVlc3Q6ZnVuY3Rpb24oZSl7dGhpcy5jaGVja0luRGlhbG9nUmVxdWVzdChlKSYmdGhpcy5vd25lci5yZWNlaXZlUmVxdWVzdChlKX19LHQuQz1yLGUuRGlhbG9nPXR9fSxmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4odD1mdW5jdGlvbihlLHQsaSl7dGhpcy5kaWFsb2c9ZSx0aGlzLmFwcGxpY2FudD10LHRoaXMucmVxdWVzdD1pLHRoaXMucmVhdHRlbXB0PSExLHRoaXMucmVhdHRlbXB0VGltZXI9bnVsbH0pLnByb3RvdHlwZT17c2VuZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT1uZXcgZS5SZXF1ZXN0U2VuZGVyKHRoaXMsdGhpcy5kaWFsb2cub3duZXIudWEpO2kuc2VuZCgpLHRoaXMucmVxdWVzdC5tZXRob2Q9PT1lLkMuSU5WSVRFJiZpLmNsaWVudFRyYW5zYWN0aW9uLnN0YXRlIT09ZS5UcmFuc2FjdGlvbnMuQy5TVEFUVVNfVEVSTUlOQVRFRCYmKHRoaXMuZGlhbG9nLnVhY19wZW5kaW5nX3JlcGx5PSEwLGkuY2xpZW50VHJhbnNhY3Rpb24ub24oInN0YXRlQ2hhbmdlZCIsZnVuY3Rpb24gaSgpe3RoaXMuc3RhdGUhPT1lLlRyYW5zYWN0aW9ucy5DLlNUQVRVU19BQ0NFUFRFRCYmdGhpcy5zdGF0ZSE9PWUuVHJhbnNhY3Rpb25zLkMuU1RBVFVTX0NPTVBMRVRFRCYmdGhpcy5zdGF0ZSE9PWUuVHJhbnNhY3Rpb25zLkMuU1RBVFVTX1RFUk1JTkFURUR8fCh0aGlzLnJlbW92ZUxpc3RlbmVyKCJzdGF0ZUNoYW5nZWQiLGkpLHQuZGlhbG9nLnVhY19wZW5kaW5nX3JlcGx5PSExKX0pKX0sb25SZXF1ZXN0VGltZW91dDpmdW5jdGlvbigpe3RoaXMuYXBwbGljYW50Lm9uUmVxdWVzdFRpbWVvdXQoKX0sb25UcmFuc3BvcnRFcnJvcjpmdW5jdGlvbigpe3RoaXMuYXBwbGljYW50Lm9uVHJhbnNwb3J0RXJyb3IoKX0scmVjZWl2ZVJlc3BvbnNlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7NDA4PT09dC5zdGF0dXNfY29kZXx8NDgxPT09dC5zdGF0dXNfY29kZT90aGlzLmFwcGxpY2FudC5vbkRpYWxvZ0Vycm9yKHQpOnQubWV0aG9kPT09ZS5DLklOVklURSYmNDkxPT09dC5zdGF0dXNfY29kZT90aGlzLnJlYXR0ZW1wdD90aGlzLmFwcGxpY2FudC5yZWNlaXZlUmVzcG9uc2UodCk6KHRoaXMucmVxdWVzdC5jc2VxLnZhbHVlPXRoaXMuZGlhbG9nLmxvY2FsX3NlcW51bSs9MSx0aGlzLnJlYXR0ZW1wdFRpbWVyPWUuVGltZXJzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmFwcGxpY2FudC5vd25lci5zdGF0dXMhPT1lLlNlc3Npb24uQy5TVEFUVVNfVEVSTUlOQVRFRCYmKGkucmVhdHRlbXB0PSEwLGkucmVxdWVzdF9zZW5kZXIuc2VuZCgpKX0sdGhpcy5nZXRSZWF0dGVtcHRUaW1lb3V0KCkpKTp0aGlzLmFwcGxpY2FudC5yZWNlaXZlUmVzcG9uc2UodCl9fSx0fX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9ZnVuY3Rpb24odCxpKXt0aGlzLmxvZ2dlcj1pLmdldExvZ2dlcigic2lwLnJlcXVlc3RzZW5kZXIiKSx0aGlzLnVhPWksdGhpcy5hcHBsaWNhbnQ9dCx0aGlzLm1ldGhvZD10LnJlcXVlc3QubWV0aG9kLHRoaXMucmVxdWVzdD10LnJlcXVlc3QsdGhpcy5jcmVkZW50aWFscz1udWxsLHRoaXMuY2hhbGxlbmdlZD0hMSx0aGlzLnN0YWxlZD0hMSxpLnN0YXR1cyE9PWUuVUEuQy5TVEFUVVNfVVNFUl9DTE9TRUR8fHRoaXMubWV0aG9kPT09ZS5DLkJZRSYmdGhpcy5tZXRob2Q9PT1lLkMuQUNLfHx0aGlzLm9uVHJhbnNwb3J0RXJyb3IoKX0pLnByb3RvdHlwZT17c2VuZDpmdW5jdGlvbigpe3N3aXRjaCh0aGlzLm1ldGhvZCl7Y2FzZSJJTlZJVEUiOnRoaXMuY2xpZW50VHJhbnNhY3Rpb249bmV3IGUuVHJhbnNhY3Rpb25zLkludml0ZUNsaWVudFRyYW5zYWN0aW9uKHRoaXMsdGhpcy5yZXF1ZXN0LHRoaXMudWEudHJhbnNwb3J0KTticmVhaztjYXNlIkFDSyI6dGhpcy5jbGllbnRUcmFuc2FjdGlvbj1uZXcgZS5UcmFuc2FjdGlvbnMuQWNrQ2xpZW50VHJhbnNhY3Rpb24odGhpcyx0aGlzLnJlcXVlc3QsdGhpcy51YS50cmFuc3BvcnQpO2JyZWFrO2RlZmF1bHQ6dGhpcy5jbGllbnRUcmFuc2FjdGlvbj1uZXcgZS5UcmFuc2FjdGlvbnMuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24odGhpcyx0aGlzLnJlcXVlc3QsdGhpcy51YS50cmFuc3BvcnQpfXJldHVybiB0aGlzLmNsaWVudFRyYW5zYWN0aW9uLnNlbmQoKSx0aGlzLmNsaWVudFRyYW5zYWN0aW9ufSxvblJlcXVlc3RUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5hcHBsaWNhbnQub25SZXF1ZXN0VGltZW91dCgpfSxvblRyYW5zcG9ydEVycm9yOmZ1bmN0aW9uKCl7dGhpcy5hcHBsaWNhbnQub25UcmFuc3BvcnRFcnJvcigpfSxyZWNlaXZlUmVzcG9uc2U6ZnVuY3Rpb24odCl7dmFyIGkscyxyLG49dC5zdGF0dXNfY29kZTtpZig0MDE9PT1ufHw0MDc9PT1uKXtpZig0MDE9PT10LnN0YXR1c19jb2RlPyhzPXQucGFyc2VIZWFkZXIoInd3dy1hdXRoZW50aWNhdGUiKSxyPSJhdXRob3JpemF0aW9uIik6KHM9dC5wYXJzZUhlYWRlcigicHJveHktYXV0aGVudGljYXRlIikscj0icHJveHktYXV0aG9yaXphdGlvbiIpLCFzKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKHQuc3RhdHVzX2NvZGUrIiB3aXRoIHdyb25nIG9yIG1pc3NpbmcgY2hhbGxlbmdlLCBjYW5ub3QgYXV0aGVudGljYXRlIiksdm9pZCB0aGlzLmFwcGxpY2FudC5yZWNlaXZlUmVzcG9uc2UodCk7aWYoIXRoaXMuY2hhbGxlbmdlZHx8IXRoaXMuc3RhbGVkJiYhMD09PXMuc3RhbGUpe2lmKHRoaXMuY3JlZGVudGlhbHN8fCh0aGlzLmNyZWRlbnRpYWxzPXRoaXMudWEuY29uZmlndXJhdGlvbi5hdXRoZW50aWNhdGlvbkZhY3RvcnkodGhpcy51YSkpLCF0aGlzLmNyZWRlbnRpYWxzLmF1dGhlbnRpY2F0ZSh0aGlzLnJlcXVlc3QscykpcmV0dXJuIHZvaWQgdGhpcy5hcHBsaWNhbnQucmVjZWl2ZVJlc3BvbnNlKHQpO3RoaXMuY2hhbGxlbmdlZD0hMCxzLnN0YWxlJiYodGhpcy5zdGFsZWQ9ITApLHQubWV0aG9kPT09ZS5DLlJFR0lTVEVSP2k9dGhpcy5hcHBsaWNhbnQuY3NlcSs9MTp0aGlzLnJlcXVlc3QuZGlhbG9nP2k9dGhpcy5yZXF1ZXN0LmRpYWxvZy5sb2NhbF9zZXFudW0rPTE6KGk9dGhpcy5yZXF1ZXN0LmNzZXErMSx0aGlzLnJlcXVlc3QuY3NlcT1pKSx0aGlzLnJlcXVlc3Quc2V0SGVhZGVyKCJjc2VxIixpKyIgIit0aGlzLm1ldGhvZCksdGhpcy5yZXF1ZXN0LnNldEhlYWRlcihyLHRoaXMuY3JlZGVudGlhbHMudG9TdHJpbmcoKSksdGhpcy5zZW5kKCl9ZWxzZSB0aGlzLmFwcGxpY2FudC5yZWNlaXZlUmVzcG9uc2UodCl9ZWxzZSB0aGlzLmFwcGxpY2FudC5yZWNlaXZlUmVzcG9uc2UodCl9fSxlLlJlcXVlc3RTZW5kZXI9dH19LGZ1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0Oyh0PWZ1bmN0aW9uKHQpe3ZhciBpPXt9O3RoaXMucmVnaXN0cmFyPXQuY29uZmlndXJhdGlvbi5yZWdpc3RyYXJTZXJ2ZXIsdGhpcy5leHBpcmVzPXQuY29uZmlndXJhdGlvbi5yZWdpc3RlckV4cGlyZXMsdGhpcy5jb250YWN0PXQuY29udGFjdC50b1N0cmluZygpLHRoaXMuY29udGFjdCs9IjtyZWctaWQ9MSIsdGhpcy5jb250YWN0Kz0nOytzaXAuaW5zdGFuY2U9Ijx1cm46dXVpZDonK3QuY29uZmlndXJhdGlvbi5pbnN0YW5jZUlkKyc+IicsdGhpcy5jYWxsX2lkPWUuVXRpbHMuY3JlYXRlUmFuZG9tVG9rZW4oMjIpLHRoaXMuY3NlcT1NYXRoLmZsb29yKDFlNCpNYXRoLnJhbmRvbSgpKSx0aGlzLnRvX3VyaT10LmNvbmZpZ3VyYXRpb24udXJpLGkudG9fdXJpPXRoaXMudG9fdXJpLGkudG9fZGlzcGxheU5hbWU9dC5jb25maWd1cmF0aW9uLmRpc3BsYXlOYW1lLGkuY2FsbF9pZD10aGlzLmNhbGxfaWQsaS5jc2VxPXRoaXMuY3NlcSxlLlV0aWxzLmF1Z21lbnQodGhpcyxlLkNsaWVudENvbnRleHQsW3QsIlJFR0lTVEVSIix0aGlzLnJlZ2lzdHJhcix7cGFyYW1zOml9XSksdGhpcy5yZWdpc3RyYXRpb25UaW1lcj1udWxsLHRoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyPW51bGwsdGhpcy5yZWdpc3RlcmVkPSExLHRoaXMubG9nZ2VyPXQuZ2V0TG9nZ2VyKCJzaXAucmVnaXN0ZXJjb250ZXh0IiksdC5vbigidHJhbnNwb3J0Q3JlYXRlZCIsZnVuY3Rpb24oZSl7ZS5vbigiZGlzY29ubmVjdGVkIix0aGlzLm9uVHJhbnNwb3J0RGlzY29ubmVjdGVkLmJpbmQodGhpcykpfS5iaW5kKHRoaXMpKX0pLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHt9LHtyZWdpc3Rlcjp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGkscz10aGlzO3RoaXMub3B0aW9ucz10fHx7fSwoaT0odGhpcy5vcHRpb25zLmV4dHJhSGVhZGVyc3x8W10pLnNsaWNlKCkpLnB1c2goIkNvbnRhY3Q6ICIrdGhpcy5jb250YWN0KyI7ZXhwaXJlcz0iK3RoaXMuZXhwaXJlcyksaS5wdXNoKCJBbGxvdzogIitlLlVBLkMuQUxMT1dFRF9NRVRIT0RTLnRvU3RyaW5nKCkpLHRoaXMuY2xvc2VIZWFkZXJzPXRoaXMub3B0aW9ucy5jbG9zZVdpdGhIZWFkZXJzPyh0aGlzLm9wdGlvbnMuZXh0cmFIZWFkZXJzfHxbXSkuc2xpY2UoKTpbXSx0aGlzLnJlY2VpdmVSZXNwb25zZT1mdW5jdGlvbih0KXt2YXIgaSxyLG4sbz10LmdldEhlYWRlcnMoImNvbnRhY3QiKS5sZW5ndGg7aWYodC5jc2VxPT09dGhpcy5jc2VxKXN3aXRjaChudWxsIT09dGhpcy5yZWdpc3RyYXRpb25UaW1lciYmKGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnJlZ2lzdHJhdGlvblRpbWVyKSx0aGlzLnJlZ2lzdHJhdGlvblRpbWVyPW51bGwpLCEwKXtjYXNlL14xWzAtOV17Mn0kLy50ZXN0KHQuc3RhdHVzX2NvZGUpOnRoaXMuZW1pdCgicHJvZ3Jlc3MiLHQpO2JyZWFrO2Nhc2UvXjJbMC05XXsyfSQvLnRlc3QodC5zdGF0dXNfY29kZSk6aWYodGhpcy5lbWl0KCJhY2NlcHRlZCIsdCksdC5oYXNIZWFkZXIoImV4cGlyZXMiKSYmKHI9dC5nZXRIZWFkZXIoImV4cGlyZXMiKSksbnVsbCE9PXRoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyJiYoZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyKSx0aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lcj1udWxsKSwhbyl7dGhpcy5sb2dnZXIud2Fybigibm8gQ29udGFjdCBoZWFkZXIgaW4gcmVzcG9uc2UgdG8gUkVHSVNURVIsIHJlc3BvbnNlIGlnbm9yZWQiKTticmVha31mb3IoO28tLTspe2lmKChpPXQucGFyc2VIZWFkZXIoImNvbnRhY3QiLG8pKS51cmkudXNlcj09PXRoaXMudWEuY29udGFjdC51cmkudXNlcil7cj1pLmdldFBhcmFtKCJleHBpcmVzIik7YnJlYWt9aT1udWxsfWlmKCFpKXt0aGlzLmxvZ2dlci53YXJuKCJubyBDb250YWN0IGhlYWRlciBwb2ludGluZyB0byB1cywgcmVzcG9uc2UgaWdub3JlZCIpO2JyZWFrfXJ8fChyPXRoaXMuZXhwaXJlcyksdGhpcy5yZWdpc3RyYXRpb25UaW1lcj1lLlRpbWVycy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5yZWdpc3RyYXRpb25UaW1lcj1udWxsLHMucmVnaXN0ZXIocy5vcHRpb25zKX0sMWUzKnItM2UzKSx0aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lcj1lLlRpbWVycy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5sb2dnZXIud2FybigicmVnaXN0cmF0aW9uIGV4cGlyZWQiKSxzLnJlZ2lzdGVyZWQmJnMudW5yZWdpc3RlcmVkKG51bGwsZS5DLmNhdXNlcy5FWFBJUkVTKX0sMWUzKnIpLGkuaGFzUGFyYW0oInRlbXAtZ3J1dSIpJiYodGhpcy51YS5jb250YWN0LnRlbXBfZ3J1dT1lLlVSSS5wYXJzZShpLmdldFBhcmFtKCJ0ZW1wLWdydXUiKS5yZXBsYWNlKC8iL2csIiIpKSksaS5oYXNQYXJhbSgicHViLWdydXUiKSYmKHRoaXMudWEuY29udGFjdC5wdWJfZ3J1dT1lLlVSSS5wYXJzZShpLmdldFBhcmFtKCJwdWItZ3J1dSIpLnJlcGxhY2UoLyIvZywiIikpKSx0aGlzLnJlZ2lzdGVyZWQ9ITAsdGhpcy5lbWl0KCJyZWdpc3RlcmVkIix0fHxudWxsKTticmVhaztjYXNlL140MjMkLy50ZXN0KHQuc3RhdHVzX2NvZGUpOnQuaGFzSGVhZGVyKCJtaW4tZXhwaXJlcyIpPyh0aGlzLmV4cGlyZXM9dC5nZXRIZWFkZXIoIm1pbi1leHBpcmVzIiksdGhpcy5yZWdpc3Rlcih0aGlzLm9wdGlvbnMpKToodGhpcy5sb2dnZXIud2FybigiNDIzIHJlc3BvbnNlIHJlY2VpdmVkIGZvciBSRUdJU1RFUiB3aXRob3V0IE1pbi1FeHBpcmVzIiksdGhpcy5yZWdpc3RyYXRpb25GYWlsdXJlKHQsZS5DLmNhdXNlcy5TSVBfRkFJTFVSRV9DT0RFKSk7YnJlYWs7ZGVmYXVsdDpuPWUuVXRpbHMuc2lwRXJyb3JDYXVzZSh0LnN0YXR1c19jb2RlKSx0aGlzLnJlZ2lzdHJhdGlvbkZhaWx1cmUodCxuKX19LHRoaXMub25SZXF1ZXN0VGltZW91dD1mdW5jdGlvbigpe3RoaXMucmVnaXN0cmF0aW9uRmFpbHVyZShudWxsLGUuQy5jYXVzZXMuUkVRVUVTVF9USU1FT1VUKX0sdGhpcy5vblRyYW5zcG9ydEVycm9yPWZ1bmN0aW9uKCl7dGhpcy5yZWdpc3RyYXRpb25GYWlsdXJlKG51bGwsZS5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKX0sdGhpcy5jc2VxKyssdGhpcy5yZXF1ZXN0LmNzZXE9dGhpcy5jc2VxLHRoaXMucmVxdWVzdC5zZXRIZWFkZXIoImNzZXEiLHRoaXMuY3NlcSsiIFJFR0lTVEVSIiksdGhpcy5yZXF1ZXN0LmV4dHJhSGVhZGVycz1pLHRoaXMuc2VuZCgpfX0scmVnaXN0cmF0aW9uRmFpbHVyZTp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmVtaXQoImZhaWxlZCIsZXx8bnVsbCx0fHxudWxsKX19LG9uVHJhbnNwb3J0RGlzY29ubmVjdGVkOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVnaXN0ZXJlZF9iZWZvcmU9dGhpcy5yZWdpc3RlcmVkLG51bGwhPT10aGlzLnJlZ2lzdHJhdGlvblRpbWVyJiYoZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMucmVnaXN0cmF0aW9uVGltZXIpLHRoaXMucmVnaXN0cmF0aW9uVGltZXI9bnVsbCksbnVsbCE9PXRoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyJiYoZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyKSx0aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lcj1udWxsKSx0aGlzLnJlZ2lzdGVyZWQmJnRoaXMudW5yZWdpc3RlcmVkKG51bGwsZS5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKX19LG9uVHJhbnNwb3J0Q29ubmVjdGVkOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVnaXN0ZXIodGhpcy5vcHRpb25zKX19LGNsb3NlOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXthbGw6ITEsZXh0cmFIZWFkZXJzOnRoaXMuY2xvc2VIZWFkZXJzfTt0aGlzLnJlZ2lzdGVyZWRfYmVmb3JlPXRoaXMucmVnaXN0ZXJlZCx0aGlzLnJlZ2lzdGVyZWQmJnRoaXMudW5yZWdpc3RlcihlKX19LHVucmVnaXN0ZXI6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBpO3Q9dHx8e30sdGhpcy5yZWdpc3RlcmVkfHx0LmFsbHx8dGhpcy5sb2dnZXIud2FybigiQWxyZWFkeSB1bnJlZ2lzdGVyZWQsIGJ1dCBzZW5kaW5nIGFuIHVucmVnaXN0ZXIgYW55d2F5cy4iKSxpPSh0LmV4dHJhSGVhZGVyc3x8W10pLnNsaWNlKCksdGhpcy5yZWdpc3RlcmVkPSExLG51bGwhPT10aGlzLnJlZ2lzdHJhdGlvblRpbWVyJiYoZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMucmVnaXN0cmF0aW9uVGltZXIpLHRoaXMucmVnaXN0cmF0aW9uVGltZXI9bnVsbCksdC5hbGw/KGkucHVzaCgiQ29udGFjdDogKiIpLGkucHVzaCgiRXhwaXJlczogMCIpKTppLnB1c2goIkNvbnRhY3Q6ICIrdGhpcy5jb250YWN0KyI7ZXhwaXJlcz0wIiksdGhpcy5yZWNlaXZlUmVzcG9uc2U9ZnVuY3Rpb24odCl7dmFyIGk7c3dpdGNoKCEwKXtjYXNlL14xWzAtOV17Mn0kLy50ZXN0KHQuc3RhdHVzX2NvZGUpOnRoaXMuZW1pdCgicHJvZ3Jlc3MiLHQpO2JyZWFrO2Nhc2UvXjJbMC05XXsyfSQvLnRlc3QodC5zdGF0dXNfY29kZSk6dGhpcy5lbWl0KCJhY2NlcHRlZCIsdCksbnVsbCE9PXRoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyJiYoZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyKSx0aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lcj1udWxsKSx0aGlzLnVucmVnaXN0ZXJlZCh0KTticmVhaztkZWZhdWx0Omk9ZS5VdGlscy5zaXBFcnJvckNhdXNlKHQuc3RhdHVzX2NvZGUpLHRoaXMudW5yZWdpc3RlcmVkKHQsaSl9fSx0aGlzLm9uUmVxdWVzdFRpbWVvdXQ9ZnVuY3Rpb24oKXt9LHRoaXMuY3NlcSsrLHRoaXMucmVxdWVzdC5jc2VxPXRoaXMuY3NlcSx0aGlzLnJlcXVlc3Quc2V0SGVhZGVyKCJjc2VxIix0aGlzLmNzZXErIiBSRUdJU1RFUiIpLHRoaXMucmVxdWVzdC5leHRyYUhlYWRlcnM9aSx0aGlzLnNlbmQoKX19LHVucmVnaXN0ZXJlZDp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnJlZ2lzdGVyZWQ9ITEsdGhpcy5lbWl0KCJ1bnJlZ2lzdGVyZWQiLGV8fG51bGwsdHx8bnVsbCl9fX0pLGUuUmVnaXN0ZXJDb250ZXh0PXR9fSxmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbigpe307cmV0dXJuIHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUse2Nsb3NlOnt2YWx1ZTpmdW5jdGlvbigpe319LGdldERlc2NyaXB0aW9uOnt2YWx1ZTpmdW5jdGlvbihlLHQpe319LGhhc0Rlc2NyaXB0aW9uOnt2YWx1ZTpmdW5jdGlvbihlKXt9fSxob2xkTW9kaWZpZXI6e3ZhbHVlOmZ1bmN0aW9uKGUpe319LHNldERlc2NyaXB0aW9uOnt2YWx1ZTpmdW5jdGlvbihlLHQsaSl7fX0sc2VuZER0bWY6e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7fX0sZ2V0RGlyZWN0aW9uOnt2YWx1ZTpmdW5jdGlvbigpe319fSksdH19LGZ1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0OygodD1mdW5jdGlvbih0LGkscyxyKXt2YXIgbj1zO2lmKHZvaWQgMD09PXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiTm90IGVub3VnaCBhcmd1bWVudHMiKTtpZih0aGlzLnVhPXQsdGhpcy5sb2dnZXI9dC5nZXRMb2dnZXIoInNpcC5jbGllbnRjb250ZXh0IiksdGhpcy5tZXRob2Q9aSwhKHM9dC5ub3JtYWxpemVUYXJnZXQocykpKXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgdGFyZ2V0OiAiK24pOyhyPU9iamVjdC5jcmVhdGUocnx8T2JqZWN0LnByb3RvdHlwZSkpLmV4dHJhSGVhZGVycz0oci5leHRyYUhlYWRlcnN8fFtdKS5zbGljZSgpLHRoaXMucmVxdWVzdD1uZXcgZS5PdXRnb2luZ1JlcXVlc3QodGhpcy5tZXRob2Qscyx0aGlzLnVhLHIucGFyYW1zLHIuZXh0cmFIZWFkZXJzKSxyLmJvZHkmJih0aGlzLmJvZHk9e30sdGhpcy5ib2R5LmJvZHk9ci5ib2R5LHIuY29udGVudFR5cGUmJih0aGlzLmJvZHkuY29udGVudFR5cGU9ci5jb250ZW50VHlwZSksdGhpcy5yZXF1ZXN0LmJvZHk9dGhpcy5ib2R5KSx0aGlzLmxvY2FsSWRlbnRpdHk9dGhpcy5yZXF1ZXN0LmZyb20sdGhpcy5yZW1vdGVJZGVudGl0eT10aGlzLnJlcXVlc3QudG8sdGhpcy5kYXRhPXt9fSkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5FdmVudEVtaXR0ZXIucHJvdG90eXBlKSkuc2VuZD1mdW5jdGlvbigpe3JldHVybiBuZXcgZS5SZXF1ZXN0U2VuZGVyKHRoaXMsdGhpcy51YSkuc2VuZCgpLHRoaXN9LHQucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbih0KXsodD10fHx7fSkuZXh0cmFIZWFkZXJzPSh0LmV4dHJhSGVhZGVyc3x8W10pLnNsaWNlKCk7dmFyIGk9ZS5VdGlscy5nZXRDYW5jZWxSZWFzb24odC5zdGF0dXNfY29kZSx0LnJlYXNvbl9waHJhc2UpO3RoaXMucmVxdWVzdC5jYW5jZWwoaSx0LmV4dHJhSGVhZGVycyksdGhpcy5lbWl0KCJjYW5jZWwiKX0sdC5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlPWZ1bmN0aW9uKHQpe3ZhciBpPWUuVXRpbHMuZ2V0UmVhc29uUGhyYXNlKHQuc3RhdHVzX2NvZGUpO3N3aXRjaCghMCl7Y2FzZS9eMVswLTldezJ9JC8udGVzdCh0LnN0YXR1c19jb2RlKTp0aGlzLmVtaXQoInByb2dyZXNzIix0LGkpO2JyZWFrO2Nhc2UvXjJbMC05XXsyfSQvLnRlc3QodC5zdGF0dXNfY29kZSk6dGhpcy51YS5hcHBsaWNhbnRzW3RoaXNdJiZkZWxldGUgdGhpcy51YS5hcHBsaWNhbnRzW3RoaXNdLHRoaXMuZW1pdCgiYWNjZXB0ZWQiLHQsaSk7YnJlYWs7ZGVmYXVsdDp0aGlzLnVhLmFwcGxpY2FudHNbdGhpc10mJmRlbGV0ZSB0aGlzLnVhLmFwcGxpY2FudHNbdGhpc10sdGhpcy5lbWl0KCJyZWplY3RlZCIsdCxpKSx0aGlzLmVtaXQoImZhaWxlZCIsdCxpKX19LHQucHJvdG90eXBlLm9uUmVxdWVzdFRpbWVvdXQ9ZnVuY3Rpb24oKXt0aGlzLmVtaXQoImZhaWxlZCIsbnVsbCxlLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCl9LHQucHJvdG90eXBlLm9uVHJhbnNwb3J0RXJyb3I9ZnVuY3Rpb24oKXt0aGlzLmVtaXQoImZhaWxlZCIsbnVsbCxlLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1IpfSxlLkNsaWVudENvbnRleHQ9dH19LGZ1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0OygodD1mdW5jdGlvbih0LGkpe3RoaXMudWE9dCx0aGlzLmxvZ2dlcj10LmdldExvZ2dlcigic2lwLnNlcnZlcmNvbnRleHQiKSx0aGlzLnJlcXVlc3Q9aSxpLm1ldGhvZD09PWUuQy5JTlZJVEU/dGhpcy50cmFuc2FjdGlvbj1uZXcgZS5UcmFuc2FjdGlvbnMuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24oaSx0KTp0aGlzLnRyYW5zYWN0aW9uPW5ldyBlLlRyYW5zYWN0aW9ucy5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbihpLHQpLGkuYm9keSYmKHRoaXMuYm9keT1pLmJvZHkpLGkuaGFzSGVhZGVyKCJDb250ZW50LVR5cGUiKSYmKHRoaXMuY29udGVudFR5cGU9aS5nZXRIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKSx0aGlzLm1ldGhvZD1pLm1ldGhvZCx0aGlzLmRhdGE9e30sdGhpcy5sb2NhbElkZW50aXR5PWkudG8sdGhpcy5yZW1vdGVJZGVudGl0eT1pLmZyb20saS5oYXNIZWFkZXIoIlAtQXNzZXJ0ZWQtSWRlbnRpdHkiKSYmKHRoaXMuYXNzZXJ0ZWRJZGVudGl0eT1uZXcgZS5OYW1lQWRkckhlYWRlci5wYXJzZShpLmdldEhlYWRlcigiUC1Bc3NlcnRlZC1JZGVudGl0eSIpKSl9KS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpKS5wcm9ncmVzcz1mdW5jdGlvbihlKXtyZXR1cm4oZT1PYmplY3QuY3JlYXRlKGV8fE9iamVjdC5wcm90b3R5cGUpKS5zdGF0dXNDb2RlfHwoZS5zdGF0dXNDb2RlPTE4MCksZS5taW5Db2RlPTEwMCxlLm1heENvZGU9MTk5LGUuZXZlbnRzPVsicHJvZ3Jlc3MiXSx0aGlzLnJlcGx5KGUpfSx0LnByb3RvdHlwZS5hY2NlcHQ9ZnVuY3Rpb24oZSl7cmV0dXJuKGU9T2JqZWN0LmNyZWF0ZShlfHxPYmplY3QucHJvdG90eXBlKSkuc3RhdHVzQ29kZXx8KGUuc3RhdHVzQ29kZT0yMDApLGUubWluQ29kZT0yMDAsZS5tYXhDb2RlPTI5OSxlLmV2ZW50cz1bImFjY2VwdGVkIl0sdGhpcy5yZXBseShlKX0sdC5wcm90b3R5cGUucmVqZWN0PWZ1bmN0aW9uKGUpe3JldHVybihlPU9iamVjdC5jcmVhdGUoZXx8T2JqZWN0LnByb3RvdHlwZSkpLnN0YXR1c0NvZGV8fChlLnN0YXR1c0NvZGU9NDgwKSxlLm1pbkNvZGU9MzAwLGUubWF4Q29kZT02OTksZS5ldmVudHM9WyJyZWplY3RlZCIsImZhaWxlZCJdLHRoaXMucmVwbHkoZSl9LHQucHJvdG90eXBlLnJlcGx5PWZ1bmN0aW9uKHQpe3ZhciBpLHM9KHQ9dHx8e30pLnN0YXR1c0NvZGV8fDEwMCxyPXQubWluQ29kZXx8MTAwLG49dC5tYXhDb2RlfHw2OTksbz1lLlV0aWxzLmdldFJlYXNvblBocmFzZShzLHQucmVhc29uUGhyYXNlKSxhPXQuZXh0cmFIZWFkZXJzfHxbXSxjPXQuYm9keSxoPXQuZXZlbnRzfHxbXTtpZihzPHJ8fHM+bil0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIHN0YXR1c0NvZGU6ICIrcyk7cmV0dXJuIGk9dGhpcy5yZXF1ZXN0LnJlcGx5KHMsbyxhLGMpLGguZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLmVtaXQoZSxpLG8pfSx0aGlzKSx0aGlzfSx0LnByb3RvdHlwZS5vblJlcXVlc3RUaW1lb3V0PWZ1bmN0aW9uKCl7dGhpcy5lbWl0KCJmYWlsZWQiLG51bGwsZS5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpfSx0LnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yPWZ1bmN0aW9uKCl7dGhpcy5lbWl0KCJmYWlsZWQiLG51bGwsZS5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKX0sZS5TZXJ2ZXJDb250ZXh0PXR9fSxmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxzLHIsbixvLGE9aSgyNSkoZSksYz17U1RBVFVTX05VTEw6MCxTVEFUVVNfSU5WSVRFX1NFTlQ6MSxTVEFUVVNfMVhYX1JFQ0VJVkVEOjIsU1RBVFVTX0lOVklURV9SRUNFSVZFRDozLFNUQVRVU19XQUlUSU5HX0ZPUl9BTlNXRVI6NCxTVEFUVVNfQU5TV0VSRUQ6NSxTVEFUVVNfV0FJVElOR19GT1JfUFJBQ0s6NixTVEFUVVNfV0FJVElOR19GT1JfQUNLOjcsU1RBVFVTX0NBTkNFTEVEOjgsU1RBVFVTX1RFUk1JTkFURUQ6OSxTVEFUVVNfQU5TV0VSRURfV0FJVElOR19GT1JfUFJBQ0s6MTAsU1RBVFVTX0VBUkxZX01FRElBOjExLFNUQVRVU19DT05GSVJNRUQ6MTJ9Oyh0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuc3RhdHVzPWMuU1RBVFVTX05VTEwsdGhpcy5kaWFsb2c9bnVsbCx0aGlzLnBlbmRpbmdSZWludml0ZT0hMSx0aGlzLmVhcmx5RGlhbG9ncz17fSwhdCl0aHJvdyBuZXcgZS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJNaXNzaW5nKCJBIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciBpcyByZXF1aXJlZCBmb3IgdGhlIHNlc3Npb24gdG8gZnVuY3Rpb24iKTt0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5PXQsdGhpcy5oYXNPZmZlcj0hMSx0aGlzLmhhc0Fuc3dlcj0hMSx0aGlzLnRpbWVycz17YWNrVGltZXI6bnVsbCxleHBpcmVzVGltZXI6bnVsbCxpbnZpdGUyeHhUaW1lcjpudWxsLHVzZXJOb0Fuc3dlclRpbWVyOm51bGwscmVsMXh4VGltZXI6bnVsbCxwcmFja1RpbWVyOm51bGx9LHRoaXMuc3RhcnRUaW1lPW51bGwsdGhpcy5lbmRUaW1lPW51bGwsdGhpcy50b25lcz1udWxsLHRoaXMubG9jYWxfaG9sZD0hMSx0aGlzLmVhcmx5X3NkcD1udWxsLHRoaXMucmVsMTAwPWUuQy5zdXBwb3J0ZWQuVU5TVVBQT1JURUR9KS5wcm90b3R5cGU9e2R0bWY6ZnVuY3Rpb24odCxpKXt2YXIgcz1bXSxyPXRoaXMsbj10aGlzLnVhLmNvbmZpZ3VyYXRpb24uZHRtZlR5cGU7aWYoaT1pfHx7fSx2b2lkIDA9PT10KXRocm93IG5ldyBUeXBlRXJyb3IoIk5vdCBlbm91Z2ggYXJndW1lbnRzIik7aWYodGhpcy5zdGF0dXMhPT1jLlNUQVRVU19DT05GSVJNRUQmJnRoaXMuc3RhdHVzIT09Yy5TVEFUVVNfV0FJVElOR19GT1JfQUNLKXRocm93IG5ldyBlLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO2lmKCJzdHJpbmciIT10eXBlb2YgdCYmIm51bWJlciIhPXR5cGVvZiB0fHwhdC50b1N0cmluZygpLm1hdGNoKC9eWzAtOUEtRCMqLF0rJC9pKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIHRvbmVzOiAiK3QpO3ZhciBvPWZ1bmN0aW9uKCl7dmFyIHQscztpZihyLnN0YXR1cz09PWMuU1RBVFVTX1RFUk1JTkFURUR8fCFyLnRvbmVzfHwwPT09ci50b25lcy5sZW5ndGgpcmV0dXJuIHIudG9uZXM9bnVsbCx0aGlzOyh0PXIudG9uZXMuc2hpZnQoKSkub24oImZhaWxlZCIsZnVuY3Rpb24oKXtyLnRvbmVzPW51bGx9KSx0LnNlbmQoaSkscz10LmR1cmF0aW9uK3QuaW50ZXJUb25lR2FwLGUuVGltZXJzLnNldFRpbWVvdXQobyxzKX07KHQ9dC50b1N0cmluZygpLG49PT1lLkMuZHRtZlR5cGUuUlRQKSYmKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5zZW5kRHRtZih0LGkpfHwodGhpcy5sb2dnZXIud2FybigiQXR0ZW1wdCB0byB1c2UgZHRtZlR5cGUgJ1JUUCcgaGFzIGZhaWxlZCwgZmFsbGluZyBiYWNrIHRvIElORk8gcGFja2V0IG1ldGhvZCIpLG49ZS5DLmR0bWZUeXBlLklORk8pKTtpZihuPT09ZS5DLmR0bWZUeXBlLklORk8pe2Zvcih0PXQuc3BsaXQoIiIpO3QubGVuZ3RoPjA7KXMucHVzaChuZXcgYSh0aGlzLHQuc2hpZnQoKSxpKSk7aWYodGhpcy50b25lcylyZXR1cm4gdGhpcy50b25lcz10aGlzLnRvbmVzLmNvbmNhdChzKSx0aGlzO3RoaXMudG9uZXM9cyxvKCl9cmV0dXJuIHRoaXN9LGJ5ZTpmdW5jdGlvbih0KXt2YXIgaT0odD1PYmplY3QuY3JlYXRlKHR8fE9iamVjdC5wcm90b3R5cGUpKS5zdGF0dXNDb2RlO2lmKHRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfVEVSTUlOQVRFRClyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoIkVycm9yOiBBdHRlbXB0ZWQgdG8gc2VuZCBCWUUgaW4gYSB0ZXJtaW5hdGVkIHNlc3Npb24uIiksdGhpcztpZih0aGlzLmxvZ2dlci5sb2coInRlcm1pbmF0aW5nIFNlc3Npb24iKSxpJiYoaTwyMDB8fGk+PTcwMCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBzdGF0dXNDb2RlOiAiK2kpO3JldHVybiB0LnJlY2VpdmVSZXNwb25zZT1mdW5jdGlvbigpe30sdGhpcy5zZW5kUmVxdWVzdChlLkMuQllFLHQpLnRlcm1pbmF0ZWQoKX0scmVmZXI6ZnVuY3Rpb24odCxpKXtpZihpPWl8fHt9LHRoaXMuc3RhdHVzIT09Yy5TVEFUVVNfQ09ORklSTUVEKXRocm93IG5ldyBlLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO3RoaXMucmVmZXJDb250ZXh0PW5ldyBlLlJlZmVyQ2xpZW50Q29udGV4dCh0aGlzLnVhLHRoaXMsdCxpKSx0aGlzLmVtaXQoInJlZmVyUmVxdWVzdGVkIix0aGlzLnJlZmVyQ29udGV4dCksdGhpcy5yZWZlckNvbnRleHQucmVmZXIoaSl9LHNlbmRSZXF1ZXN0OmZ1bmN0aW9uKHQsaSl7aT1pfHx7fTt2YXIgcz10aGlzLHI9bmV3IGUuT3V0Z29pbmdSZXF1ZXN0KHQsdGhpcy5kaWFsb2cucmVtb3RlX3RhcmdldCx0aGlzLnVhLHtjc2VxOmkuY3NlcXx8KHRoaXMuZGlhbG9nLmxvY2FsX3NlcW51bSs9MSksY2FsbF9pZDp0aGlzLmRpYWxvZy5pZC5jYWxsX2lkLGZyb21fdXJpOnRoaXMuZGlhbG9nLmxvY2FsX3VyaSxmcm9tX3RhZzp0aGlzLmRpYWxvZy5pZC5sb2NhbF90YWcsdG9fdXJpOnRoaXMuZGlhbG9nLnJlbW90ZV91cmksdG9fdGFnOnRoaXMuZGlhbG9nLmlkLnJlbW90ZV90YWcscm91dGVfc2V0OnRoaXMuZGlhbG9nLnJvdXRlX3NldCxzdGF0dXNDb2RlOmkuc3RhdHVzQ29kZSxyZWFzb25QaHJhc2U6aS5yZWFzb25QaHJhc2V9LGkuZXh0cmFIZWFkZXJzfHxbXSxpLmJvZHkpO3JldHVybiBuZXcgZS5SZXF1ZXN0U2VuZGVyKHtyZXF1ZXN0OnIsb25SZXF1ZXN0VGltZW91dDpmdW5jdGlvbigpe3Mub25SZXF1ZXN0VGltZW91dCgpfSxvblRyYW5zcG9ydEVycm9yOmZ1bmN0aW9uKCl7cy5vblRyYW5zcG9ydEVycm9yKCl9LHJlY2VpdmVSZXNwb25zZTppLnJlY2VpdmVSZXNwb25zZXx8ZnVuY3Rpb24oZSl7cy5yZWNlaXZlTm9uSW52aXRlUmVzcG9uc2UoZSl9fSx0aGlzLnVhKS5zZW5kKCksdGhpcy5lbWl0KHQudG9Mb3dlckNhc2UoKSxyKSx0aGlzfSxjbG9zZTpmdW5jdGlvbigpe3ZhciB0O2lmKHRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfVEVSTUlOQVRFRClyZXR1cm4gdGhpcztmb3IodCBpbiB0aGlzLmxvZ2dlci5sb2coImNsb3NpbmcgSU5WSVRFIHNlc3Npb24gIit0aGlzLmlkKSx0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXImJnRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5jbG9zZSgpLHRoaXMudGltZXJzKWUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVyc1t0XSk7Zm9yKHQgaW4gdGhpcy5kaWFsb2cmJih0aGlzLmRpYWxvZy50ZXJtaW5hdGUoKSxkZWxldGUgdGhpcy5kaWFsb2cpLHRoaXMuZWFybHlEaWFsb2dzKXRoaXMuZWFybHlEaWFsb2dzW3RdLnRlcm1pbmF0ZSgpLGRlbGV0ZSB0aGlzLmVhcmx5RGlhbG9nc1t0XTtyZXR1cm4gdGhpcy5zdGF0dXM9Yy5TVEFUVVNfVEVSTUlOQVRFRCx0aGlzLnVhLnRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcigidHJhbnNwb3J0RXJyb3IiLHRoaXMuZXJyb3JMaXN0ZW5lciksZGVsZXRlIHRoaXMudWEuc2Vzc2lvbnNbdGhpcy5pZF0sdGhpc30sY3JlYXRlRGlhbG9nOmZ1bmN0aW9uKHQsaSxzKXt2YXIgcixuLG89dFsiVUFTIj09PWk/InRvX3RhZyI6ImZyb21fdGFnIl0sYT10WyJVQVMiPT09aT8iZnJvbV90YWciOiJ0b190YWciXSxjPXQuY2FsbF9pZCtvK2E7aWYobj10aGlzLmVhcmx5RGlhbG9nc1tjXSxzKXJldHVybiEhbnx8KChuPW5ldyBlLkRpYWxvZyh0aGlzLHQsaSxlLkRpYWxvZy5DLlNUQVRVU19FQVJMWSkpLmVycm9yPyh0aGlzLmxvZ2dlci5lcnJvcihuLmVycm9yKSx0aGlzLmZhaWxlZCh0LGUuQy5jYXVzZXMuSU5URVJOQUxfRVJST1IpLCExKToodGhpcy5lYXJseURpYWxvZ3NbY109biwhMCkpO2lmKG4pe2Zvcih2YXIgaCBpbiBuLnVwZGF0ZSh0LGkpLHRoaXMuZGlhbG9nPW4sZGVsZXRlIHRoaXMuZWFybHlEaWFsb2dzW2NdLHRoaXMuZWFybHlEaWFsb2dzKXRoaXMuZWFybHlEaWFsb2dzW2hdLnRlcm1pbmF0ZSgpLGRlbGV0ZSB0aGlzLmVhcmx5RGlhbG9nc1toXTtyZXR1cm4hMH1yZXR1cm4ocj1uZXcgZS5EaWFsb2codGhpcyx0LGkpKS5lcnJvcj8odGhpcy5sb2dnZXIuZXJyb3Ioci5lcnJvciksdGhpcy5mYWlsZWQodCxlLkMuY2F1c2VzLklOVEVSTkFMX0VSUk9SKSwhMSk6KHRoaXMudG9fdGFnPXQudG9fdGFnLHRoaXMuZGlhbG9nPXIsITApfSxob2xkOmZ1bmN0aW9uKHQsaSl7aWYodGhpcy5zdGF0dXMhPT1jLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0smJnRoaXMuc3RhdHVzIT09Yy5TVEFUVVNfQ09ORklSTUVEKXRocm93IG5ldyBlLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO3RoaXMubG9jYWxfaG9sZD90aGlzLmxvZ2dlci5sb2coIlNlc3Npb24gaXMgYWxyZWFkeSBvbiBob2xkLCBjYW5ub3QgcHV0IGl0IG9uIGhvbGQgYWdhaW4iKTooKHQ9dHx8e30pLm1vZGlmaWVycz1pfHxbXSx0Lm1vZGlmaWVycy5wdXNoKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5ob2xkTW9kaWZpZXIpLHRoaXMubG9jYWxfaG9sZD0hMCx0aGlzLnNlbmRSZWludml0ZSh0KSl9LHVuaG9sZDpmdW5jdGlvbih0LGkpe2lmKHRoaXMuc3RhdHVzIT09Yy5TVEFUVVNfV0FJVElOR19GT1JfQUNLJiZ0aGlzLnN0YXR1cyE9PWMuU1RBVFVTX0NPTkZJUk1FRCl0aHJvdyBuZXcgZS5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKHRoaXMuc3RhdHVzKTt0aGlzLmxvY2FsX2hvbGQ/KHQ9dHx8e30saSYmKHQubW9kaWZpZXJzPWkpLHRoaXMubG9jYWxfaG9sZD0hMSx0aGlzLnNlbmRSZWludml0ZSh0KSk6dGhpcy5sb2dnZXIubG9nKCJTZXNzaW9uIGlzIG5vdCBvbiBob2xkLCBjYW5ub3QgdW5ob2xkIGl0Iil9LHJlaW52aXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9ZXx8e30sdCYmKGUubW9kaWZpZXJzPXQpLHRoaXMuc2VuZFJlaW52aXRlKGUpfSxyZWNlaXZlUmVpbnZpdGU6ZnVuY3Rpb24odCl7dmFyIGkscz10aGlzO2lmKHMuZW1pdCgicmVpbnZpdGUiLHRoaXMpLHQuaGFzSGVhZGVyKCJQLUFzc2VydGVkLUlkZW50aXR5IikmJih0aGlzLmFzc2VydGVkSWRlbnRpdHk9bmV3IGUuTmFtZUFkZHJIZWFkZXIucGFyc2UodC5nZXRIZWFkZXIoIlAtQXNzZXJ0ZWQtSWRlbnRpdHkiKSkpLCIwIiE9PXQuZ2V0SGVhZGVyKCJDb250ZW50LUxlbmd0aCIpfHx0LmdldEhlYWRlcigiQ29udGVudC1UeXBlIikpe2lmKCF0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuaGFzRGVzY3JpcHRpb24odC5nZXRIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKSlyZXR1cm4gdC5yZXBseSg0MTUpLHZvaWQgdGhpcy5lbWl0KCJyZWludml0ZUZhaWxlZCIscyk7aT10aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuc2V0RGVzY3JpcHRpb24odC5ib2R5LHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsdGhpcy5tb2RpZmllcnMpLnRoZW4odGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmdldERlc2NyaXB0aW9uLmJpbmQodGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsdGhpcy5tb2RpZmllcnMpKX1lbHNlIGk9dGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmdldERlc2NyaXB0aW9uKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsdGhpcy5tb2RpZmllcnMpO3RoaXMucmVjZWl2ZVJlcXVlc3Q9ZnVuY3Rpb24odCl7dC5tZXRob2Q9PT1lLkMuQUNLJiZ0aGlzLnN0YXR1cz09PWMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSz90aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuaGFzRGVzY3JpcHRpb24odC5nZXRIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKT8odGhpcy5oYXNBbnN3ZXI9ITAsdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnNldERlc2NyaXB0aW9uKHQuYm9keSx0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLHRoaXMubW9kaWZpZXJzKS50aGVuKGZ1bmN0aW9uKCl7ZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLmFja1RpbWVyKSxlLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMuaW52aXRlMnh4VGltZXIpLHRoaXMuc3RhdHVzPWMuU1RBVFVTX0NPTkZJUk1FRCx0aGlzLmVtaXQoImNvbmZpcm1lZCIsdCl9LmJpbmQodGhpcykpKTooZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLmFja1RpbWVyKSxlLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMuaW52aXRlMnh4VGltZXIpLHRoaXMuc3RhdHVzPWMuU1RBVFVTX0NPTkZJUk1FRCx0aGlzLmVtaXQoImNvbmZpcm1lZCIsdCkpOmUuU2Vzc2lvbi5wcm90b3R5cGUucmVjZWl2ZVJlcXVlc3QuYXBwbHkodGhpcyxbdF0pfS5iaW5kKHRoaXMpLGkuY2F0Y2goZnVuY3Rpb24oaSl7dmFyIHI7dGhyb3cgaSBpbnN0YW5jZW9mIGUuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3I/cj01MDA6aSBpbnN0YW5jZW9mIGUuRXhjZXB0aW9ucy5SZW5lZ290aWF0aW9uRXJyb3I/KHMuZW1pdCgicmVuZWdvdGlhdGlvbkVycm9yIixpKSxzLmxvZ2dlci53YXJuKGkpLHI9NDg4KToocy5sb2dnZXIuZXJyb3IoaSkscj00ODgpLHQucmVwbHkocikscy5lbWl0KCJyZWludml0ZUZhaWxlZCIscyksaX0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIGk9WyJDb250YWN0OiAiK3MuY29udGFjdF07dC5yZXBseSgyMDAsbnVsbCxpLGUsZnVuY3Rpb24oKXtzLnN0YXR1cz1jLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0sscy5zZXRBQ0tUaW1lcigpLHMuZW1pdCgicmVpbnZpdGVBY2NlcHRlZCIscyl9KX0pfSxzZW5kUmVpbnZpdGU6ZnVuY3Rpb24odCl7aWYodGhpcy5wZW5kaW5nUmVpbnZpdGUpdGhpcy5sb2dnZXIud2FybigiUmVpbnZpdGUgaW4gcHJvZ3Jlc3MuIFBsZWFzZSB3YWl0IHVudGlsIGNvbXBsZXRlLCB0aGVuIHRyeSBhZ2Fpbi4iKTtlbHNle3RoaXMucGVuZGluZ1JlaW52aXRlPSEwLCh0PXR8fHt9KS5tb2RpZmllcnM9dC5tb2RpZmllcnN8fFtdO3ZhciBpPXRoaXMscz0odC5leHRyYUhlYWRlcnN8fFtdKS5zbGljZSgpO3MucHVzaCgiQ29udGFjdDogIit0aGlzLmNvbnRhY3QpLHMucHVzaCgiQWxsb3c6ICIrZS5VQS5DLkFMTE9XRURfTUVUSE9EUy50b1N0cmluZygpKSx0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuZ2V0RGVzY3JpcHRpb24odC5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucyx0Lm1vZGlmaWVycykudGhlbihmdW5jdGlvbih0KXtpLnNlbmRSZXF1ZXN0KGUuQy5JTlZJVEUse2V4dHJhSGVhZGVyczpzLGJvZHk6dCxyZWNlaXZlUmVzcG9uc2U6aS5yZWNlaXZlUmVpbnZpdGVSZXNwb25zZS5iaW5kKGkpfSl9KS5jYXRjaChmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZS5FeGNlcHRpb25zLlJlbmVnb3RpYXRpb25FcnJvcilyZXR1cm4gaS5wZW5kaW5nUmVpbnZpdGU9ITEsaS5lbWl0KCJyZW5lZ290aWF0aW9uRXJyb3IiLHQpLGkubG9nZ2VyLndhcm4oIlJlbmVnb3RpYXRpb24gRXJyb3IiKSx2b2lkIGkubG9nZ2VyLndhcm4odCk7aS5sb2dnZXIuZXJyb3IoInNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgZXJyb3IiKSxpLmxvZ2dlci5lcnJvcih0KX0pfX0scmVjZWl2ZVJlcXVlc3Q6ZnVuY3Rpb24odCl7c3dpdGNoKHQubWV0aG9kKXtjYXNlIGUuQy5CWUU6dC5yZXBseSgyMDApLHRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfQ09ORklSTUVEJiYodGhpcy5lbWl0KCJieWUiLHQpLHRoaXMudGVybWluYXRlZCh0LGUuQy5jYXVzZXMuQllFKSk7YnJlYWs7Y2FzZSBlLkMuSU5WSVRFOnRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfQ09ORklSTUVEJiYodGhpcy5sb2dnZXIubG9nKCJyZS1JTlZJVEUgcmVjZWl2ZWQiKSx0aGlzLnJlY2VpdmVSZWludml0ZSh0KSk7YnJlYWs7Y2FzZSBlLkMuSU5GTzppZih0aGlzLnN0YXR1cz09PWMuU1RBVFVTX0NPTkZJUk1FRHx8dGhpcy5zdGF0dXM9PT1jLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0spe2lmKHRoaXMub25JbmZvKXJldHVybiB0aGlzLm9uSW5mbyh0KTt2YXIgaSxzLHIsbj10LmdldEhlYWRlcigiY29udGVudC10eXBlIiksbz0vXihTaWduYWxccyo/PVxzKj8pKFswLTlBLUQjKl17MX0pKFxzKT8uKi8saD0vXihEdXJhdGlvblxzPz1ccz8pKFswLTldezEsNH0pKFxzKT8uKi87biYmKG4ubWF0Y2goL15hcHBsaWNhdGlvblwvZHRtZi1yZWxheS9pKT8odC5ib2R5JiYyPT09KGk9dC5ib2R5LnNwbGl0KCJcclxuIiwyKSkubGVuZ3RoJiYoby50ZXN0KGlbMF0pJiYocz1pWzBdLnJlcGxhY2UobywiJDIiKSksaC50ZXN0KGlbMV0pJiYocj1wYXJzZUludChpWzFdLnJlcGxhY2UoaCwiJDIiKSwxMCkpKSxuZXcgYSh0aGlzLHMse2R1cmF0aW9uOnJ9KS5pbml0X2luY29taW5nKHQpKTp0LnJlcGx5KDQxNSxudWxsLFsiQWNjZXB0OiBhcHBsaWNhdGlvbi9kdG1mLXJlbGF5Il0pKX1icmVhaztjYXNlIGUuQy5SRUZFUjppZih0aGlzLnN0YXR1cz09PWMuU1RBVFVTX0NPTkZJUk1FRClpZih0aGlzLmxvZ2dlci5sb2coIlJFRkVSIHJlY2VpdmVkIiksdGhpcy5yZWZlckNvbnRleHQ9bmV3IGUuUmVmZXJTZXJ2ZXJDb250ZXh0KHRoaXMudWEsdCksdGhpcy5saXN0ZW5lcnMoInJlZmVyUmVxdWVzdGVkIikubGVuZ3RoKXRoaXMuZW1pdCgicmVmZXJSZXF1ZXN0ZWQiLHRoaXMucmVmZXJDb250ZXh0KTtlbHNle3RoaXMubG9nZ2VyLmxvZygiTm8gcmVmZXJSZXF1ZXN0ZWQgbGlzdGVuZXJzLCBhdXRvbWF0aWNhbGx5IGFjY2VwdGluZyBhbmQgZm9sbG93aW5nIHRoZSByZWZlciIpO3ZhciB1PXtmb2xsb3dSZWZlcjohMH07dGhpcy5wYXNzZWRPcHRpb25zJiYodS5pbnZpdGVPcHRpb25zPXRoaXMucGFzc2VkT3B0aW9ucyksdGhpcy5yZWZlckNvbnRleHQuYWNjZXB0KHUsdGhpcy5tb2RpZmllcnMpfWJyZWFrO2Nhc2UgZS5DLk5PVElGWTppZih0aGlzLnJlZmVyQ29udGV4dCYmdGhpcy5yZWZlckNvbnRleHQgaW5zdGFuY2VvZiBlLlJlZmVyQ2xpZW50Q29udGV4dCYmdC5oYXNIZWFkZXIoImV2ZW50IikmJi9ecmVmZXIoOy4qKT8kLy50ZXN0KHQuZ2V0SGVhZGVyKCJldmVudCIpKSlyZXR1cm4gdm9pZCB0aGlzLnJlZmVyQ29udGV4dC5yZWNlaXZlTm90aWZ5KHQpO3QucmVwbHkoMjAwLCJPSyIpLHRoaXMuZW1pdCgibm90aWZ5Iix0KX19LHJlY2VpdmVSZWludml0ZVJlc3BvbnNlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7aWYodGhpcy5zdGF0dXMhPT1jLlNUQVRVU19URVJNSU5BVEVEKWlmKHRoaXMucGVuZGluZ1JlaW52aXRlKXN3aXRjaCghMCl7Y2FzZS9eMVswLTldezJ9JC8udGVzdCh0LnN0YXR1c19jb2RlKTpicmVhaztjYXNlL14yWzAtOV17Mn0kLy50ZXN0KHQuc3RhdHVzX2NvZGUpOmlmKHRoaXMuc3RhdHVzPWMuU1RBVFVTX0NPTkZJUk1FRCx0aGlzLmVtaXQoImFjayIsdC50cmFuc2FjdGlvbi5zZW5kQUNLKCkpLHRoaXMucGVuZGluZ1JlaW52aXRlPSExLGUuVGltZXJzLmNsZWFyVGltZW91dChpLnRpbWVycy5pbnZpdGUyeHhUaW1lciksIXRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5oYXNEZXNjcmlwdGlvbih0LmdldEhlYWRlcigiQ29udGVudC1UeXBlIikpKXt0aGlzLmxvZ2dlci5lcnJvcigiMlhYIHJlc3BvbnNlIHJlY2VpdmVkIHRvIHJlLWludml0ZSBidXQgZGlkIG5vdCBoYXZlIGEgZGVzY3JpcHRpb24iKSx0aGlzLmVtaXQoInJlaW52aXRlRmFpbGVkIixpKSx0aGlzLmVtaXQoInJlbmVnb3RpYXRpb25FcnJvciIsbmV3IGUuRXhjZXB0aW9ucy5SZW5lZ290aWF0aW9uRXJyb3IoIjJYWCByZXNwb25zZSByZWNlaXZlZCB0byByZS1pbnZpdGUgYnV0IGRpZCBub3QgaGF2ZSBhIGRlc2NyaXB0aW9uIikpO2JyZWFrfXRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5zZXREZXNjcmlwdGlvbih0LmJvZHksdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucyx0aGlzLm1vZGlmaWVycykuY2F0Y2goZnVuY3Rpb24odCl7aS5sb2dnZXIuZXJyb3IoIkNvdWxkIG5vdCBzZXQgdGhlIGRlc2NyaXB0aW9uIGluIDJYWCByZXNwb25zZSIpLGkubG9nZ2VyLmVycm9yKHQpLGkuZW1pdCgicmVpbnZpdGVGYWlsZWQiLGkpLGkuZW1pdCgicmVuZWdvdGlhdGlvbkVycm9yIix0KSxpLnNlbmRSZXF1ZXN0KGUuQy5CWUUse2V4dHJhSGVhZGVyczpbIlJlYXNvbjogIitlLlV0aWxzLmdldFJlYXNvbkhlYWRlclZhbHVlKDQ4OCwiTm90IEFjY2VwdGFibGUgSGVyZSIpXX0pLGkudGVybWluYXRlZChudWxsLGUuQy5jYXVzZXMuSU5DT01QQVRJQkxFX1NEUCl9KS50aGVuKGZ1bmN0aW9uKCl7aS5lbWl0KCJyZWludml0ZUFjY2VwdGVkIixpKX0pO2JyZWFrO2RlZmF1bHQ6dGhpcy5wZW5kaW5nUmVpbnZpdGU9ITEsdGhpcy5sb2dnZXIubG9nKCJSZWNlaXZlZCBhIG5vbiAxWFggb3IgMlhYIHJlc3BvbnNlIHRvIGEgcmUtaW52aXRlIiksdGhpcy5lbWl0KCJyZWludml0ZUZhaWxlZCIsaSksdGhpcy5lbWl0KCJyZW5lZ290aWF0aW9uRXJyb3IiLG5ldyBlLkV4Y2VwdGlvbnMuUmVuZWdvdGlhdGlvbkVycm9yKCJJbnZhbGlkIHJlc3BvbnNlIHRvIGEgcmUtaW52aXRlIikpfWVsc2UgdGhpcy5sb2dnZXIuZXJyb3IoIlJlY2VpdmVkIHJlaW52aXRlIHJlc3BvbnNlLCBidXQgaGF2ZSBubyBwZW5kaW5nIHJlaW52aXRlIik7ZWxzZSB0aGlzLmxvZ2dlci5lcnJvcigiUmVjZWl2ZWQgcmVpbnZpdGUgcmVzcG9uc2UsIGJ1dCBpbiBTVEFUVVNfVEVSTUlOQVRFRCIpfSxhY2NlcHRBbmRUZXJtaW5hdGU6ZnVuY3Rpb24odCxpLHMpe3ZhciByPVtdO3JldHVybiBpJiZyLnB1c2goIlJlYXNvbjogIitlLlV0aWxzLmdldFJlYXNvbkhlYWRlclZhbHVlKGkscykpLCh0aGlzLmRpYWxvZ3x8dGhpcy5jcmVhdGVEaWFsb2codCwiVUFDIikpJiYodGhpcy5lbWl0KCJhY2siLHQudHJhbnNhY3Rpb24uc2VuZEFDSygpKSx0aGlzLnNlbmRSZXF1ZXN0KGUuQy5CWUUse2V4dHJhSGVhZGVyczpyfSkpLHRoaXN9LHNldEludml0ZTJ4eFRpbWVyOmZ1bmN0aW9uKHQsaSl7dmFyIHM9dGhpcyxyPWUuVGltZXJzLlQxO3RoaXMudGltZXJzLmludml0ZTJ4eFRpbWVyPWUuVGltZXJzLnNldFRpbWVvdXQoZnVuY3Rpb24gbigpe2lmKHMuc3RhdHVzPT09Yy5TVEFUVVNfV0FJVElOR19GT1JfQUNLKXtzLmxvZ2dlci5sb2coIm5vIEFDSyByZWNlaXZlZCwgYXR0ZW1wdGluZyB0byByZXRyYW5zbWl0IE9LIik7dmFyIG89WyJDb250YWN0OiAiK3MuY29udGFjdF07dC5yZXBseSgyMDAsbnVsbCxvLGkpLHI9TWF0aC5taW4oMipyLGUuVGltZXJzLlQyKSxzLnRpbWVycy5pbnZpdGUyeHhUaW1lcj1lLlRpbWVycy5zZXRUaW1lb3V0KG4scil9fSxyKX0sc2V0QUNLVGltZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMudGltZXJzLmFja1RpbWVyPWUuVGltZXJzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnN0YXR1cz09PWMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSyYmKHQubG9nZ2VyLmxvZygibm8gQUNLIHJlY2VpdmVkIGZvciBhbiBleHRlbmRlZCBwZXJpb2Qgb2YgdGltZSwgdGVybWluYXRpbmcgdGhlIGNhbGwiKSxlLlRpbWVycy5jbGVhclRpbWVvdXQodC50aW1lcnMuaW52aXRlMnh4VGltZXIpLHQuc2VuZFJlcXVlc3QoZS5DLkJZRSksdC50ZXJtaW5hdGVkKG51bGwsZS5DLmNhdXNlcy5OT19BQ0spKX0sZS5UaW1lcnMuVElNRVJfSCl9LG9uVHJhbnNwb3J0RXJyb3I6ZnVuY3Rpb24oKXt0aGlzLnN0YXR1cyE9PWMuU1RBVFVTX0NPTkZJUk1FRCYmdGhpcy5zdGF0dXMhPT1jLlNUQVRVU19URVJNSU5BVEVEJiZ0aGlzLmZhaWxlZChudWxsLGUuQy5jYXVzZXMuQ09OTkVDVElPTl9FUlJPUil9LG9uUmVxdWVzdFRpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLnN0YXR1cz09PWMuU1RBVFVTX0NPTkZJUk1FRD90aGlzLnRlcm1pbmF0ZWQobnVsbCxlLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCk6dGhpcy5zdGF0dXMhPT1jLlNUQVRVU19URVJNSU5BVEVEJiYodGhpcy5mYWlsZWQobnVsbCxlLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCksdGhpcy50ZXJtaW5hdGVkKG51bGwsZS5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpKX0sb25EaWFsb2dFcnJvcjpmdW5jdGlvbih0KXt0aGlzLnN0YXR1cz09PWMuU1RBVFVTX0NPTkZJUk1FRD90aGlzLnRlcm1pbmF0ZWQodCxlLkMuY2F1c2VzLkRJQUxPR19FUlJPUik6dGhpcy5zdGF0dXMhPT1jLlNUQVRVU19URVJNSU5BVEVEJiYodGhpcy5mYWlsZWQodCxlLkMuY2F1c2VzLkRJQUxPR19FUlJPUiksdGhpcy50ZXJtaW5hdGVkKHQsZS5DLmNhdXNlcy5ESUFMT0dfRVJST1IpKX0sZmFpbGVkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfVEVSTUlOQVRFRD90aGlzOih0aGlzLmVtaXQoImZhaWxlZCIsZXx8bnVsbCx0fHxudWxsKSx0aGlzKX0scmVqZWN0ZWQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbWl0KCJyZWplY3RlZCIsZXx8bnVsbCx0fHxudWxsKSx0aGlzfSxjYW5jZWxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXImJnRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5jbG9zZSgpLHRoaXMuZW1pdCgiY2FuY2VsIiksdGhpc30sYWNjZXB0ZWQ6ZnVuY3Rpb24odCxpKXtyZXR1cm4gaT1lLlV0aWxzLmdldFJlYXNvblBocmFzZSh0JiZ0LnN0YXR1c19jb2RlLGkpLHRoaXMuc3RhcnRUaW1lPW5ldyBEYXRlLHRoaXMucmVwbGFjZWUmJih0aGlzLnJlcGxhY2VlLmVtaXQoInJlcGxhY2VkIix0aGlzKSx0aGlzLnJlcGxhY2VlLnRlcm1pbmF0ZSgpKSx0aGlzLmVtaXQoImFjY2VwdGVkIix0LGkpLHRoaXN9LHRlcm1pbmF0ZWQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zdGF0dXM9PT1jLlNUQVRVU19URVJNSU5BVEVEP3RoaXM6KHRoaXMuZW5kVGltZT1uZXcgRGF0ZSx0aGlzLmNsb3NlKCksdGhpcy5lbWl0KCJ0ZXJtaW5hdGVkIixlfHxudWxsLHR8fG51bGwpLHRoaXMpfSxjb25uZWN0aW5nOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVtaXQoImNvbm5lY3RpbmciLHtyZXF1ZXN0OmV9KSx0aGlzfX0sdC5DPWMsZS5TZXNzaW9uPXQsKHM9ZnVuY3Rpb24odCxpKXt2YXIgcyxyPXRoaXMsbj1pLmdldEhlYWRlcigiQ29udGVudC1UeXBlIiksbz1pLnBhcnNlSGVhZGVyKCJDb250ZW50LURpc3Bvc2l0aW9uIik7ZnVuY3Rpb24gYShlLHQpe2kuaGFzSGVhZGVyKGUpJiZpLmdldEhlYWRlcihlKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIjEwMHJlbCIpPj0wJiYoci5yZWwxMDA9dCl9aWYoZS5VdGlscy5hdWdtZW50KHRoaXMsZS5TZXJ2ZXJDb250ZXh0LFt0LGldKSxlLlV0aWxzLmF1Z21lbnQodGhpcyxlLlNlc3Npb24sW3QuY29uZmlndXJhdGlvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeV0pLG8mJiJyZW5kZXIiPT09by50eXBlJiYodGhpcy5yZW5kZXJib2R5PWkuYm9keSx0aGlzLnJlbmRlcnR5cGU9biksdGhpcy5zdGF0dXM9Yy5TVEFUVVNfSU5WSVRFX1JFQ0VJVkVELHRoaXMuZnJvbV90YWc9aS5mcm9tX3RhZyx0aGlzLmlkPWkuY2FsbF9pZCt0aGlzLmZyb21fdGFnLHRoaXMucmVxdWVzdD1pLHRoaXMuY29udGFjdD10aGlzLnVhLmNvbnRhY3QudG9TdHJpbmcoKSx0aGlzLnJlY2VpdmVOb25JbnZpdGVSZXNwb25zZT1mdW5jdGlvbigpe30sdGhpcy5sb2dnZXI9dC5nZXRMb2dnZXIoInNpcC5pbnZpdGVzZXJ2ZXJjb250ZXh0Iix0aGlzLmlkKSx0aGlzLnVhLnNlc3Npb25zW3RoaXMuaWRdPXRoaXMsaS5oYXNIZWFkZXIoImV4cGlyZXMiKSYmKHM9MWUzKmkuZ2V0SGVhZGVyKCJleHBpcmVzIikpLGEoInJlcXVpcmUiLGUuQy5zdXBwb3J0ZWQuUkVRVUlSRUQpLGEoInN1cHBvcnRlZCIsZS5DLnN1cHBvcnRlZC5TVVBQT1JURUQpLGkudG9fdGFnPWUuVXRpbHMubmV3VGFnKCksdGhpcy5jcmVhdGVEaWFsb2coaSwiVUFTIiwhMCkpe3ZhciBoPXtleHRyYUhlYWRlcnM6WyJDb250YWN0OiAiK3IuY29udGFjdF19O3IucmVsMTAwIT09ZS5DLnN1cHBvcnRlZC5SRVFVSVJFRCYmci5wcm9ncmVzcyhoKSxyLnN0YXR1cz1jLlNUQVRVU19XQUlUSU5HX0ZPUl9BTlNXRVIsci50aW1lcnMudXNlck5vQW5zd2VyVGltZXI9ZS5UaW1lcnMuc2V0VGltZW91dChmdW5jdGlvbigpe2kucmVwbHkoNDA4KSxyLmZhaWxlZChpLGUuQy5jYXVzZXMuTk9fQU5TV0VSKSxyLnRlcm1pbmF0ZWQoaSxlLkMuY2F1c2VzLk5PX0FOU1dFUil9LHIudWEuY29uZmlndXJhdGlvbi5ub0Fuc3dlclRpbWVvdXQpLHMmJihyLnRpbWVycy5leHBpcmVzVGltZXI9ZS5UaW1lcnMuc2V0VGltZW91dChmdW5jdGlvbigpe3Iuc3RhdHVzPT09Yy5TVEFUVVNfV0FJVElOR19GT1JfQU5TV0VSJiYoaS5yZXBseSg0ODcpLHIuZmFpbGVkKGksZS5DLmNhdXNlcy5FWFBJUkVTKSxyLnRlcm1pbmF0ZWQoaSxlLkMuY2F1c2VzLkVYUElSRVMpKX0scykpLHRoaXMuZXJyb3JMaXN0ZW5lcj10aGlzLm9uVHJhbnNwb3J0RXJyb3IuYmluZCh0aGlzKSx0LnRyYW5zcG9ydC5vbigidHJhbnNwb3J0RXJyb3IiLHRoaXMuZXJyb3JMaXN0ZW5lcil9ZWxzZSBpLnJlcGx5KDUwMCwiTWlzc2luZyBDb250YWN0IGhlYWRlciBmaWVsZCIpfSkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoe30se3JlamVjdDp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5zdGF0dXM9PT1jLlNUQVRVU19URVJNSU5BVEVEKXRocm93IG5ldyBlLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO3JldHVybiB0aGlzLmxvZ2dlci5sb2coInJlamVjdGluZyBSVENTZXNzaW9uIiksZS5TZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5yZWplY3QuY2FsbCh0aGlzLHQpLHRoaXMudGVybWluYXRlZCgpfX0sdGVybWluYXRlOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbih0KXt2YXIgaSxzPSgodD10fHx7fSkuZXh0cmFIZWFkZXJzfHxbXSkuc2xpY2UoKSxyPXQuYm9keSxuPXRoaXM7cmV0dXJuIHRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfV0FJVElOR19GT1JfQUNLJiZ0aGlzLnJlcXVlc3Quc2VydmVyX3RyYW5zYWN0aW9uLnN0YXRlIT09ZS5UcmFuc2FjdGlvbnMuQy5TVEFUVVNfVEVSTUlOQVRFRD8oaT10aGlzLmRpYWxvZyx0aGlzLnJlY2VpdmVSZXF1ZXN0PWZ1bmN0aW9uKHQpe3QubWV0aG9kPT09ZS5DLkFDSyYmKHRoaXMuc2VuZFJlcXVlc3QoZS5DLkJZRSx7ZXh0cmFIZWFkZXJzOnMsYm9keTpyfSksaS50ZXJtaW5hdGUoKSl9LHRoaXMucmVxdWVzdC5zZXJ2ZXJfdHJhbnNhY3Rpb24ub24oInN0YXRlQ2hhbmdlZCIsZnVuY3Rpb24oKXt0aGlzLnN0YXRlPT09ZS5UcmFuc2FjdGlvbnMuQy5TVEFUVVNfVEVSTUlOQVRFRCYmdGhpcy5kaWFsb2cmJih0aGlzLnJlcXVlc3Q9bmV3IGUuT3V0Z29pbmdSZXF1ZXN0KGUuQy5CWUUsdGhpcy5kaWFsb2cucmVtb3RlX3RhcmdldCx0aGlzLnVhLHtjc2VxOnRoaXMuZGlhbG9nLmxvY2FsX3NlcW51bSs9MSxjYWxsX2lkOnRoaXMuZGlhbG9nLmlkLmNhbGxfaWQsZnJvbV91cmk6dGhpcy5kaWFsb2cubG9jYWxfdXJpLGZyb21fdGFnOnRoaXMuZGlhbG9nLmlkLmxvY2FsX3RhZyx0b191cmk6dGhpcy5kaWFsb2cucmVtb3RlX3VyaSx0b190YWc6dGhpcy5kaWFsb2cuaWQucmVtb3RlX3RhZyxyb3V0ZV9zZXQ6dGhpcy5kaWFsb2cucm91dGVfc2V0fSxzLHIpLG5ldyBlLlJlcXVlc3RTZW5kZXIoe3JlcXVlc3Q6dGhpcy5yZXF1ZXN0LG9uUmVxdWVzdFRpbWVvdXQ6ZnVuY3Rpb24oKXtuLm9uUmVxdWVzdFRpbWVvdXQoKX0sb25UcmFuc3BvcnRFcnJvcjpmdW5jdGlvbigpe24ub25UcmFuc3BvcnRFcnJvcigpfSxyZWNlaXZlUmVzcG9uc2U6ZnVuY3Rpb24oKXt9fSx0aGlzLnVhKS5zZW5kKCksaS50ZXJtaW5hdGUoKSl9KSx0aGlzLmVtaXQoImJ5ZSIsdGhpcy5yZXF1ZXN0KSx0aGlzLnRlcm1pbmF0ZWQoKSx0aGlzLmRpYWxvZz1pLHRoaXMudWEuZGlhbG9nc1tpLmlkLnRvU3RyaW5nKCldPWkpOnRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfQ09ORklSTUVEP3RoaXMuYnllKHQpOnRoaXMucmVqZWN0KHQpLHRoaXN9fSxwcm9ncmVzczp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGkscz0odD10fHx7fSkuc3RhdHVzQ29kZXx8MTgwLHI9dC5yZWFzb25QaHJhc2Usbj0odC5leHRyYUhlYWRlcnN8fFtdKS5zbGljZSgpLG89dC5ib2R5O2lmKHM8MTAwfHxzPjE5OSl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIHN0YXR1c0NvZGU6ICIrcyk7aWYodGhpcy5pc0NhbmNlbGVkfHx0aGlzLnN0YXR1cz09PWMuU1RBVFVTX1RFUk1JTkFURUQpcmV0dXJuIHRoaXM7ZnVuY3Rpb24gYSgpe3M9dC5zdGF0dXNDb2RlfHwxODMsdGhpcy5zdGF0dXM9Yy5TVEFUVVNfV0FJVElOR19GT1JfUFJBQ0ssbi5wdXNoKCJDb250YWN0OiAiK3RoaXMuY29udGFjdCksbi5wdXNoKCJSZXF1aXJlOiAxMDByZWwiKSxuLnB1c2goIlJTZXE6ICIrTWF0aC5mbG9vcigxZTQqTWF0aC5yYW5kb20oKSkpLHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5nZXREZXNjcmlwdGlvbih0LnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLHQubW9kaWZpZXJzKS50aGVuKGZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzQ2FuY2VsZWQmJnRoaXMuc3RhdHVzIT09Yy5TVEFUVVNfVEVSTUlOQVRFRCl7dGhpcy5lYXJseV9zZHA9dC5ib2R5LHRoaXNbdGhpcy5oYXNPZmZlcj8iaGFzQW5zd2VyIjoiaGFzT2ZmZXIiXT0hMDt2YXIgbz1lLlRpbWVycy5UMTt0aGlzLnRpbWVycy5yZWwxeHhUaW1lcj1lLlRpbWVycy5zZXRUaW1lb3V0KGZ1bmN0aW9uIGkoKXt0aGlzLnJlcXVlc3QucmVwbHkocyxudWxsLG4sdCksbyo9Mix0aGlzLnRpbWVycy5yZWwxeHhUaW1lcj1lLlRpbWVycy5zZXRUaW1lb3V0KGkuYmluZCh0aGlzKSxvKX0uYmluZCh0aGlzKSxvKSx0aGlzLnRpbWVycy5wcmFja1RpbWVyPWUuVGltZXJzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLnN0YXR1cz09PWMuU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLJiYodGhpcy5sb2dnZXIubG9nKCJubyBQUkFDSyByZWNlaXZlZCwgcmVqZWN0aW5nIHRoZSBjYWxsIiksZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLnJlbDF4eFRpbWVyKSx0aGlzLnJlcXVlc3QucmVwbHkoNTA0KSx0aGlzLnRlcm1pbmF0ZWQobnVsbCxlLkMuY2F1c2VzLk5PX1BSQUNLKSl9LmJpbmQodGhpcyksNjQqZS5UaW1lcnMuVDEpLGk9dGhpcy5yZXF1ZXN0LnJlcGx5KHMscixuLHQpLHRoaXMuZW1pdCgicHJvZ3Jlc3MiLGkscil9fS5iaW5kKHRoaXMpLGZ1bmN0aW9uKCl7dGhpcy5yZXF1ZXN0LnJlcGx5KDQ4MCksdGhpcy5mYWlsZWQobnVsbCxlLkMuY2F1c2VzLldFQlJUQ19FUlJPUiksdGhpcy50ZXJtaW5hdGVkKG51bGwsZS5DLmNhdXNlcy5XRUJSVENfRVJST1IpfS5iaW5kKHRoaXMpKX1yZXR1cm4gMTAwIT09dC5zdGF0dXNDb2RlJiYodGhpcy5yZWwxMDA9PT1lLkMuc3VwcG9ydGVkLlJFUVVJUkVEfHx0aGlzLnJlbDEwMD09PWUuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEJiZ0LnJlbDEwMHx8dGhpcy5yZWwxMDA9PT1lLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCYmdGhpcy51YS5jb25maWd1cmF0aW9uLnJlbDEwMD09PWUuQy5zdXBwb3J0ZWQuUkVRVUlSRUQpPyh0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXI9dGhpcy5zZXR1cFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIoKSx0aGlzLmVtaXQoIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXItY3JlYXRlZCIsdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSx0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuaGFzRGVzY3JpcHRpb24odGhpcy5yZXF1ZXN0LmdldEhlYWRlcigiQ29udGVudC1UeXBlIikpPyh0aGlzLmhhc09mZmVyPSEwLHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5zZXREZXNjcmlwdGlvbih0aGlzLnJlcXVlc3QuYm9keSx0LnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLHQubW9kaWZpZXJzKS50aGVuKGEuYXBwbHkodGhpcykpLmNhdGNoKGZ1bmN0aW9uKHQpe3RoaXMubG9nZ2VyLndhcm4oImludmFsaWQgZGVzY3JpcHRpb24iKSx0aGlzLmxvZ2dlci53YXJuKHQpLHRoaXMuZmFpbGVkKG51bGwsZS5DLmNhdXNlcy5XRUJSVENfRVJST1IpLHRoaXMudGVybWluYXRlZChudWxsLGUuQy5jYXVzZXMuV0VCUlRDX0VSUk9SKX0uYmluZCh0aGlzKSkpOmEuYXBwbHkodGhpcykpOmZ1bmN0aW9uKCl7aT10aGlzLnJlcXVlc3QucmVwbHkocyxyLG4sbyksdGhpcy5lbWl0KCJwcm9ncmVzcyIsaSxyKX0uYXBwbHkodGhpcyksdGhpc319LGFjY2VwdDp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24odCl7dD10fHx7fSx0aGlzLm9uSW5mbz10Lm9uSW5mbzt2YXIgaT10aGlzLHM9dGhpcy5yZXF1ZXN0LHI9KHQuZXh0cmFIZWFkZXJzfHxbXSkuc2xpY2UoKSxuPWZ1bmN0aW9uKHQpe3ZhciBuO3IucHVzaCgiQ29udGFjdDogIitpLmNvbnRhY3QpLHIucHVzaCgiQWxsb3c6ICIrZS5VQS5DLkFMTE9XRURfTUVUSE9EUy50b1N0cmluZygpKSxpLmhhc09mZmVyP2kuaGFzQW5zd2VyPSEwOmkuaGFzT2ZmZXI9ITAsbj1zLnJlcGx5KDIwMCxudWxsLHIsdCxmdW5jdGlvbigpe2kuc3RhdHVzPWMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSyxpLnNldEludml0ZTJ4eFRpbWVyKHMsdCksaS5zZXRBQ0tUaW1lcigpfSxmdW5jdGlvbigpe2kuZmFpbGVkKG51bGwsZS5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKSxpLnRlcm1pbmF0ZWQobnVsbCxlLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1IpfSksaS5zdGF0dXMhPT1jLlNUQVRVU19URVJNSU5BVEVEJiZpLmFjY2VwdGVkKG4sZS5VdGlscy5nZXRSZWFzb25QaHJhc2UoMjAwKSl9LG89ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIGUuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3ImJihpLmxvZ2dlci5sb2codC5tZXNzYWdlKSxpLmxvZ2dlci5sb2codC5lcnJvcikpLGkuc3RhdHVzIT09Yy5TVEFUVVNfVEVSTUlOQVRFRCYmKGkucmVxdWVzdC5yZXBseSg0ODApLGkuZmFpbGVkKG51bGwsZS5DLmNhdXNlcy5XRUJSVENfRVJST1IpLGkudGVybWluYXRlZChudWxsLGUuQy5jYXVzZXMuV0VCUlRDX0VSUk9SKSl9O2lmKHRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfV0FJVElOR19GT1JfUFJBQ0spcmV0dXJuIHRoaXMuc3RhdHVzPWMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLLHRoaXM7aWYodGhpcy5zdGF0dXM9PT1jLlNUQVRVU19XQUlUSU5HX0ZPUl9BTlNXRVIpdGhpcy5zdGF0dXM9Yy5TVEFUVVNfQU5TV0VSRUQ7ZWxzZSBpZih0aGlzLnN0YXR1cyE9PWMuU1RBVFVTX0VBUkxZX01FRElBKXRocm93IG5ldyBlLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO2lmKCF0aGlzLmNyZWF0ZURpYWxvZyhzLCJVQVMiKSlyZXR1cm4gcy5yZXBseSg1MDAsIk1pc3NpbmcgQ29udGFjdCBoZWFkZXIgZmllbGQiKSx0aGlzO2lmKGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy51c2VyTm9BbnN3ZXJUaW1lciksdGhpcy5zdGF0dXM9PT1jLlNUQVRVU19FQVJMWV9NRURJQSluKHt9KTtlbHNlIGlmKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcj10aGlzLnNldHVwU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcigpLHRoaXMuZW1pdCgiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci1jcmVhdGVkIix0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIpLCIwIiE9PXRoaXMucmVxdWVzdC5nZXRIZWFkZXIoIkNvbnRlbnQtTGVuZ3RoIil8fHRoaXMucmVxdWVzdC5nZXRIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKXtpZighdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKHRoaXMucmVxdWVzdC5nZXRIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKSlyZXR1cm4gdm9pZCB0aGlzLnJlcXVlc3QucmVwbHkoNDE1KTt0aGlzLmhhc09mZmVyPSEwLHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5zZXREZXNjcmlwdGlvbih0aGlzLnJlcXVlc3QuYm9keSx0LnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLHQubW9kaWZpZXJzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5nZXREZXNjcmlwdGlvbih0LnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLHQubW9kaWZpZXJzKX0uYmluZCh0aGlzKSkuY2F0Y2gobykudGhlbihuKX1lbHNlIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5nZXREZXNjcmlwdGlvbih0LnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLHQubW9kaWZpZXJzKS5jYXRjaChvKS50aGVuKG4pO3JldHVybiB0aGlzfX0scmVjZWl2ZVJlcXVlc3Q6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKGkpe2Z1bmN0aW9uIHMoKXt2YXIgdCxzO2UuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5hY2tUaW1lciksZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLmludml0ZTJ4eFRpbWVyKSx0aGlzLnN0YXR1cz1jLlNUQVRVU19DT05GSVJNRUQsdD1pLmdldEhlYWRlcigiQ29udGVudC1UeXBlIiksKHM9aS5nZXRIZWFkZXIoIkNvbnRlbnQtRGlzcG9zaXRpb24iKSkmJiJyZW5kZXIiPT09cy50eXBlJiYodGhpcy5yZW5kZXJib2R5PWkuYm9keSx0aGlzLnJlbmRlcnR5cGU9dCksdGhpcy5lbWl0KCJjb25maXJtZWQiLGkpfXN3aXRjaChpLm1ldGhvZCl7Y2FzZSBlLkMuQ0FOQ0VMOnRoaXMuc3RhdHVzIT09Yy5TVEFUVVNfV0FJVElOR19GT1JfQU5TV0VSJiZ0aGlzLnN0YXR1cyE9PWMuU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLJiZ0aGlzLnN0YXR1cyE9PWMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLJiZ0aGlzLnN0YXR1cyE9PWMuU1RBVFVTX0VBUkxZX01FRElBJiZ0aGlzLnN0YXR1cyE9PWMuU1RBVFVTX0FOU1dFUkVEfHwodGhpcy5zdGF0dXM9Yy5TVEFUVVNfQ0FOQ0VMRUQsdGhpcy5yZXF1ZXN0LnJlcGx5KDQ4NyksdGhpcy5jYW5jZWxlZChpKSx0aGlzLnJlamVjdGVkKGksZS5DLmNhdXNlcy5DQU5DRUxFRCksdGhpcy5mYWlsZWQoaSxlLkMuY2F1c2VzLkNBTkNFTEVEKSx0aGlzLnRlcm1pbmF0ZWQoaSxlLkMuY2F1c2VzLkNBTkNFTEVEKSk7YnJlYWs7Y2FzZSBlLkMuQUNLOnRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfV0FJVElOR19GT1JfQUNLJiYodGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKGkuZ2V0SGVhZGVyKCJDb250ZW50LVR5cGUiKSk/KHRoaXMuaGFzQW5zd2VyPSEwLHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5zZXREZXNjcmlwdGlvbihpLmJvZHksdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucyx0aGlzLm1vZGlmaWVycykudGhlbihzLmJpbmQodGhpcyksZnVuY3Rpb24odCl7dGhpcy5sb2dnZXIud2Fybih0KSx0aGlzLnRlcm1pbmF0ZSh7c3RhdHVzQ29kZToiNDg4IixyZWFzb25QaHJhc2U6IkJhZCBNZWRpYSBEZXNjcmlwdGlvbiJ9KSx0aGlzLmZhaWxlZChpLGUuQy5jYXVzZXMuQkFEX01FRElBX0RFU0NSSVBUSU9OKSx0aGlzLnRlcm1pbmF0ZWQoaSxlLkMuY2F1c2VzLkJBRF9NRURJQV9ERVNDUklQVElPTil9LmJpbmQodGhpcykpKTpzLmFwcGx5KHRoaXMpKTticmVhaztjYXNlIGUuQy5QUkFDSzp0aGlzLnN0YXR1cz09PWMuU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLfHx0aGlzLnN0YXR1cz09PWMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLP3RoaXMuaGFzQW5zd2VyPyhlLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMucmVsMXh4VGltZXIpLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5wcmFja1RpbWVyKSxpLnJlcGx5KDIwMCksdGhpcy5zdGF0dXM9PT1jLlNUQVRVU19BTlNXRVJFRF9XQUlUSU5HX0ZPUl9QUkFDSyYmKHRoaXMuc3RhdHVzPWMuU1RBVFVTX0VBUkxZX01FRElBLHRoaXMuYWNjZXB0KCkpLHRoaXMuc3RhdHVzPWMuU1RBVFVTX0VBUkxZX01FRElBKToodGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyPXRoaXMuc2V0dXBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKCksdGhpcy5lbWl0KCJTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLWNyZWF0ZWQiLHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciksdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKGkuZ2V0SGVhZGVyKCJDb250ZW50LVR5cGUiKSk/KHRoaXMuaGFzQW5zd2VyPSEwLHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5zZXREZXNjcmlwdGlvbihpLmJvZHksdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucyx0aGlzLm1vZGlmaWVycykudGhlbihmdW5jdGlvbigpe2UuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5yZWwxeHhUaW1lciksZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLnByYWNrVGltZXIpLGkucmVwbHkoMjAwKSx0aGlzLnN0YXR1cz09PWMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLJiYodGhpcy5zdGF0dXM9Yy5TVEFUVVNfRUFSTFlfTUVESUEsdGhpcy5hY2NlcHQoKSksdGhpcy5zdGF0dXM9Yy5TVEFUVVNfRUFSTFlfTUVESUF9LmJpbmQodGhpcyksZnVuY3Rpb24odCl7dGhpcy5sb2dnZXIud2Fybih0KSx0aGlzLnRlcm1pbmF0ZSh7c3RhdHVzQ29kZToiNDg4IixyZWFzb25QaHJhc2U6IkJhZCBNZWRpYSBEZXNjcmlwdGlvbiJ9KSx0aGlzLmZhaWxlZChpLGUuQy5jYXVzZXMuQkFEX01FRElBX0RFU0NSSVBUSU9OKSx0aGlzLnRlcm1pbmF0ZWQoaSxlLkMuY2F1c2VzLkJBRF9NRURJQV9ERVNDUklQVElPTil9LmJpbmQodGhpcykpKToodGhpcy50ZXJtaW5hdGUoe3N0YXR1c0NvZGU6IjQ4OCIscmVhc29uUGhyYXNlOiJCYWQgTWVkaWEgRGVzY3JpcHRpb24ifSksdGhpcy5mYWlsZWQoaSxlLkMuY2F1c2VzLkJBRF9NRURJQV9ERVNDUklQVElPTiksdGhpcy50ZXJtaW5hdGVkKGksZS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pKSk6dGhpcy5zdGF0dXM9PT1jLlNUQVRVU19FQVJMWV9NRURJQSYmaS5yZXBseSgyMDApO2JyZWFrO2RlZmF1bHQ6dC5wcm90b3R5cGUucmVjZWl2ZVJlcXVlc3QuYXBwbHkodGhpcyxbaV0pfX19LHNldHVwU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcjp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyP3RoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcjp0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5KHRoaXMsdGhpcy51YS5jb25maWd1cmF0aW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyl9fSxvblRyYW5zcG9ydEVycm9yOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdHVzIT09Yy5TVEFUVVNfQ09ORklSTUVEJiZ0aGlzLnN0YXR1cyE9PWMuU1RBVFVTX1RFUk1JTkFURUQmJnRoaXMuZmFpbGVkKG51bGwsZS5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKX19LG9uUmVxdWVzdFRpbWVvdXQ6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0dXM9PT1jLlNUQVRVU19DT05GSVJNRUQ/dGhpcy50ZXJtaW5hdGVkKG51bGwsZS5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpOnRoaXMuc3RhdHVzIT09Yy5TVEFUVVNfVEVSTUlOQVRFRCYmKHRoaXMuZmFpbGVkKG51bGwsZS5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpLHRoaXMudGVybWluYXRlZChudWxsLGUuQy5jYXVzZXMuUkVRVUVTVF9USU1FT1VUKSl9fX0pLGUuSW52aXRlU2VydmVyQ29udGV4dD1zLChyPWZ1bmN0aW9uKHQsaSxzLHIpe3M9c3x8e30sdGhpcy5wYXNzZWRPcHRpb25zPXMscy5wYXJhbXM9T2JqZWN0LmNyZWF0ZShzLnBhcmFtc3x8T2JqZWN0LnByb3RvdHlwZSk7dmFyIG49KHMuZXh0cmFIZWFkZXJzfHxbXSkuc2xpY2UoKSxvPXQuY29uZmlndXJhdGlvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeTtpZih0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucz10LmNvbmZpZ3VyYXRpb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnlPcHRpb25zfHx7fSx0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zPXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnN8fHt9LHRoaXMubW9kaWZpZXJzPXIsdGhpcy5pbnZpdGVXaXRob3V0U2RwPXMuaW52aXRlV2l0aG91dFNkcHx8ITEsdGhpcy5hbm9ueW1vdXM9cy5hbm9ueW1vdXN8fCExLHRoaXMucmVuZGVyYm9keT1zLnJlbmRlcmJvZHl8fG51bGwsdGhpcy5yZW5kZXJ0eXBlPXMucmVuZGVydHlwZXx8InRleHQvcGxhaW4iLHRoaXMuZnJvbV90YWc9ZS5VdGlscy5uZXdUYWcoKSxzLnBhcmFtcy5mcm9tX3RhZz10aGlzLmZyb21fdGFnLHRoaXMuY29udGFjdD10LmNvbnRhY3QudG9TdHJpbmcoe2Fub255bW91czp0aGlzLmFub255bW91cyxvdXRib3VuZDp0aGlzLmFub255bW91cz8hdC5jb250YWN0LnRlbXBfZ3J1dTohdC5jb250YWN0LnB1Yl9ncnV1fSksdGhpcy5hbm9ueW1vdXMmJihzLnBhcmFtcy5mcm9tX2Rpc3BsYXlOYW1lPSJBbm9ueW1vdXMiLHMucGFyYW1zLmZyb21fdXJpPSJzaXA6YW5vbnltb3VzQGFub255bW91cy5pbnZhbGlkIixuLnB1c2goIlAtUHJlZmVycmVkLUlkZW50aXR5OiAiK3QuY29uZmlndXJhdGlvbi51cmkudG9TdHJpbmcoKSksbi5wdXNoKCJQcml2YWN5OiBpZCIpKSxuLnB1c2goIkNvbnRhY3Q6ICIrdGhpcy5jb250YWN0KSxuLnB1c2goIkFsbG93OiAiK2UuVUEuQy5BTExPV0VEX01FVEhPRFMudG9TdHJpbmcoKSksdGhpcy5pbnZpdGVXaXRob3V0U2RwJiZ0aGlzLnJlbmRlcmJvZHkmJihuLnB1c2goIkNvbnRlbnQtVHlwZTogIit0aGlzLnJlbmRlcnR5cGUpLG4ucHVzaCgiQ29udGVudC1EaXNwb3NpdGlvbjogcmVuZGVyO2hhbmRsaW5nPW9wdGlvbmFsIikpLHQuY29uZmlndXJhdGlvbi5yZWwxMDA9PT1lLkMuc3VwcG9ydGVkLlJFUVVJUkVEJiZuLnB1c2goIlJlcXVpcmU6IDEwMHJlbCIpLHQuY29uZmlndXJhdGlvbi5yZXBsYWNlcz09PWUuQy5zdXBwb3J0ZWQuUkVRVUlSRUQmJm4ucHVzaCgiUmVxdWlyZTogcmVwbGFjZXMiKSxzLmV4dHJhSGVhZGVycz1uLGUuVXRpbHMuYXVnbWVudCh0aGlzLGUuQ2xpZW50Q29udGV4dCxbdCxlLkMuSU5WSVRFLGksc10pLGUuVXRpbHMuYXVnbWVudCh0aGlzLGUuU2Vzc2lvbixbb10pLHRoaXMuc3RhdHVzIT09Yy5TVEFUVVNfTlVMTCl0aHJvdyBuZXcgZS5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKHRoaXMuc3RhdHVzKTt0aGlzLmlzQ2FuY2VsZWQ9ITEsdGhpcy5yZWNlaXZlZF8xMDA9ITEsdGhpcy5tZXRob2Q9ZS5DLklOVklURSx0aGlzLnJlY2VpdmVOb25JbnZpdGVSZXNwb25zZT10aGlzLnJlY2VpdmVSZXNwb25zZSx0aGlzLnJlY2VpdmVSZXNwb25zZT10aGlzLnJlY2VpdmVJbnZpdGVSZXNwb25zZSx0aGlzLmxvZ2dlcj10LmdldExvZ2dlcigic2lwLmludml0ZWNsaWVudGNvbnRleHQiKSx0LmFwcGxpY2FudHNbdGhpc109dGhpcyx0aGlzLmlkPXRoaXMucmVxdWVzdC5jYWxsX2lkK3RoaXMuZnJvbV90YWcsdGhpcy5vbkluZm89cy5vbkluZm8sdGhpcy5lcnJvckxpc3RlbmVyPXRoaXMub25UcmFuc3BvcnRFcnJvci5iaW5kKHRoaXMpLHQudHJhbnNwb3J0Lm9uKCJ0cmFuc3BvcnRFcnJvciIsdGhpcy5lcnJvckxpc3RlbmVyKX0pLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHt9LHtpbnZpdGU6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy51YS5zZXNzaW9uc1t0aGlzLmlkXT10aGlzLGUuVXRpbHMuUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3RoaXMuaW52aXRlV2l0aG91dFNkcD8odGhpcy5yZXF1ZXN0LmJvZHk9dC5yZW5kZXJib2R5LHRoaXMuc3RhdHVzPWMuU1RBVFVTX0lOVklURV9TRU5ULHRoaXMuc2VuZCgpKToodGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyPXRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkodGhpcyx0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyksdGhpcy5lbWl0KCJTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLWNyZWF0ZWQiLHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciksdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmdldERlc2NyaXB0aW9uKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsdGhpcy5tb2RpZmllcnMpLnRoZW4oZnVuY3Rpb24oZSl7dC5pc0NhbmNlbGVkfHx0LnN0YXR1cz09PWMuU1RBVFVTX1RFUk1JTkFURUR8fCh0Lmhhc09mZmVyPSEwLHQucmVxdWVzdC5ib2R5PWUsdC5zdGF0dXM9Yy5TVEFUVVNfSU5WSVRFX1NFTlQsdC5zZW5kKCkpfSxmdW5jdGlvbihpKXtpIGluc3RhbmNlb2YgZS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvciYmKHQubG9nZ2VyLmxvZyhpLm1lc3NhZ2UpLHQubG9nZ2VyLmxvZyhpLmVycm9yKSksdC5zdGF0dXMhPT1jLlNUQVRVU19URVJNSU5BVEVEJiYodC5mYWlsZWQobnVsbCxlLkMuY2F1c2VzLldFQlJUQ19FUlJPUiksdC50ZXJtaW5hdGVkKG51bGwsZS5DLmNhdXNlcy5XRUJSVENfRVJST1IpKX0pKX0uYmluZCh0aGlzKSksdGhpc319LHJlY2VpdmVJbnZpdGVSZXNwb25zZTp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGkscz10aGlzLHI9dC5jYWxsX2lkK3QuZnJvbV90YWcrdC50b190YWcsbj1bXSxvPXt9O2lmKHRoaXMuc3RhdHVzIT09Yy5TVEFUVVNfVEVSTUlOQVRFRCYmdC5tZXRob2Q9PT1lLkMuSU5WSVRFKXtpZih0aGlzLmRpYWxvZyYmdC5zdGF0dXNfY29kZT49MjAwJiZ0LnN0YXR1c19jb2RlPD0yOTkpe2lmKHIhPT10aGlzLmRpYWxvZy5pZC50b1N0cmluZygpKXtpZighdGhpcy5jcmVhdGVEaWFsb2codCwiVUFDIiwhMCkpcmV0dXJuO3JldHVybiB0aGlzLmVtaXQoImFjayIsdC50cmFuc2FjdGlvbi5zZW5kQUNLKHtib2R5OmUuVXRpbHMuZ2VuZXJhdGVGYWtlU0RQKHQuYm9keSl9KSksdGhpcy5lYXJseURpYWxvZ3Nbcl0uc2VuZFJlcXVlc3QodGhpcyxlLkMuQllFKSx2b2lkKHRoaXMuc3RhdHVzIT09Yy5TVEFUVVNfQ09ORklSTUVEJiYodGhpcy5mYWlsZWQodCxlLkMuY2F1c2VzLldFQlJUQ19FUlJPUiksdGhpcy50ZXJtaW5hdGVkKHQsZS5DLmNhdXNlcy5XRUJSVENfRVJST1IpKSl9aWYodGhpcy5zdGF0dXM9PT1jLlNUQVRVU19DT05GSVJNRUQpcmV0dXJuIHZvaWQgdGhpcy5lbWl0KCJhY2siLHQudHJhbnNhY3Rpb24uc2VuZEFDSygpKTtpZighdGhpcy5oYXNBbnN3ZXIpcmV0dXJufWlmKHRoaXMuZGlhbG9nJiZ0LnN0YXR1c19jb2RlPDIwMCl7aWYoLTEhPT10aGlzLmRpYWxvZy5wcmFja2VkLmluZGV4T2YodC5nZXRIZWFkZXIoInJzZXEiKSl8fHRoaXMuZGlhbG9nLnByYWNrZWRbdGhpcy5kaWFsb2cucHJhY2tlZC5sZW5ndGgtMV0+PXQuZ2V0SGVhZGVyKCJyc2VxIikmJnRoaXMuZGlhbG9nLnByYWNrZWQubGVuZ3RoPjApcmV0dXJuO2lmKCF0aGlzLmVhcmx5RGlhbG9nc1tyXSYmIXRoaXMuY3JlYXRlRGlhbG9nKHQsIlVBQyIsITApKXJldHVybjtpZigtMSE9PXRoaXMuZWFybHlEaWFsb2dzW3JdLnByYWNrZWQuaW5kZXhPZih0LmdldEhlYWRlcigicnNlcSIpKXx8dGhpcy5lYXJseURpYWxvZ3Nbcl0ucHJhY2tlZFt0aGlzLmVhcmx5RGlhbG9nc1tyXS5wcmFja2VkLmxlbmd0aC0xXT49dC5nZXRIZWFkZXIoInJzZXEiKSYmdGhpcy5lYXJseURpYWxvZ3Nbcl0ucHJhY2tlZC5sZW5ndGg+MClyZXR1cm47cmV0dXJuIG4ucHVzaCgiUkFjazogIit0LmdldEhlYWRlcigicnNlcSIpKyIgIit0LmdldEhlYWRlcigiY3NlcSIpKSx0aGlzLmVhcmx5RGlhbG9nc1tyXS5wcmFja2VkLnB1c2godC5nZXRIZWFkZXIoInJzZXEiKSksdm9pZCB0aGlzLmVhcmx5RGlhbG9nc1tyXS5zZW5kUmVxdWVzdCh0aGlzLGUuQy5QUkFDSyx7ZXh0cmFIZWFkZXJzOm4sYm9keTplLlV0aWxzLmdlbmVyYXRlRmFrZVNEUCh0LmJvZHkpfSl9aWYodGhpcy5pc0NhbmNlbGVkKXQuc3RhdHVzX2NvZGU+PTEwMCYmdC5zdGF0dXNfY29kZTwyMDA/KHRoaXMucmVxdWVzdC5jYW5jZWwodGhpcy5jYW5jZWxSZWFzb24sbiksdGhpcy5jYW5jZWxlZChudWxsKSk6dC5zdGF0dXNfY29kZT49MjAwJiZ0LnN0YXR1c19jb2RlPDI5OT8odGhpcy5hY2NlcHRBbmRUZXJtaW5hdGUodCksdGhpcy5lbWl0KCJieWUiLHRoaXMucmVxdWVzdCkpOnQuc3RhdHVzX2NvZGU+PTMwMCYmKGk9ZS5DLlJFQVNPTl9QSFJBU0VbdC5zdGF0dXNfY29kZV18fGUuQy5jYXVzZXMuQ0FOQ0VMRUQsdGhpcy5yZWplY3RlZCh0LGkpLHRoaXMuZmFpbGVkKHQsaSksdGhpcy50ZXJtaW5hdGVkKHQsaSkpO2Vsc2Ugc3dpdGNoKCEwKXtjYXNlL14xMDAkLy50ZXN0KHQuc3RhdHVzX2NvZGUpOnRoaXMucmVjZWl2ZWRfMTAwPSEwLHRoaXMuZW1pdCgicHJvZ3Jlc3MiLHQpO2JyZWFrO2Nhc2UvXjFbMC05XXsyfSQvLnRlc3QodC5zdGF0dXNfY29kZSk6aWYoIXQudG9fdGFnKXt0aGlzLmxvZ2dlci53YXJuKCIxeHggcmVzcG9uc2UgcmVjZWl2ZWQgd2l0aG91dCB0byB0YWciKTticmVha31pZih0Lmhhc0hlYWRlcigiY29udGFjdCIpJiYhdGhpcy5jcmVhdGVEaWFsb2codCwiVUFDIiwhMCkpYnJlYWs7aWYodGhpcy5zdGF0dXM9Yy5TVEFUVVNfMVhYX1JFQ0VJVkVELHQuaGFzSGVhZGVyKCJQLUFzc2VydGVkLUlkZW50aXR5IikmJih0aGlzLmFzc2VydGVkSWRlbnRpdHk9bmV3IGUuTmFtZUFkZHJIZWFkZXIucGFyc2UodC5nZXRIZWFkZXIoIlAtQXNzZXJ0ZWQtSWRlbnRpdHkiKSkpLHQuaGFzSGVhZGVyKCJyZXF1aXJlIikmJi0xIT09dC5nZXRIZWFkZXIoInJlcXVpcmUiKS5pbmRleE9mKCIxMDByZWwiKSl7aWYodGhpcy5kaWFsb2d8fCF0aGlzLmVhcmx5RGlhbG9nc1tyXSlicmVhaztpZigtMSE9PXRoaXMuZWFybHlEaWFsb2dzW3JdLnByYWNrZWQuaW5kZXhPZih0LmdldEhlYWRlcigicnNlcSIpKXx8dGhpcy5lYXJseURpYWxvZ3Nbcl0ucHJhY2tlZFt0aGlzLmVhcmx5RGlhbG9nc1tyXS5wcmFja2VkLmxlbmd0aC0xXT49dC5nZXRIZWFkZXIoInJzZXEiKSYmdGhpcy5lYXJseURpYWxvZ3Nbcl0ucHJhY2tlZC5sZW5ndGg+MClyZXR1cm47aWYodGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyPXRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkodGhpcyx0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyksdGhpcy5lbWl0KCJTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLWNyZWF0ZWQiLHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciksdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKHQuZ2V0SGVhZGVyKCJDb250ZW50LVR5cGUiKSkpaWYodGhpcy5oYXNPZmZlcil7aWYoIXRoaXMuY3JlYXRlRGlhbG9nKHQsIlVBQyIpKWJyZWFrO3RoaXMuaGFzQW5zd2VyPSEwLHRoaXMuZGlhbG9nLnByYWNrZWQucHVzaCh0LmdldEhlYWRlcigicnNlcSIpKSx0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuc2V0RGVzY3JpcHRpb24odC5ib2R5LHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsdGhpcy5tb2RpZmllcnMpLnRoZW4oZnVuY3Rpb24oKXtuLnB1c2goIlJBY2s6ICIrdC5nZXRIZWFkZXIoInJzZXEiKSsiICIrdC5nZXRIZWFkZXIoImNzZXEiKSkscy5zZW5kUmVxdWVzdChlLkMuUFJBQ0sse2V4dHJhSGVhZGVyczpuLHJlY2VpdmVSZXNwb25zZTpmdW5jdGlvbigpe319KSxzLnN0YXR1cz1jLlNUQVRVU19FQVJMWV9NRURJQSxzLmVtaXQoInByb2dyZXNzIix0KX0sZnVuY3Rpb24oaSl7cy5sb2dnZXIud2FybihpKSxzLmFjY2VwdEFuZFRlcm1pbmF0ZSh0LDQ4OCwiTm90IEFjY2VwdGFibGUgSGVyZSIpLHMuZmFpbGVkKHQsZS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pfSl9ZWxzZXt2YXIgYT10aGlzLmVhcmx5RGlhbG9nc1tyXSxoPWEuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcj10aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5KHRoaXMsdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeU9wdGlvbnMpO3RoaXMuZW1pdCgiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci1jcmVhdGVkIixoKSxhLnByYWNrZWQucHVzaCh0LmdldEhlYWRlcigicnNlcSIpKSxoLnNldERlc2NyaXB0aW9uKHQuYm9keSxzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLHMubW9kaWZlcnMpLnRoZW4oaC5nZXREZXNjcmlwdGlvbi5iaW5kKGgscy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucyxzLm1vZGlmaWVycykpLnRoZW4oZnVuY3Rpb24oaSl7bi5wdXNoKCJSQWNrOiAiK3QuZ2V0SGVhZGVyKCJyc2VxIikrIiAiK3QuZ2V0SGVhZGVyKCJjc2VxIikpLGEuc2VuZFJlcXVlc3QocyxlLkMuUFJBQ0sse2V4dHJhSGVhZGVyczpuLGJvZHk6aX0pLHMuc3RhdHVzPWMuU1RBVFVTX0VBUkxZX01FRElBLHMuZW1pdCgicHJvZ3Jlc3MiLHQpfSkuY2F0Y2goZnVuY3Rpb24oaSl7aWYoaSBpbnN0YW5jZW9mIGUuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3Ipe2lmKGEucHJhY2tlZC5wdXNoKHQuZ2V0SGVhZGVyKCJyc2VxIikpLHMuc3RhdHVzPT09Yy5TVEFUVVNfVEVSTUlOQVRFRClyZXR1cm47cy5mYWlsZWQobnVsbCxlLkMuY2F1c2VzLldFQlJUQ19FUlJPUikscy50ZXJtaW5hdGVkKG51bGwsZS5DLmNhdXNlcy5XRUJSVENfRVJST1IpfWVsc2UgYS5wcmFja2VkLnNwbGljZShhLnByYWNrZWQuaW5kZXhPZih0LmdldEhlYWRlcigicnNlcSIpKSwxKSxzLmxvZ2dlci53YXJuKCJpbnZhbGlkIGRlc2NyaXB0aW9uIikscy5sb2dnZXIud2FybihpKX0pfWVsc2Ugbi5wdXNoKCJSQWNrOiAiK3QuZ2V0SGVhZGVyKCJyc2VxIikrIiAiK3QuZ2V0SGVhZGVyKCJjc2VxIikpLHRoaXMuZWFybHlEaWFsb2dzW3JdLnByYWNrZWQucHVzaCh0LmdldEhlYWRlcigicnNlcSIpKSx0aGlzLmVhcmx5RGlhbG9nc1tyXS5zZW5kUmVxdWVzdCh0aGlzLGUuQy5QUkFDSyx7ZXh0cmFIZWFkZXJzOm59KSx0aGlzLmVtaXQoInByb2dyZXNzIix0KX1lbHNlIHRoaXMuZW1pdCgicHJvZ3Jlc3MiLHQpO2JyZWFrO2Nhc2UvXjJbMC05XXsyfSQvLnRlc3QodC5zdGF0dXNfY29kZSk6aWYodGhpcy5yZXF1ZXN0LmNzZXErIiAiK3RoaXMucmVxdWVzdC5tZXRob2QhPT10LmdldEhlYWRlcigiY3NlcSIpKWJyZWFrO2lmKHQuaGFzSGVhZGVyKCJQLUFzc2VydGVkLUlkZW50aXR5IikmJih0aGlzLmFzc2VydGVkSWRlbnRpdHk9bmV3IGUuTmFtZUFkZHJIZWFkZXIucGFyc2UodC5nZXRIZWFkZXIoIlAtQXNzZXJ0ZWQtSWRlbnRpdHkiKSkpLHRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfRUFSTFlfTUVESUEmJnRoaXMuZGlhbG9nKXt0aGlzLnN0YXR1cz1jLlNUQVRVU19DT05GSVJNRUQsbz17fSx0aGlzLnJlbmRlcmJvZHkmJihuLnB1c2goIkNvbnRlbnQtVHlwZTogIit0aGlzLnJlbmRlcnR5cGUpLG8uZXh0cmFIZWFkZXJzPW4sby5ib2R5PXRoaXMucmVuZGVyYm9keSksdGhpcy5lbWl0KCJhY2siLHQudHJhbnNhY3Rpb24uc2VuZEFDSyhvKSksdGhpcy5hY2NlcHRlZCh0KTticmVha31pZih0aGlzLmRpYWxvZylicmVhaztpZih0aGlzLmhhc09mZmVyKWlmKHRoaXMuaGFzQW5zd2VyKXRoaXMucmVuZGVyYm9keSYmKG4ucHVzaCgiQ29udGVudC1UeXBlOiAiK3MucmVuZGVydHlwZSksby5leHRyYUhlYWRlcnM9bixvLmJvZHk9dGhpcy5yZW5kZXJib2R5KSx0aGlzLmVtaXQoImFjayIsdC50cmFuc2FjdGlvbi5zZW5kQUNLKG8pKTtlbHNle2lmKCF0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuaGFzRGVzY3JpcHRpb24odC5nZXRIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKSl7dGhpcy5hY2NlcHRBbmRUZXJtaW5hdGUodCw0MDAsIk1pc3Npbmcgc2Vzc2lvbiBkZXNjcmlwdGlvbiIpLHRoaXMuZmFpbGVkKHQsZS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO2JyZWFrfWlmKCF0aGlzLmNyZWF0ZURpYWxvZyh0LCJVQUMiKSlicmVhazt0aGlzLmhhc0Fuc3dlcj0hMCx0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuc2V0RGVzY3JpcHRpb24odC5ib2R5LHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsdGhpcy5tb2RpZmllcnMpLnRoZW4oZnVuY3Rpb24oKXt2YXIgZT17fTtzLnN0YXR1cz1jLlNUQVRVU19DT05GSVJNRUQscy5yZW5kZXJib2R5JiYobi5wdXNoKCJDb250ZW50LVR5cGU6ICIrcy5yZW5kZXJ0eXBlKSxlLmV4dHJhSGVhZGVycz1uLGUuYm9keT1zLnJlbmRlcmJvZHkpLHMuZW1pdCgiYWNrIix0LnRyYW5zYWN0aW9uLnNlbmRBQ0soZSkpLHMuYWNjZXB0ZWQodCl9LGZ1bmN0aW9uKGkpe3MubG9nZ2VyLndhcm4oaSkscy5hY2NlcHRBbmRUZXJtaW5hdGUodCw0ODgsIk5vdCBBY2NlcHRhYmxlIEhlcmUiKSxzLmZhaWxlZCh0LGUuQy5jYXVzZXMuQkFEX01FRElBX0RFU0NSSVBUSU9OKX0pfWVsc2UgaWYodGhpcy5lYXJseURpYWxvZ3Nbcl0mJnRoaXMuZWFybHlEaWFsb2dzW3JdLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIpe2lmKHRoaXMuaGFzT2ZmZXI9ITAsdGhpcy5oYXNBbnN3ZXI9ITAsdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyPXRoaXMuZWFybHlEaWFsb2dzW3JdLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIsIXRoaXMuY3JlYXRlRGlhbG9nKHQsIlVBQyIpKWJyZWFrO3RoaXMuc3RhdHVzPWMuU1RBVFVTX0NPTkZJUk1FRCx0aGlzLmVtaXQoImFjayIsdC50cmFuc2FjdGlvbi5zZW5kQUNLKCkpLHRoaXMuYWNjZXB0ZWQodCl9ZWxzZXtpZih0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXI9dGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSh0aGlzLHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnlPcHRpb25zKSx0aGlzLmVtaXQoIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXItY3JlYXRlZCIsdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSwhdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKHQuZ2V0SGVhZGVyKCJDb250ZW50LVR5cGUiKSkpe3RoaXMuYWNjZXB0QW5kVGVybWluYXRlKHQsNDAwLCJNaXNzaW5nIHNlc3Npb24gZGVzY3JpcHRpb24iKSx0aGlzLmZhaWxlZCh0LGUuQy5jYXVzZXMuQkFEX01FRElBX0RFU0NSSVBUSU9OKTticmVha31pZighdGhpcy5jcmVhdGVEaWFsb2codCwiVUFDIikpYnJlYWs7dGhpcy5oYXNPZmZlcj0hMCx0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuc2V0RGVzY3JpcHRpb24odC5ib2R5LHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsdGhpcy5tb2RpZmllcnMpLnRoZW4odGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmdldERlc2NyaXB0aW9uLmJpbmQodGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsdGhpcy5tb2RpZmllcnMpKS50aGVuKGZ1bmN0aW9uKGUpe3MuaXNDYW5jZWxlZHx8cy5zdGF0dXM9PT1jLlNUQVRVU19URVJNSU5BVEVEfHwocy5zdGF0dXM9Yy5TVEFUVVNfQ09ORklSTUVELHMuaGFzQW5zd2VyPSEwLHMuZW1pdCgiYWNrIix0LnRyYW5zYWN0aW9uLnNlbmRBQ0soe2JvZHk6ZX0pKSxzLmFjY2VwdGVkKHQpKX0pLmNhdGNoKGZ1bmN0aW9uKGkpe2kgaW5zdGFuY2VvZiBlLkV4Y2VwdGlvbnMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yJiYocy5sb2dnZXIud2FybigiaW52YWxpZCBkZXNjcmlwdGlvbiIpLHMubG9nZ2VyLndhcm4oaSkscy5hY2NlcHRBbmRUZXJtaW5hdGUodCw0ODgsIkludmFsaWQgc2Vzc2lvbiBkZXNjcmlwdGlvbiIpLHMuZmFpbGVkKHQsZS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pKX0pfWJyZWFrO2RlZmF1bHQ6aT1lLlV0aWxzLnNpcEVycm9yQ2F1c2UodC5zdGF0dXNfY29kZSksdGhpcy5yZWplY3RlZCh0LGkpLHRoaXMuZmFpbGVkKHQsaSksdGhpcy50ZXJtaW5hdGVkKHQsaSl9fX19LGNhbmNlbDp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24odCl7aWYoKHQ9dHx8e30pLmV4dHJhSGVhZGVycz0odC5leHRyYUhlYWRlcnN8fFtdKS5zbGljZSgpLHRoaXMuaXNDYW5jZWxlZCl0aHJvdyBuZXcgZS5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKCJDQU5DRUxFRCIpO2lmKHRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfVEVSTUlOQVRFRHx8dGhpcy5zdGF0dXM9PT1jLlNUQVRVU19DT05GSVJNRUQpdGhyb3cgbmV3IGUuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7dGhpcy5sb2dnZXIubG9nKCJjYW5jZWxpbmcgUlRDU2Vzc2lvbiIpLHRoaXMuaXNDYW5jZWxlZD0hMDt2YXIgaT1lLlV0aWxzLmdldENhbmNlbFJlYXNvbih0LnN0YXR1c19jb2RlLHQucmVhc29uX3BocmFzZSk7cmV0dXJuIHRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfTlVMTHx8dGhpcy5zdGF0dXM9PT1jLlNUQVRVU19JTlZJVEVfU0VOVCYmIXRoaXMucmVjZWl2ZWRfMTAwP3RoaXMuY2FuY2VsUmVhc29uPWk6dGhpcy5zdGF0dXMhPT1jLlNUQVRVU19JTlZJVEVfU0VOVCYmdGhpcy5zdGF0dXMhPT1jLlNUQVRVU18xWFhfUkVDRUlWRUQmJnRoaXMuc3RhdHVzIT09Yy5TVEFUVVNfRUFSTFlfTUVESUF8fHRoaXMucmVxdWVzdC5jYW5jZWwoaSx0LmV4dHJhSGVhZGVycyksdGhpcy5jYW5jZWxlZCgpfX0sdGVybWluYXRlOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdGF0dXM9PT1jLlNUQVRVU19URVJNSU5BVEVEP3RoaXM6KHRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfV0FJVElOR19GT1JfQUNLfHx0aGlzLnN0YXR1cz09PWMuU1RBVFVTX0NPTkZJUk1FRD90aGlzLmJ5ZShlKTp0aGlzLmNhbmNlbChlKSx0aGlzKX19LHJlY2VpdmVSZXF1ZXN0Ont3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbihpKXtyZXR1cm4gaS5tZXRob2QsZS5DLkNBTkNFTCxpLm1ldGhvZD09PWUuQy5BQ0smJnRoaXMuc3RhdHVzPT09Yy5TVEFUVVNfV0FJVElOR19GT1JfQUNLJiYoZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLmFja1RpbWVyKSxlLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMuaW52aXRlMnh4VGltZXIpLHRoaXMuc3RhdHVzPWMuU1RBVFVTX0NPTkZJUk1FRCx0aGlzLmFjY2VwdGVkKCkpLHQucHJvdG90eXBlLnJlY2VpdmVSZXF1ZXN0LmFwcGx5KHRoaXMsW2ldKX19LG9uVHJhbnNwb3J0RXJyb3I6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0dXMhPT1jLlNUQVRVU19DT05GSVJNRUQmJnRoaXMuc3RhdHVzIT09Yy5TVEFUVVNfVEVSTUlOQVRFRCYmdGhpcy5mYWlsZWQobnVsbCxlLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1IpfX0sb25SZXF1ZXN0VGltZW91dDp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXR1cz09PWMuU1RBVFVTX0NPTkZJUk1FRD90aGlzLnRlcm1pbmF0ZWQobnVsbCxlLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCk6dGhpcy5zdGF0dXMhPT1jLlNUQVRVU19URVJNSU5BVEVEJiYodGhpcy5mYWlsZWQobnVsbCxlLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCksdGhpcy50ZXJtaW5hdGVkKG51bGwsZS5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpKX19fSksZS5JbnZpdGVDbGllbnRDb250ZXh0PXIsKG89ZnVuY3Rpb24odCxpLHMscil7aWYodGhpcy5vcHRpb25zPXJ8fHt9LHRoaXMuZXh0cmFIZWFkZXJzPSh0aGlzLm9wdGlvbnMuZXh0cmFIZWFkZXJzfHxbXSkuc2xpY2UoKSx2b2lkIDA9PT10fHx2b2lkIDA9PT1pfHx2b2lkIDA9PT1zKXRocm93IG5ldyBUeXBlRXJyb3IoIk5vdCBlbm91Z2ggYXJndW1lbnRzIik7aWYoZS5VdGlscy5hdWdtZW50KHRoaXMsZS5DbGllbnRDb250ZXh0LFt0LGUuQy5SRUZFUixpLnJlbW90ZUlkZW50aXR5LnVyaS50b1N0cmluZygpLHJdKSx0aGlzLmFwcGxpY2FudD1pLHMgaW5zdGFuY2VvZiBlLkludml0ZVNlcnZlckNvbnRleHR8fHMgaW5zdGFuY2VvZiBlLkludml0ZUNsaWVudENvbnRleHQpdGhpcy50YXJnZXQ9JyInK3MucmVtb3RlSWRlbnRpdHkuZnJpZW5kbHlOYW1lKyciIDwnK3MuZGlhbG9nLnJlbW90ZV90YXJnZXQudG9TdHJpbmcoKSsiP1JlcGxhY2VzPSIrcy5kaWFsb2cuaWQuY2FsbF9pZCsiJTNCdG8tdGFnJTNEIitzLmRpYWxvZy5pZC5yZW1vdGVfdGFnKyIlM0Jmcm9tLXRhZyUzRCIrcy5kaWFsb2cuaWQubG9jYWxfdGFnKyI+IjtlbHNle3RyeXt0aGlzLnRhcmdldD1lLkdyYW1tYXIucGFyc2UocywiUmVmZXJfVG8iKS51cml8fHN9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoIi5yZWZlcigpIGNhbm5vdCBwYXJzZSBSZWZlcl9UbyBmcm9tIixzKSx0aGlzLmxvZ2dlci5kZWJ1ZygiLi4uZmFsbGluZyB0aHJvdWdoIHRvIG5vcm1hbGl6ZVRhcmdldCgpIil9aWYodGhpcy50YXJnZXQ9dGhpcy51YS5ub3JtYWxpemVUYXJnZXQodGhpcy50YXJnZXQpLCF0aGlzLnRhcmdldCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIHRhcmdldDogIitzKX10aGlzLnVhJiZ0aGlzLmV4dHJhSGVhZGVycy5wdXNoKCJSZWZlcnJlZC1CeTogPCIrdGhpcy51YS5jb25maWd1cmF0aW9uLnVyaSsiPiIpLHRoaXMuZXh0cmFIZWFkZXJzLnB1c2goIkNvbnRhY3Q6ICIraS5jb250YWN0KSx0aGlzLmV4dHJhSGVhZGVycy5wdXNoKCJBbGxvdzogIitlLlVBLkMuQUxMT1dFRF9NRVRIT0RTLnRvU3RyaW5nKCkpLHRoaXMuZXh0cmFIZWFkZXJzLnB1c2goIlJlZmVyLVRvOiAiK3RoaXMudGFyZ2V0KSx0aGlzLmVycm9yTGlzdGVuZXI9dGhpcy5vblRyYW5zcG9ydEVycm9yLmJpbmQodGhpcyksdC50cmFuc3BvcnQub24oInRyYW5zcG9ydEVycm9yIix0aGlzLmVycm9yTGlzdGVuZXIpfSkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoe30se3JlZmVyOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbih0KXt0PXR8fHt9O3ZhciBpPSh0aGlzLmV4dHJhSGVhZGVyc3x8W10pLnNsaWNlKCk7cmV0dXJuIHQuZXh0cmFIZWFkZXJzJiZpLmNvbmNhdCh0LmV4dHJhSGVhZGVycyksdGhpcy5hcHBsaWNhbnQuc2VuZFJlcXVlc3QoZS5DLlJFRkVSLHtleHRyYUhlYWRlcnM6dGhpcy5leHRyYUhlYWRlcnMscmVjZWl2ZVJlc3BvbnNlOmZ1bmN0aW9uKGUpey9eMVswLTldezJ9JC8udGVzdChlLnN0YXR1c19jb2RlKT90aGlzLmVtaXQoInJlZmVyUmVxdWVzdFByb2dyZXNzIix0aGlzKTovXjJbMC05XXsyfSQvLnRlc3QoZS5zdGF0dXNfY29kZSk/dGhpcy5lbWl0KCJyZWZlclJlcXVlc3RBY2NlcHRlZCIsdGhpcyk6L15bNC02XVswLTldezJ9JC8udGVzdChlLnN0YXR1c19jb2RlKSYmdGhpcy5lbWl0KCJyZWZlclJlcXVlc3RSZWplY3RlZCIsdGhpcyksdC5yZWNlaXZlUmVzcG9uc2UmJnQucmVjZWl2ZVJlc3BvbnNlKGUpfS5iaW5kKHRoaXMpfSksdGhpc319LHJlY2VpdmVOb3RpZnk6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQuaGFzSGVhZGVyKCJDb250ZW50LVR5cGUiKSYmLTEhPT10LmdldEhlYWRlcigiQ29udGVudC1UeXBlIikuc2VhcmNoKC9ebWVzc2FnZVwvc2lwZnJhZy8pKXt2YXIgaT1lLkdyYW1tYXIucGFyc2UodC5ib2R5LCJzaXBmcmFnIik7aWYoLTE9PT1pKXJldHVybiB2b2lkIHQucmVwbHkoNDg5LCJCYWQgRXZlbnQiKTtzd2l0Y2goITApe2Nhc2UvXjFbMC05XXsyfSQvLnRlc3QoaS5zdGF0dXNfY29kZSk6dGhpcy5lbWl0KCJyZWZlclByb2dyZXNzIix0aGlzKTticmVhaztjYXNlL14yWzAtOV17Mn0kLy50ZXN0KGkuc3RhdHVzX2NvZGUpOnRoaXMuZW1pdCgicmVmZXJBY2NlcHRlZCIsdGhpcyksIXRoaXMub3B0aW9ucy5hY3RpdmVBZnRlclRyYW5zZmVyJiZ0aGlzLmFwcGxpY2FudC50ZXJtaW5hdGUmJnRoaXMuYXBwbGljYW50LnRlcm1pbmF0ZSgpO2JyZWFrO2RlZmF1bHQ6dGhpcy5lbWl0KCJyZWZlclJlamVjdGVkIix0aGlzKX1yZXR1cm4gdC5yZXBseSgyMDApLHZvaWQgdGhpcy5lbWl0KCJub3RpZnkiLHQpfXQucmVwbHkoNDg5LCJCYWQgRXZlbnQiKX19fSksZS5SZWZlckNsaWVudENvbnRleHQ9bywobj1mdW5jdGlvbih0LGkpe2lmKGUuVXRpbHMuYXVnbWVudCh0aGlzLGUuU2VydmVyQ29udGV4dCxbdCxpXSksdGhpcy51YT10LHRoaXMuc3RhdHVzPWMuU1RBVFVTX0lOVklURV9SRUNFSVZFRCx0aGlzLmZyb21fdGFnPWkuZnJvbV90YWcsdGhpcy5pZD1pLmNhbGxfaWQrdGhpcy5mcm9tX3RhZyx0aGlzLnJlcXVlc3Q9aSx0aGlzLmNvbnRhY3Q9dGhpcy51YS5jb250YWN0LnRvU3RyaW5nKCksdGhpcy5sb2dnZXI9dC5nZXRMb2dnZXIoInNpcC5yZWZlcnNlcnZlcmNvbnRleHQiLHRoaXMuaWQpLCF0aGlzLnJlcXVlc3QuaGFzSGVhZGVyKCJyZWZlci10byIpKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKCJJbnZhbGlkIFJFRkVSIHBhY2tldC4gQSByZWZlci10byBoZWFkZXIgaXMgcmVxdWlyZWQuIFJlamVjdGluZyByZWZlci4iKSx2b2lkIHRoaXMucmVqZWN0KCk7dGhpcy5yZWZlclRvPXRoaXMucmVxdWVzdC5wYXJzZUhlYWRlcigicmVmZXItdG8iKSx0aGlzLnJlZmVycmVkU2Vzc2lvbj10aGlzLnVhLmZpbmRTZXNzaW9uKGkpLHRoaXMuY3NlcT1NYXRoLmZsb29yKDFlNCpNYXRoLnJhbmRvbSgpKSx0aGlzLmNhbGxfaWQ9dGhpcy5yZXF1ZXN0LmNhbGxfaWQsdGhpcy5mcm9tX3VyaT10aGlzLnJlcXVlc3QudG8udXJpLHRoaXMuZnJvbV90YWc9dGhpcy5yZXF1ZXN0LnRvLnBhcmFtZXRlcnMudGFnLHRoaXMucmVtb3RlX3RhcmdldD10aGlzLnJlcXVlc3QuaGVhZGVycy5Db250YWN0WzBdLnBhcnNlZC51cmksdGhpcy50b191cmk9dGhpcy5yZXF1ZXN0LmZyb20udXJpLHRoaXMudG9fdGFnPXRoaXMucmVxdWVzdC5mcm9tX3RhZyx0aGlzLnJvdXRlX3NldD10aGlzLnJlcXVlc3QuZ2V0SGVhZGVycygicmVjb3JkLXJvdXRlIiksdGhpcy5yZWNlaXZlTm9uSW52aXRlUmVzcG9uc2U9ZnVuY3Rpb24oKXt9LHRoaXMucmVxdWVzdC5oYXNIZWFkZXIoInJlZmVycmVkLWJ5IikmJih0aGlzLnJlZmVycmVkQnk9dGhpcy5yZXF1ZXN0LmdldEhlYWRlcigicmVmZXJyZWQtYnkiKSksdGhpcy5yZWZlclRvLnVyaS5oYXNIZWFkZXIoInJlcGxhY2VzIikmJih0aGlzLnJlcGxhY2VzPXRoaXMucmVmZXJUby51cmkuZ2V0SGVhZGVyKCJyZXBsYWNlcyIpKSx0aGlzLmVycm9yTGlzdGVuZXI9dGhpcy5vblRyYW5zcG9ydEVycm9yLmJpbmQodGhpcyksdC50cmFuc3BvcnQub24oInRyYW5zcG9ydEVycm9yIix0aGlzLmVycm9yTGlzdGVuZXIpLHRoaXMuc3RhdHVzPWMuU1RBVFVTX1dBSVRJTkdfRk9SX0FOU1dFUn0pLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHt9LHtwcm9ncmVzczp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXR1cyE9PWMuU1RBVFVTX1dBSVRJTkdfRk9SX0FOU1dFUil0aHJvdyBuZXcgZS5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKHRoaXMuc3RhdHVzKTt0aGlzLnJlcXVlc3QucmVwbHkoMTAwKX19LHJlamVjdDp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5zdGF0dXM9PT1jLlNUQVRVU19URVJNSU5BVEVEKXRocm93IG5ldyBlLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO3RoaXMubG9nZ2VyLmxvZygiUmVqZWN0aW5nIHJlZmVyIiksdGhpcy5zdGF0dXM9Yy5TVEFUVVNfVEVSTUlOQVRFRCxlLlNlcnZlckNvbnRleHQucHJvdG90eXBlLnJlamVjdC5jYWxsKHRoaXMsdCksdGhpcy5lbWl0KCJyZWZlclJlcXVlc3RSZWplY3RlZCIsdGhpcyl9fSxhY2NlcHQ6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKHQsaSl7aWYodD10fHx7fSx0aGlzLnN0YXR1cyE9PWMuU1RBVFVTX1dBSVRJTkdfRk9SX0FOU1dFUil0aHJvdyBuZXcgZS5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKHRoaXMuc3RhdHVzKTtpZih0aGlzLnN0YXR1cz1jLlNUQVRVU19BTlNXRVJFRCx0aGlzLnJlcXVlc3QucmVwbHkoMjAyLCJBY2NlcHRlZCIpLHRoaXMuZW1pdCgicmVmZXJSZXF1ZXN0QWNjZXB0ZWQiLHRoaXMpLHQuZm9sbG93UmVmZXIpe3RoaXMubG9nZ2VyLmxvZygiQWNjZXB0ZWQgcmVmZXIsIGF0dGVtcHRpbmcgdG8gYXV0b21hdGljYWxseSBmb2xsb3cgaXQiKTt2YXIgcz10aGlzLnJlZmVyVG8udXJpO2lmKCFzLnNjaGVtZS5tYXRjaCgiXnNpcHM/JCIpKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcigiU0lQLmpzIGNhbiBvbmx5IGF1dG9tYXRpY2FsbHkgZm9sbG93IFNJUCByZWZlciB0YXJnZXQiKSx2b2lkIHRoaXMucmVqZWN0KCk7dmFyIHI9dC5pbnZpdGVPcHRpb25zfHx7fSxuPShyLmV4dHJhSGVhZGVyc3x8W10pLnNsaWNlKCk7dGhpcy5yZXBsYWNlcyYmbi5wdXNoKCJSZXBsYWNlczogIitkZWNvZGVVUklDb21wb25lbnQodGhpcy5yZXBsYWNlcykpLHRoaXMucmVmZXJyZWRCeSYmbi5wdXNoKCJSZWZlcnJlZC1CeTogIit0aGlzLnJlZmVycmVkQnkpLHIuZXh0cmFIZWFkZXJzPW4scy5jbGVhckhlYWRlcnMoKSx0aGlzLnRhcmdldFNlc3Npb249dGhpcy51YS5pbnZpdGUocyxyLGkpLHRoaXMuZW1pdCgicmVmZXJJbnZpdGVTZW50Iix0aGlzKSx0aGlzLnRhcmdldFNlc3Npb24ub25jZSgicHJvZ3Jlc3MiLGZ1bmN0aW9uKCl7dGhpcy5zZW5kTm90aWZ5KCJTSVAvMi4wIDEwMCBUcnlpbmciKSx0aGlzLmVtaXQoInJlZmVyUHJvZ3Jlc3MiLHRoaXMpLHRoaXMucmVmZXJyZWRTZXNzaW9uJiZ0aGlzLnJlZmVycmVkU2Vzc2lvbi5lbWl0KCJyZWZlclByb2dyZXNzIix0aGlzKX0uYmluZCh0aGlzKSksdGhpcy50YXJnZXRTZXNzaW9uLm9uY2UoImFjY2VwdGVkIixmdW5jdGlvbigpe3RoaXMubG9nZ2VyLmxvZygiU3VjY2Vzc2Z1bGx5IGZvbGxvd2VkIHRoZSByZWZlciIpLHRoaXMuc2VuZE5vdGlmeSgiU0lQLzIuMCAyMDAgT0siKSx0aGlzLmVtaXQoInJlZmVyQWNjZXB0ZWQiLHRoaXMpLHRoaXMucmVmZXJyZWRTZXNzaW9uJiZ0aGlzLnJlZmVycmVkU2Vzc2lvbi5lbWl0KCJyZWZlckFjY2VwdGVkIix0aGlzKX0uYmluZCh0aGlzKSk7dmFyIG89ZnVuY3Rpb24oZSl7aWYodGhpcy5zdGF0dXMhPT1jLlNUQVRVU19URVJNSU5BVEVEKXtpZih0aGlzLmxvZ2dlci5sb2coIlJlZmVyIHdhcyBub3Qgc3VjY2Vzc2Z1bC4gUmVzdW1pbmcgc2Vzc2lvbiIpLGUmJjQyOT09PWUuc3RhdHVzX2NvZGUpcmV0dXJuIHRoaXMubG9nZ2VyLmxvZygiQWxlcnRpbmcgcmVmZXJyZXIgdGhhdCBpZGVudGl0eSBpcyByZXF1aXJlZC4iKSx2b2lkIHRoaXMuc2VuZE5vdGlmeSgiU0lQLzIuMCA0MjkgUHJvdmlkZSBSZWZlcnJlciBJZGVudGl0eSIpO3RoaXMuc2VuZE5vdGlmeSgiU0lQLzIuMCA2MDMgRGVjbGluZWQiKSx0aGlzLnN0YXR1cz1jLlNUQVRVU19URVJNSU5BVEVELHRoaXMuZW1pdCgicmVmZXJSZWplY3RlZCIsdGhpcyksdGhpcy5yZWZlcnJlZFNlc3Npb24mJnRoaXMucmVmZXJyZWRTZXNzaW9uLmVtaXQoInJlZmVyUmVqZWN0ZWQiKX19O3RoaXMudGFyZ2V0U2Vzc2lvbi5vbmNlKCJyZWplY3RlZCIsby5iaW5kKHRoaXMpKSx0aGlzLnRhcmdldFNlc3Npb24ub25jZSgiZmFpbGVkIixvLmJpbmQodGhpcykpfWVsc2UgdGhpcy5sb2dnZXIubG9nKCJBY2NlcHRlZCByZWZlciwgYnV0IGRpZCBub3QgYXV0b21hdGljYWxseSBmb2xsb3cgaXQiKSx0aGlzLnNlbmROb3RpZnkoIlNJUC8yLjAgMjAwIE9LIiksdGhpcy5lbWl0KCJyZWZlckFjY2VwdGVkIix0aGlzKSx0aGlzLnJlZmVycmVkU2Vzc2lvbiYmdGhpcy5yZWZlcnJlZFNlc3Npb24uZW1pdCgicmVmZXJBY2NlcHRlZCIsdGhpcyl9fSxzZW5kTm90aWZ5Ont3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLnN0YXR1cyE9PWMuU1RBVFVTX0FOU1dFUkVEKXRocm93IG5ldyBlLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO2lmKC0xPT09ZS5HcmFtbWFyLnBhcnNlKHQsInNpcGZyYWciKSl0aHJvdyBuZXcgRXJyb3IoInNpcGZyYWcgYm9keSBpcyByZXF1aXJlZCB0byBzZW5kIG5vdGlmeSBmb3IgcmVmZXIiKTt2YXIgaT1uZXcgZS5PdXRnb2luZ1JlcXVlc3QoZS5DLk5PVElGWSx0aGlzLnJlbW90ZV90YXJnZXQsdGhpcy51YSx7Y3NlcTp0aGlzLmNzZXErPTEsY2FsbF9pZDp0aGlzLmNhbGxfaWQsZnJvbV91cmk6dGhpcy5mcm9tX3VyaSxmcm9tX3RhZzp0aGlzLmZyb21fdGFnLHRvX3VyaTp0aGlzLnRvX3VyaSx0b190YWc6dGhpcy50b190YWcscm91dGVfc2V0OnRoaXMucm91dGVfc2V0fSxbIkV2ZW50OiByZWZlciIsIlN1YnNjcmlwdGlvbi1TdGF0ZTogdGVybWluYXRlZCIsIkNvbnRlbnQtVHlwZTogbWVzc2FnZS9zaXBmcmFnIl0sdCk7bmV3IGUuUmVxdWVzdFNlbmRlcih7cmVxdWVzdDppLG9uUmVxdWVzdFRpbWVvdXQ6ZnVuY3Rpb24oKXt9LG9uVHJhbnNwb3J0RXJyb3I6ZnVuY3Rpb24oKXt9LHJlY2VpdmVSZXNwb25zZTpmdW5jdGlvbigpe319LHRoaXMudWEpLnNlbmQoKX19fSksZS5SZWZlclNlcnZlckNvbnRleHQ9bn19LGZ1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybih0PWZ1bmN0aW9uKGkscyxyKXt2YXIgbixvO2lmKHZvaWQgMD09PXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiTm90IGVub3VnaCBhcmd1bWVudHMiKTtpZih0aGlzLmxvZ2dlcj1pLnVhLmdldExvZ2dlcigic2lwLmludml0ZWNvbnRleHQuZHRtZiIsaS5pZCksdGhpcy5vd25lcj1pLHRoaXMuZGlyZWN0aW9uPW51bGwsbj0ocj1yfHx7fSkuZHVyYXRpb258fG51bGwsbz1yLmludGVyVG9uZUdhcHx8bnVsbCwic3RyaW5nIj09dHlwZW9mIHMpcz1zLnRvVXBwZXJDYXNlKCk7ZWxzZXtpZigibnVtYmVyIiE9dHlwZW9mIHMpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCB0b25lOiAiK3MpO3M9cy50b1N0cmluZygpfWlmKCFzLm1hdGNoKC9eWzAtOUEtRCMqXSQvKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIHRvbmU6ICIrcyk7aWYodGhpcy50b25lPXMsbiYmIWUuVXRpbHMuaXNEZWNpbWFsKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgdG9uZSBkdXJhdGlvbjogIituKTtpZihuP248dC5DLk1JTl9EVVJBVElPTj8odGhpcy5sb2dnZXIud2FybignImR1cmF0aW9uIiB2YWx1ZSBpcyBsb3dlciB0aGFuIHRoZSBtaW5pbXVtIGFsbG93ZWQsIHNldHRpbmcgaXQgdG8gJyt0LkMuTUlOX0RVUkFUSU9OKyIgbWlsbGlzZWNvbmRzIiksbj10LkMuTUlOX0RVUkFUSU9OKTpuPnQuQy5NQVhfRFVSQVRJT04/KHRoaXMubG9nZ2VyLndhcm4oJyJkdXJhdGlvbiIgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtIGFsbG93ZWQsIHNldHRpbmcgaXQgdG8gJyt0LkMuTUFYX0RVUkFUSU9OKyIgbWlsbGlzZWNvbmRzIiksbj10LkMuTUFYX0RVUkFUSU9OKTpuPU1hdGguYWJzKG4pOm49dC5DLkRFRkFVTFRfRFVSQVRJT04sdGhpcy5kdXJhdGlvbj1uLG8mJiFlLlV0aWxzLmlzRGVjaW1hbChvKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGludGVyVG9uZUdhcDogIitvKTtvP288dC5DLk1JTl9JTlRFUl9UT05FX0dBUD8odGhpcy5sb2dnZXIud2FybignImludGVyVG9uZUdhcCIgdmFsdWUgaXMgbG93ZXIgdGhhbiB0aGUgbWluaW11bSBhbGxvd2VkLCBzZXR0aW5nIGl0IHRvICcrdC5DLk1JTl9JTlRFUl9UT05FX0dBUCsiIG1pbGxpc2Vjb25kcyIpLG89dC5DLk1JTl9JTlRFUl9UT05FX0dBUCk6bz1NYXRoLmFicyhvKTpvPXQuQy5ERUZBVUxUX0lOVEVSX1RPTkVfR0FQLHRoaXMuaW50ZXJUb25lR2FwPW99KS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpLHQucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24odCl7dmFyIGkscz17fTtpZih0aGlzLmRpcmVjdGlvbj0ib3V0Z29pbmciLHRoaXMub3duZXIuc3RhdHVzIT09ZS5TZXNzaW9uLkMuU1RBVFVTX0NPTkZJUk1FRCYmdGhpcy5vd25lci5zdGF0dXMhPT1lLlNlc3Npb24uQy5TVEFUVVNfV0FJVElOR19GT1JfQUNLKXRocm93IG5ldyBlLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5vd25lci5zdGF0dXMpO2k9KHQ9dHx8e30pLmV4dHJhSGVhZGVycz90LmV4dHJhSGVhZGVycy5zbGljZSgpOltdLHMuY29udGVudFR5cGU9ImFwcGxpY2F0aW9uL2R0bWYtcmVsYXkiLHMuYm9keT0iU2lnbmFsPSAiK3RoaXMudG9uZSsiXHJcbiIscy5ib2R5Kz0iRHVyYXRpb249ICIrdGhpcy5kdXJhdGlvbix0aGlzLnJlcXVlc3Q9dGhpcy5vd25lci5kaWFsb2cuc2VuZFJlcXVlc3QodGhpcyxlLkMuSU5GTyx7ZXh0cmFIZWFkZXJzOmksYm9keTpzfSksdGhpcy5vd25lci5lbWl0KCJkdG1mIix0aGlzLnJlcXVlc3QsdGhpcyl9LHQucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZT1mdW5jdGlvbih0KXt2YXIgaTtzd2l0Y2goITApe2Nhc2UvXjFbMC05XXsyfSQvLnRlc3QodC5zdGF0dXNfY29kZSk6YnJlYWs7Y2FzZS9eMlswLTldezJ9JC8udGVzdCh0LnN0YXR1c19jb2RlKTp0aGlzLmVtaXQoInN1Y2NlZWRlZCIse29yaWdpbmF0b3I6InJlbW90ZSIscmVzcG9uc2U6dH0pO2JyZWFrO2RlZmF1bHQ6aT1lLlV0aWxzLnNpcEVycm9yQ2F1c2UodC5zdGF0dXNfY29kZSksdGhpcy5lbWl0KCJmYWlsZWQiLHQsaSl9fSx0LnByb3RvdHlwZS5vblJlcXVlc3RUaW1lb3V0PWZ1bmN0aW9uKCl7dGhpcy5lbWl0KCJmYWlsZWQiLG51bGwsZS5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpLHRoaXMub3duZXIub25SZXF1ZXN0VGltZW91dCgpfSx0LnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yPWZ1bmN0aW9uKCl7dGhpcy5lbWl0KCJmYWlsZWQiLG51bGwsZS5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKSx0aGlzLm93bmVyLm9uVHJhbnNwb3J0RXJyb3IoKX0sdC5wcm90b3R5cGUub25EaWFsb2dFcnJvcj1mdW5jdGlvbih0KXt0aGlzLmVtaXQoImZhaWxlZCIsdCxlLkMuY2F1c2VzLkRJQUxPR19FUlJPUiksdGhpcy5vd25lci5vbkRpYWxvZ0Vycm9yKHQpfSx0LnByb3RvdHlwZS5pbml0X2luY29taW5nPWZ1bmN0aW9uKGUpe3RoaXMuZGlyZWN0aW9uPSJpbmNvbWluZyIsdGhpcy5yZXF1ZXN0PWUsZS5yZXBseSgyMDApLHRoaXMudG9uZSYmdGhpcy5kdXJhdGlvbj90aGlzLm93bmVyLmVtaXQoImR0bWYiLGUsdGhpcyk6dGhpcy5sb2dnZXIud2FybigiaW52YWxpZCBJTkZPIERUTUYgcmVjZWl2ZWQsIGRpc2NhcmRlZCIpfSx0LkM9e01JTl9EVVJBVElPTjo3MCxNQVhfRFVSQVRJT046NmUzLERFRkFVTFRfRFVSQVRJT046MTAwLE1JTl9JTlRFUl9UT05FX0dBUDo1MCxERUZBVUxUX0lOVEVSX1RPTkVfR0FQOjUwMH0sdH19LGZ1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2UuU3Vic2NyaXB0aW9uPWZ1bmN0aW9uKHQsaSxzLHIpe2lmKHI9T2JqZWN0LmNyZWF0ZShyfHxPYmplY3QucHJvdG90eXBlKSx0aGlzLmV4dHJhSGVhZGVycz1yLmV4dHJhSGVhZGVycz0oci5leHRyYUhlYWRlcnN8fFtdKS5zbGljZSgpLHRoaXMuaWQ9bnVsbCx0aGlzLnN0YXRlPSJpbml0Iiwhcyl0aHJvdyBuZXcgVHlwZUVycm9yKCJFdmVudCBuZWNlc3NhcnkgdG8gY3JlYXRlIGEgc3Vic2NyaXB0aW9uLiIpO3RoaXMuZXZlbnQ9cywibnVtYmVyIiE9dHlwZW9mIHIuZXhwaXJlcz8odC5sb2dnZXIud2FybigiZXhwaXJlcyBtdXN0IGJlIGEgbnVtYmVyLiBVc2luZyBkZWZhdWx0IG9mIDM2MDAuIiksdGhpcy5leHBpcmVzPTM2MDApOnRoaXMuZXhwaXJlcz1yLmV4cGlyZXMsdGhpcy5yZXF1ZXN0ZWRFeHBpcmVzPXRoaXMuZXhwaXJlcyxyLmV4dHJhSGVhZGVycy5wdXNoKCJFdmVudDogIit0aGlzLmV2ZW50KSxyLmV4dHJhSGVhZGVycy5wdXNoKCJFeHBpcmVzOiAiK3RoaXMuZXhwaXJlcyksci5ib2R5JiYodGhpcy5ib2R5PXIuYm9keSksdGhpcy5jb250YWN0PXQuY29udGFjdC50b1N0cmluZygpLHIuZXh0cmFIZWFkZXJzLnB1c2goIkNvbnRhY3Q6ICIrdGhpcy5jb250YWN0KSxyLmV4dHJhSGVhZGVycy5wdXNoKCJBbGxvdzogIitlLlVBLkMuQUxMT1dFRF9NRVRIT0RTLnRvU3RyaW5nKCkpLGUuVXRpbHMuYXVnbWVudCh0aGlzLGUuQ2xpZW50Q29udGV4dCxbdCxlLkMuU1VCU0NSSUJFLGkscl0pLHRoaXMubG9nZ2VyPXQuZ2V0TG9nZ2VyKCJzaXAuc3Vic2NyaXB0aW9uIiksdGhpcy5kaWFsb2c9bnVsbCx0aGlzLnRpbWVycz17TjpudWxsLHN1Yl9kdXJhdGlvbjpudWxsfSx0aGlzLmVycm9yQ29kZXM9WzQwNCw0MDUsNDEwLDQxNiw0ODAsNDgxLDQ4Miw0ODMsNDg0LDQ4NSw0ODksNTAxLDYwNF19LGUuU3Vic2NyaXB0aW9uLnByb3RvdHlwZT17c3Vic2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJuImFjdGl2ZSI9PT10aGlzLnN0YXRlPyh0aGlzLnJlZnJlc2goKSx0aGlzKToibm90aWZ5X3dhaXQiPT09dGhpcy5zdGF0ZT90aGlzOihlLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMuc3ViX2R1cmF0aW9uKSxlLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMuTiksdGhpcy50aW1lcnMuTj1lLlRpbWVycy5zZXRUaW1lb3V0KHRoaXMudGltZXJfZmlyZS5iaW5kKHRoaXMpLGUuVGltZXJzLlRJTUVSX04pLHRoaXMudWEuZWFybHlTdWJzY3JpcHRpb25zW3RoaXMucmVxdWVzdC5jYWxsX2lkK3RoaXMucmVxdWVzdC5mcm9tLnBhcmFtZXRlcnMudGFnK3RoaXMuZXZlbnRdPXRoaXMsdGhpcy5zZW5kKCksdGhpcy5zdGF0ZT0ibm90aWZ5X3dhaXQiLHRoaXMpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7InRlcm1pbmF0ZWQiIT09dGhpcy5zdGF0ZSYmInBlbmRpbmciIT09dGhpcy5zdGF0ZSYmIm5vdGlmeV93YWl0IiE9PXRoaXMuc3RhdGUmJnRoaXMuZGlhbG9nLnNlbmRSZXF1ZXN0KHRoaXMsZS5DLlNVQlNDUklCRSx7ZXh0cmFIZWFkZXJzOnRoaXMuZXh0cmFIZWFkZXJzLGJvZHk6dGhpcy5ib2R5fSl9LHJlY2VpdmVSZXNwb25zZTpmdW5jdGlvbih0KXt2YXIgaSxzPWUuVXRpbHMuZ2V0UmVhc29uUGhyYXNlKHQuc3RhdHVzX2NvZGUpOyJub3RpZnlfd2FpdCI9PT10aGlzLnN0YXRlJiZ0LnN0YXR1c19jb2RlPj0zMDB8fCJub3RpZnlfd2FpdCIhPT10aGlzLnN0YXRlJiYtMSE9PXRoaXMuZXJyb3JDb2Rlcy5pbmRleE9mKHQuc3RhdHVzX2NvZGUpP3RoaXMuZmFpbGVkKHQsbnVsbCk6L14yWzAtOV17Mn0kLy50ZXN0KHQuc3RhdHVzX2NvZGUpPyh0aGlzLmVtaXQoImFjY2VwdGVkIix0LHMpLChpPXQuZ2V0SGVhZGVyKCJFeHBpcmVzIikpJiZpPD10aGlzLnJlcXVlc3RlZEV4cGlyZXM/KHRoaXMuZXhwaXJlcz1pLHRoaXMudGltZXJzLnN1Yl9kdXJhdGlvbj1lLlRpbWVycy5zZXRUaW1lb3V0KHRoaXMucmVmcmVzaC5iaW5kKHRoaXMpLDkwMCppKSk6aT8odGhpcy5sb2dnZXIud2FybigiRXhwaXJlcyBoZWFkZXIgaW4gYSAyMDAtY2xhc3MgcmVzcG9uc2UgdG8gU1VCU0NSSUJFIHdpdGggYSBoaWdoZXIgdmFsdWUgdGhhbiB0aGUgb25lIGluIHRoZSByZXF1ZXN0IiksdGhpcy5mYWlsZWQodCxlLkMuSU5WQUxJRF9FWFBJUkVTX0hFQURFUikpOih0aGlzLmxvZ2dlci53YXJuKCJFeHBpcmVzIGhlYWRlciBtaXNzaW5nIGluIGEgMjAwLWNsYXNzIHJlc3BvbnNlIHRvIFNVQlNDUklCRSIpLHRoaXMuZmFpbGVkKHQsZS5DLkVYUElSRVNfSEVBREVSX01JU1NJTkcpKSk6dC5zdGF0dXNDb2RlPjMwMCYmKHRoaXMuZW1pdCgiZmFpbGVkIix0LHMpLHRoaXMuZW1pdCgicmVqZWN0ZWQiLHQscykpfSx1bnN1YnNjcmliZTpmdW5jdGlvbigpe3ZhciB0PVtdO3RoaXMuc3RhdGU9InRlcm1pbmF0ZWQiLHQucHVzaCgiRXZlbnQ6ICIrdGhpcy5ldmVudCksdC5wdXNoKCJFeHBpcmVzOiAwIiksdC5wdXNoKCJDb250YWN0OiAiK3RoaXMuY29udGFjdCksdC5wdXNoKCJBbGxvdzogIitlLlVBLkMuQUxMT1dFRF9NRVRIT0RTLnRvU3RyaW5nKCkpLHRoaXMucmVjZWl2ZVJlc3BvbnNlPWZ1bmN0aW9uKCl7fSx0aGlzLmRpYWxvZy5zZW5kUmVxdWVzdCh0aGlzLHRoaXMubWV0aG9kLHtleHRyYUhlYWRlcnM6dCxib2R5OnRoaXMuYm9keX0pLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5zdWJfZHVyYXRpb24pLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5OKSx0aGlzLnRpbWVycy5OPWUuVGltZXJzLnNldFRpbWVvdXQodGhpcy50aW1lcl9maXJlLmJpbmQodGhpcyksZS5UaW1lcnMuVElNRVJfTil9LHRpbWVyX2ZpcmU6ZnVuY3Rpb24oKXsidGVybWluYXRlZCI9PT10aGlzLnN0YXRlPyh0aGlzLnRlcm1pbmF0ZURpYWxvZygpLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5OKSxlLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMuc3ViX2R1cmF0aW9uKSxkZWxldGUgdGhpcy51YS5zdWJzY3JpcHRpb25zW3RoaXMuaWRdKToibm90aWZ5X3dhaXQiPT09dGhpcy5zdGF0ZXx8InBlbmRpbmciPT09dGhpcy5zdGF0ZT90aGlzLmNsb3NlKCk6dGhpcy5yZWZyZXNoKCl9LGNsb3NlOmZ1bmN0aW9uKCl7Im5vdGlmeV93YWl0Ij09PXRoaXMuc3RhdGU/KHRoaXMuc3RhdGU9InRlcm1pbmF0ZWQiLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5OKSxlLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMuc3ViX2R1cmF0aW9uKSx0aGlzLnJlY2VpdmVSZXNwb25zZT1mdW5jdGlvbigpe30sZGVsZXRlIHRoaXMudWEuZWFybHlTdWJzY3JpcHRpb25zW3RoaXMucmVxdWVzdC5jYWxsX2lkK3RoaXMucmVxdWVzdC5mcm9tLnBhcmFtZXRlcnMudGFnK3RoaXMuZXZlbnRdKToidGVybWluYXRlZCIhPT10aGlzLnN0YXRlJiZ0aGlzLnVuc3Vic2NyaWJlKCl9LGNyZWF0ZUNvbmZpcm1lZERpYWxvZzpmdW5jdGlvbih0LGkpe3ZhciBzO3JldHVybiB0aGlzLnRlcm1pbmF0ZURpYWxvZygpLChzPW5ldyBlLkRpYWxvZyh0aGlzLHQsaSkpLmludml0ZV9zZXFudW09dGhpcy5yZXF1ZXN0LmNzZXEscy5sb2NhbF9zZXFudW09dGhpcy5yZXF1ZXN0LmNzZXEsIXMuZXJyb3ImJih0aGlzLmRpYWxvZz1zLCEwKX0sdGVybWluYXRlRGlhbG9nOmZ1bmN0aW9uKCl7dGhpcy5kaWFsb2cmJihkZWxldGUgdGhpcy51YS5zdWJzY3JpcHRpb25zW3RoaXMuaWRdLHRoaXMuZGlhbG9nLnRlcm1pbmF0ZSgpLGRlbGV0ZSB0aGlzLmRpYWxvZyl9LHJlY2VpdmVSZXF1ZXN0OmZ1bmN0aW9uKHQpe3ZhciBpLHM9dGhpcztmdW5jdGlvbiByKCl7aS5leHBpcmVzJiYoZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHMudGltZXJzLnN1Yl9kdXJhdGlvbiksaS5leHBpcmVzPU1hdGgubWluKHMuZXhwaXJlcyxNYXRoLm1heChpLmV4cGlyZXMsMCkpLHMudGltZXJzLnN1Yl9kdXJhdGlvbj1lLlRpbWVycy5zZXRUaW1lb3V0KHMucmVmcmVzaC5iaW5kKHMpLDkwMCppLmV4cGlyZXMpKX1pZih0aGlzLm1hdGNoRXZlbnQodCkpaWYodGhpcy5kaWFsb2d8fHRoaXMuY3JlYXRlQ29uZmlybWVkRGlhbG9nKHQsIlVBUyIpJiYodGhpcy5pZD10aGlzLmRpYWxvZy5pZC50b1N0cmluZygpLGRlbGV0ZSB0aGlzLnVhLmVhcmx5U3Vic2NyaXB0aW9uc1t0aGlzLnJlcXVlc3QuY2FsbF9pZCt0aGlzLnJlcXVlc3QuZnJvbS5wYXJhbWV0ZXJzLnRhZyt0aGlzLmV2ZW50XSx0aGlzLnVhLnN1YnNjcmlwdGlvbnNbdGhpcy5pZF09dGhpcyksaT10LnBhcnNlSGVhZGVyKCJTdWJzY3JpcHRpb24tU3RhdGUiKSx0LnJlcGx5KDIwMCxlLkMuUkVBU09OXzIwMCksZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLk4pLHRoaXMuZW1pdCgibm90aWZ5Iix7cmVxdWVzdDp0fSksInRlcm1pbmF0ZWQiIT09dGhpcy5zdGF0ZSlzd2l0Y2goaS5zdGF0ZSl7Y2FzZSJhY3RpdmUiOnRoaXMuc3RhdGU9ImFjdGl2ZSIscigpO2JyZWFrO2Nhc2UicGVuZGluZyI6Im5vdGlmeV93YWl0Ij09PXRoaXMuc3RhdGUmJnIoKSx0aGlzLnN0YXRlPSJwZW5kaW5nIjticmVhaztjYXNlInRlcm1pbmF0ZWQiOmlmKGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5zdWJfZHVyYXRpb24pLGkucmVhc29uKXN3aXRjaCh0aGlzLmxvZ2dlci5sb2coInRlcm1pbmF0aW5nIHN1YnNjcmlwdGlvbiB3aXRoIHJlYXNvbiAiK2kucmVhc29uKSxpLnJlYXNvbil7Y2FzZSJkZWFjdGl2YXRlZCI6Y2FzZSJ0aW1lb3V0IjpyZXR1cm4gdm9pZCB0aGlzLnN1YnNjcmliZSgpO2Nhc2UicHJvYmF0aW9uIjpjYXNlImdpdmV1cCI6cmV0dXJuIHZvaWQoaS5wYXJhbXMmJmkucGFyYW1zWyJyZXRyeS1hZnRlciJdP3RoaXMudGltZXJzLnN1Yl9kdXJhdGlvbj1lLlRpbWVycy5zZXRUaW1lb3V0KHMuc3Vic2NyaWJlLmJpbmQocyksaS5wYXJhbXNbInJldHJ5LWFmdGVyIl0pOnRoaXMuc3Vic2NyaWJlKCkpfXRoaXMuY2xvc2UoKX1lbHNlInRlcm1pbmF0ZWQiPT09aS5zdGF0ZSYmKHRoaXMudGVybWluYXRlRGlhbG9nKCksZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLk4pLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5zdWJfZHVyYXRpb24pLGRlbGV0ZSB0aGlzLnVhLnN1YnNjcmlwdGlvbnNbdGhpcy5pZF0pO2Vsc2UgdC5yZXBseSg0ODkpfSxmYWlsZWQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5jbG9zZSgpLHRoaXMuZW1pdCgiZmFpbGVkIixlLHQpLHRoaXMuZW1pdCgicmVqZWN0ZWQiLGUsdCksdGhpc30sb25EaWFsb2dFcnJvcjpmdW5jdGlvbih0KXt0aGlzLmZhaWxlZCh0LGUuQy5jYXVzZXMuRElBTE9HX0VSUk9SKX0sbWF0Y2hFdmVudDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZS5oYXNIZWFkZXIoIkV2ZW50Iik/ZS5oYXNIZWFkZXIoIlN1YnNjcmlwdGlvbi1TdGF0ZSIpPyh0PWUucGFyc2VIZWFkZXIoImV2ZW50IikuZXZlbnQsdGhpcy5ldmVudD09PXR8fCh0aGlzLmxvZ2dlci53YXJuKCJldmVudCBtYXRjaCBmYWlsZWQiKSxlLnJlcGx5KDQ4MSwiRXZlbnQgTWF0Y2ggRmFpbGVkIiksITEpKToodGhpcy5sb2dnZXIud2FybigibWlzc2luZyBTdWJzY3JpcHRpb24tU3RhdGUgaGVhZGVyIiksITEpOih0aGlzLmxvZ2dlci53YXJuKCJtaXNzaW5nIEV2ZW50IGhlYWRlciIpLCExKX19fX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7KCh0PWZ1bmN0aW9uKHQsaSxzLHIpe2lmKHRoaXMub3B0aW9ucz1yPXJ8fHt9LHRoaXMub3B0aW9ucy5leHRyYUhlYWRlcnM9KHIuZXh0cmFIZWFkZXJzfHxbXSkuc2xpY2UoKSx0aGlzLm9wdGlvbnMuY29udGVudFR5cGU9ci5jb250ZW50VHlwZXx8InRleHQvcGxhaW4iLCJudW1iZXIiIT10eXBlb2Ygci5leHBpcmVzfHxyLmV4cGlyZXMlMSE9MD90aGlzLm9wdGlvbnMuZXhwaXJlcz0zNjAwOnRoaXMub3B0aW9ucy5leHBpcmVzPU51bWJlcihyLmV4cGlyZXMpLCJib29sZWFuIiE9dHlwZW9mIHIudW5wdWJsaXNoT25DbG9zZT90aGlzLm9wdGlvbnMudW5wdWJsaXNoT25DbG9zZT0hMDp0aGlzLm9wdGlvbnMudW5wdWJsaXNoT25DbG9zZT1yLnVucHVibGlzaE9uQ2xvc2Usdm9pZCAwPT09aXx8bnVsbD09PWl8fCIiPT09aSl0aHJvdyBuZXcgZS5FeGNlcHRpb25zLk1ldGhvZFBhcmFtZXRlckVycm9yKCJQdWJsaXNoIiwiVGFyZ2V0IixpKTtpZih0aGlzLnRhcmdldD10Lm5vcm1hbGl6ZVRhcmdldChpKSx2b2lkIDA9PT1zfHxudWxsPT09c3x8IiI9PT1zKXRocm93IG5ldyBlLkV4Y2VwdGlvbnMuTWV0aG9kUGFyYW1ldGVyRXJyb3IoIlB1Ymxpc2giLCJFdmVudCIscyk7dGhpcy5ldmVudD1zLGUuQ2xpZW50Q29udGV4dC5jYWxsKHRoaXMsdCxlLkMuUFVCTElTSCx0aGlzLnRhcmdldCx0aGlzLm9wdGlvbnMpLHRoaXMubG9nZ2VyPXRoaXMudWEuZ2V0TG9nZ2VyKCJzaXAucHVibGlzaCIpLHRoaXMucHViUmVxdWVzdEJvZHk9bnVsbCx0aGlzLnB1YlJlcXVlc3RFeHBpcmVzPXRoaXMub3B0aW9ucy5leHBpcmVzLHRoaXMucHViUmVxdWVzdEV0YWc9bnVsbCx0aGlzLnB1Ymxpc2hfcmVmcmVzaF90aW1lcj1udWxsLHQub24oInRyYW5zcG9ydENyZWF0ZWQiLGZ1bmN0aW9uKGUpe2Uub24oInRyYW5zcG9ydEVycm9yIix0aGlzLm9uVHJhbnNwb3J0RXJyb3IuYmluZCh0aGlzKSl9LmJpbmQodGhpcykpfSkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5DbGllbnRDb250ZXh0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXQsdC5wcm90b3R5cGUucHVibGlzaD1mdW5jdGlvbih0KXtpZih0aGlzLnJlcXVlc3Q9bnVsbCxlLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5wdWJsaXNoX3JlZnJlc2hfdGltZXIpLHZvaWQgMCE9PXQmJm51bGwhPT10JiYiIiE9PXQpdGhpcy5vcHRpb25zLmJvZHk9dCx0aGlzLnB1YlJlcXVlc3RCb2R5PXRoaXMub3B0aW9ucy5ib2R5LDA9PT10aGlzLnB1YlJlcXVlc3RFeHBpcmVzJiYodGhpcy5wdWJSZXF1ZXN0RXhwaXJlcz10aGlzLm9wdGlvbnMuZXhwaXJlcyx0aGlzLnB1YlJlcXVlc3RFdGFnPW51bGwpLHRoaXMudWEucHVibGlzaGVyc1t0aGlzLnRhcmdldC50b1N0cmluZygpKyI6Iit0aGlzLmV2ZW50XXx8KHRoaXMudWEucHVibGlzaGVyc1t0aGlzLnRhcmdldC50b1N0cmluZygpKyI6Iit0aGlzLmV2ZW50XT10aGlzKTtlbHNle2lmKHRoaXMucHViUmVxdWVzdEJvZHk9bnVsbCxudWxsPT09dGhpcy5wdWJSZXF1ZXN0RXRhZyl0aHJvdyBuZXcgZS5FeGNlcHRpb25zLk1ldGhvZFBhcmFtZXRlckVycm9yKCJQdWJsaXNoIiwiQm9keSIsdCk7aWYoMD09PXRoaXMucHViUmVxdWVzdEV4cGlyZXMpdGhyb3cgbmV3IGUuRXhjZXB0aW9ucy5NZXRob2RQYXJhbWV0ZXJFcnJvcigiUHVibGlzaCIsIkV4cGlyZSIsdGhpcy5wdWJSZXF1ZXN0RXhwaXJlcyl9dGhpcy5zZW5kUHVibGlzaFJlcXVlc3QoKX0sdC5wcm90b3R5cGUudW5wdWJsaXNoPWZ1bmN0aW9uKCl7dGhpcy5yZXF1ZXN0PW51bGwsZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMucHVibGlzaF9yZWZyZXNoX3RpbWVyKSx0aGlzLnB1YlJlcXVlc3RCb2R5PW51bGwsdGhpcy5wdWJSZXF1ZXN0RXhwaXJlcz0wLG51bGwhPT10aGlzLnB1YlJlcXVlc3RFdGFnJiZ0aGlzLnNlbmRQdWJsaXNoUmVxdWVzdCgpfSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy51bnB1Ymxpc2hPbkNsb3NlP3RoaXMudW5wdWJsaXNoKCk6KHRoaXMucmVxdWVzdD1udWxsLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnB1Ymxpc2hfcmVmcmVzaF90aW1lciksdGhpcy5wdWJSZXF1ZXN0Qm9keT1udWxsLHRoaXMucHViUmVxdWVzdEV4cGlyZXM9MCx0aGlzLnB1YlJlcXVlc3RFdGFnPW51bGwpLHRoaXMudWEucHVibGlzaGVyc1t0aGlzLnRhcmdldC50b1N0cmluZygpKyI6Iit0aGlzLmV2ZW50XSYmZGVsZXRlIHRoaXMudWEucHVibGlzaGVyc1t0aGlzLnRhcmdldC50b1N0cmluZygpKyI6Iit0aGlzLmV2ZW50XX0sdC5wcm90b3R5cGUuc2VuZFB1Ymxpc2hSZXF1ZXN0PWZ1bmN0aW9uKCl7dmFyIHQ7KHQ9T2JqZWN0LmNyZWF0ZSh0aGlzLm9wdGlvbnN8fE9iamVjdC5wcm90b3R5cGUpKS5leHRyYUhlYWRlcnM9KHRoaXMub3B0aW9ucy5leHRyYUhlYWRlcnN8fFtdKS5zbGljZSgpLHQuZXh0cmFIZWFkZXJzLnB1c2goIkV2ZW50OiAiK3RoaXMuZXZlbnQpLHQuZXh0cmFIZWFkZXJzLnB1c2goIkV4cGlyZXM6ICIrdGhpcy5wdWJSZXF1ZXN0RXhwaXJlcyksbnVsbCE9PXRoaXMucHViUmVxdWVzdEV0YWcmJnQuZXh0cmFIZWFkZXJzLnB1c2goIlNJUC1JZi1NYXRjaDogIit0aGlzLnB1YlJlcXVlc3RFdGFnKSx0aGlzLnJlcXVlc3Q9bmV3IGUuT3V0Z29pbmdSZXF1ZXN0KGUuQy5QVUJMSVNILHRoaXMudGFyZ2V0LHRoaXMudWEsdGhpcy5vcHRpb25zLnBhcmFtcyx0LmV4dHJhSGVhZGVycyksbnVsbCE9PXRoaXMucHViUmVxdWVzdEJvZHkmJih0aGlzLnJlcXVlc3QuYm9keT17fSx0aGlzLnJlcXVlc3QuYm9keS5ib2R5PXRoaXMucHViUmVxdWVzdEJvZHksdGhpcy5yZXF1ZXN0LmJvZHkuY29udGVudFR5cGU9dGhpcy5vcHRpb25zLmNvbnRlbnRUeXBlKSx0aGlzLnNlbmQoKX0sdC5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlPWZ1bmN0aW9uKHQpe3ZhciBpLHMscj1lLlV0aWxzLmdldFJlYXNvblBocmFzZSh0LnN0YXR1c19jb2RlKTtzd2l0Y2goITApe2Nhc2UvXjFbMC05XXsyfSQvLnRlc3QodC5zdGF0dXNfY29kZSk6dGhpcy5lbWl0KCJwcm9ncmVzcyIsdCxyKTticmVhaztjYXNlL14yWzAtOV17Mn0kLy50ZXN0KHQuc3RhdHVzX2NvZGUpOnQuaGFzSGVhZGVyKCJTSVAtRVRhZyIpP3RoaXMucHViUmVxdWVzdEV0YWc9dC5nZXRIZWFkZXIoIlNJUC1FVGFnIik6dGhpcy5sb2dnZXIud2FybigiU0lQLUVUYWcgaGVhZGVyIG1pc3NpbmcgaW4gYSAyMDAtY2xhc3MgcmVzcG9uc2UgdG8gUFVCTElTSCIpLHQuaGFzSGVhZGVyKCJFeHBpcmVzIik/Im51bWJlciI9PXR5cGVvZihpPU51bWJlcih0LmdldEhlYWRlcigiRXhwaXJlcyIpKSkmJmk+PTAmJmk8PXRoaXMucHViUmVxdWVzdEV4cGlyZXM/dGhpcy5wdWJSZXF1ZXN0RXhwaXJlcz1pOnRoaXMubG9nZ2VyLndhcm4oIkJhZCBFeHBpcmVzIGhlYWRlciBpbiBhIDIwMC1jbGFzcyByZXNwb25zZSB0byBQVUJMSVNIIik6dGhpcy5sb2dnZXIud2FybigiRXhwaXJlcyBoZWFkZXIgbWlzc2luZyBpbiBhIDIwMC1jbGFzcyByZXNwb25zZSB0byBQVUJMSVNIIiksMCE9PXRoaXMucHViUmVxdWVzdEV4cGlyZXM/KHRoaXMucHVibGlzaF9yZWZyZXNoX3RpbWVyPWUuVGltZXJzLnNldFRpbWVvdXQodGhpcy5wdWJsaXNoLmJpbmQodGhpcyksOTAwKnRoaXMucHViUmVxdWVzdEV4cGlyZXMpLHRoaXMuZW1pdCgicHVibGlzaGVkIix0LHIpKTp0aGlzLmVtaXQoInVucHVibGlzaGVkIix0LHIpO2JyZWFrO2Nhc2UvXjQxMiQvLnRlc3QodC5zdGF0dXNfY29kZSk6bnVsbCE9PXRoaXMucHViUmVxdWVzdEV0YWcmJjAhPT10aGlzLnB1YlJlcXVlc3RFeHBpcmVzPyh0aGlzLmxvZ2dlci53YXJuKCI0MTIgcmVzcG9uc2UgdG8gUFVCTElTSCwgcmVjb3ZlcmluZyIpLHRoaXMucHViUmVxdWVzdEV0YWc9bnVsbCx0aGlzLmVtaXQoInByb2dyZXNzIix0LHIpLHRoaXMucHVibGlzaCh0aGlzLm9wdGlvbnMuYm9keSkpOih0aGlzLmxvZ2dlci53YXJuKCI0MTIgcmVzcG9uc2UgdG8gUFVCTElTSCwgcmVjb3ZlcnkgZmFpbGVkIiksdGhpcy5wdWJSZXF1ZXN0RXhwaXJlcz0wLHRoaXMuZW1pdCgiZmFpbGVkIix0LHIpLHRoaXMuZW1pdCgidW5wdWJsaXNoZWQiLHQscikpO2JyZWFrO2Nhc2UvXjQyMyQvLnRlc3QodC5zdGF0dXNfY29kZSk6MCE9PXRoaXMucHViUmVxdWVzdEV4cGlyZXMmJnQuaGFzSGVhZGVyKCJNaW4tRXhwaXJlcyIpPyJudW1iZXIiPT10eXBlb2Yocz1OdW1iZXIodC5nZXRIZWFkZXIoIk1pbi1FeHBpcmVzIikpKXx8cz50aGlzLnB1YlJlcXVlc3RFeHBpcmVzPyh0aGlzLmxvZ2dlci53YXJuKCI0MjMgY29kZSBpbiByZXNwb25zZSB0byBQVUJMSVNILCBhZGp1c3RpbmcgdGhlIEV4cGlyZXMgdmFsdWUgYW5kIHRyeWluZyB0byByZWNvdmVyIiksdGhpcy5wdWJSZXF1ZXN0RXhwaXJlcz1zLHRoaXMuZW1pdCgicHJvZ3Jlc3MiLHQsciksdGhpcy5wdWJsaXNoKHRoaXMub3B0aW9ucy5ib2R5KSk6KHRoaXMubG9nZ2VyLndhcm4oIkJhZCA0MjMgcmVzcG9uc2UgTWluLUV4cGlyZXMgaGVhZGVyIHJlY2VpdmVkIGZvciBQVUJMSVNIIiksdGhpcy5wdWJSZXF1ZXN0RXhwaXJlcz0wLHRoaXMuZW1pdCgiZmFpbGVkIix0LHIpLHRoaXMuZW1pdCgidW5wdWJsaXNoZWQiLHQscikpOih0aGlzLmxvZ2dlci53YXJuKCI0MjMgcmVzcG9uc2UgdG8gUFVCTElTSCwgcmVjb3ZlcnkgZmFpbGVkIiksdGhpcy5wdWJSZXF1ZXN0RXhwaXJlcz0wLHRoaXMuZW1pdCgiZmFpbGVkIix0LHIpLHRoaXMuZW1pdCgidW5wdWJsaXNoZWQiLHQscikpO2JyZWFrO2RlZmF1bHQ6dGhpcy5wdWJSZXF1ZXN0RXhwaXJlcz0wLHRoaXMuZW1pdCgiZmFpbGVkIix0LHIpLHRoaXMuZW1pdCgidW5wdWJsaXNoZWQiLHQscil9MD09PXRoaXMucHViUmVxdWVzdEV4cGlyZXMmJihlLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5wdWJsaXNoX3JlZnJlc2hfdGltZXIpLHRoaXMucHViUmVxdWVzdEJvZHk9bnVsbCx0aGlzLnB1YlJlcXVlc3RFdGFnPW51bGwpfSx0LnByb3RvdHlwZS5vblJlcXVlc3RUaW1lb3V0PWZ1bmN0aW9uKCl7ZS5DbGllbnRDb250ZXh0LnByb3RvdHlwZS5vblJlcXVlc3RUaW1lb3V0LmNhbGwodGhpcyksdGhpcy5lbWl0KCJ1bnB1Ymxpc2hlZCIsbnVsbCxlLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCl9LHQucHJvdG90eXBlLm9uVHJhbnNwb3J0RXJyb3I9ZnVuY3Rpb24oKXtlLkNsaWVudENvbnRleHQucHJvdG90eXBlLm9uVHJhbnNwb3J0RXJyb3IuY2FsbCh0aGlzKSx0aGlzLmVtaXQoInVucHVibGlzaGVkIixudWxsLGUuQy5jYXVzZXMuQ09OTkVDVElPTl9FUlJPUil9LGUuUHVibGlzaENvbnRleHQ9dH19LGZ1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7KGZ1bmN0aW9uKHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHMpe3ZhciByLG49e1NUQVRVU19JTklUOjAsU1RBVFVTX1NUQVJUSU5HOjEsU1RBVFVTX1JFQURZOjIsU1RBVFVTX1VTRVJfQ0xPU0VEOjMsU1RBVFVTX05PVF9SRUFEWTo0LENPTkZJR1VSQVRJT05fRVJST1I6MSxORVRXT1JLX0VSUk9SOjIsQUxMT1dFRF9NRVRIT0RTOlsiQUNLIiwiQ0FOQ0VMIiwiSU5WSVRFIiwiTUVTU0FHRSIsIkJZRSIsIk9QVElPTlMiLCJJTkZPIiwiTk9USUZZIiwiUkVGRVIiXSxBQ0NFUFRFRF9CT0RZX1RZUEVTOlsiYXBwbGljYXRpb24vc2RwIiwiYXBwbGljYXRpb24vZHRtZi1yZWxheSJdLE1BWF9GT1JXQVJEUzo3MCxUQUdfTEVOR1RIOjEwfTtmdW5jdGlvbiBvKHQpe2lmKHQgaW5zdGFuY2VvZiBGdW5jdGlvbilyZXR1cm4gdC5pbml0aWFsaXplfHwodC5pbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIGUuVXRpbHMuUHJvbWlzZS5yZXNvbHZlKCl9KSx0fSgocj1mdW5jdGlvbih0KXt2YXIgaT10aGlzO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGkuZW1pdC5iaW5kKGksZSl9bi5BQ0NFUFRFRF9CT0RZX1RZUEVTPW4uQUNDRVBURURfQk9EWV9UWVBFUy50b1N0cmluZygpLHRoaXMubG9nPW5ldyBlLkxvZ2dlckZhY3RvcnksdGhpcy5sb2dnZXI9dGhpcy5nZXRMb2dnZXIoInNpcC51YSIpLHRoaXMuY2FjaGU9e2NyZWRlbnRpYWxzOnt9fSx0aGlzLmNvbmZpZ3VyYXRpb249e30sdGhpcy5kaWFsb2dzPXt9LHRoaXMuYXBwbGljYW50cz17fSx0aGlzLmRhdGE9e30sdGhpcy5zZXNzaW9ucz17fSx0aGlzLnN1YnNjcmlwdGlvbnM9e30sdGhpcy5lYXJseVN1YnNjcmlwdGlvbnM9e30sdGhpcy5wdWJsaXNoZXJzPXt9LHRoaXMudHJhbnNwb3J0PW51bGwsdGhpcy5jb250YWN0PW51bGwsdGhpcy5zdGF0dXM9bi5TVEFUVVNfSU5JVCx0aGlzLmVycm9yPW51bGwsdGhpcy50cmFuc2FjdGlvbnM9e25pc3Q6e30sbmljdDp7fSxpc3Q6e30saWN0Ont9fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHt0cmFuc2FjdGlvbnNDb3VudDp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGUsdD1bIm5pc3QiLCJuaWN0IiwiaXN0IiwiaWN0Il0saT0wO2ZvcihlIGluIHQpaSs9T2JqZWN0LmtleXModGhpcy50cmFuc2FjdGlvbnNbdFtlXV0pLmxlbmd0aDtyZXR1cm4gaX19LG5pY3RUcmFuc2FjdGlvbnNDb3VudDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMudHJhbnNhY3Rpb25zLm5pY3QpLmxlbmd0aH19LG5pc3RUcmFuc2FjdGlvbnNDb3VudDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMudHJhbnNhY3Rpb25zLm5pc3QpLmxlbmd0aH19LGljdFRyYW5zYWN0aW9uc0NvdW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy50cmFuc2FjdGlvbnMuaWN0KS5sZW5ndGh9fSxpc3RUcmFuc2FjdGlvbnNDb3VudDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMudHJhbnNhY3Rpb25zLmlzdCkubGVuZ3RofX19KSx2b2lkIDA9PT10P3Q9e306KCJzdHJpbmciPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFN0cmluZykmJih0PXt1cmk6dH0pLHQubG9nJiYodC5sb2cuaGFzT3duUHJvcGVydHkoImJ1aWx0aW5FbmFibGVkIikmJih0aGlzLmxvZy5idWlsdGluRW5hYmxlZD10LmxvZy5idWlsdGluRW5hYmxlZCksdC5sb2cuaGFzT3duUHJvcGVydHkoImxldmVsIikmJih0aGlzLmxvZy5sZXZlbD10LmxvZy5sZXZlbCksdC5sb2cuaGFzT3duUHJvcGVydHkoImNvbm5lY3RvciIpJiYodGhpcy5sb2cuY29ubmVjdG9yPXQubG9nLmNvbm5lY3RvcikpO3RyeXt0aGlzLmxvYWRDb25maWcodCl9Y2F0Y2goZSl7dGhyb3cgdGhpcy5zdGF0dXM9bi5TVEFUVVNfTk9UX1JFQURZLHRoaXMuZXJyb3I9bi5DT05GSUdVUkFUSU9OX0VSUk9SLGV9dGhpcy5yZWdpc3RlckNvbnRleHQ9bmV3IGUuUmVnaXN0ZXJDb250ZXh0KHRoaXMpLHRoaXMucmVnaXN0ZXJDb250ZXh0Lm9uKCJmYWlsZWQiLHMoInJlZ2lzdHJhdGlvbkZhaWxlZCIpKSx0aGlzLnJlZ2lzdGVyQ29udGV4dC5vbigicmVnaXN0ZXJlZCIscygicmVnaXN0ZXJlZCIpKSx0aGlzLnJlZ2lzdGVyQ29udGV4dC5vbigidW5yZWdpc3RlcmVkIixzKCJ1bnJlZ2lzdGVyZWQiKSksdGhpcy5jb25maWd1cmF0aW9uLmF1dG9zdGFydCYmdGhpcy5zdGFydCgpfSkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5FdmVudEVtaXR0ZXIucHJvdG90eXBlKSkucmVnaXN0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbi5yZWdpc3Rlcj0hMCx0aGlzLnJlZ2lzdGVyQ29udGV4dC5yZWdpc3RlcihlKSx0aGlzfSxyLnByb3RvdHlwZS51bnJlZ2lzdGVyPWZ1bmN0aW9uKGUpe3RoaXMuY29uZmlndXJhdGlvbi5yZWdpc3Rlcj0hMTt2YXIgdD10aGlzLnJlZ2lzdGVyQ29udGV4dDtyZXR1cm4gdGhpcy50cmFuc3BvcnQuYWZ0ZXJDb25uZWN0ZWQodC51bnJlZ2lzdGVyLmJpbmQodCxlKSksdGhpc30sci5wcm90b3R5cGUuaXNSZWdpc3RlcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVnaXN0ZXJDb250ZXh0LnJlZ2lzdGVyZWR9LHIucHJvdG90eXBlLmludml0ZT1mdW5jdGlvbih0LGkscyl7dmFyIHI9bmV3IGUuSW52aXRlQ2xpZW50Q29udGV4dCh0aGlzLHQsaSxzKTtyZXR1cm4gdGhpcy50cmFuc3BvcnQuYWZ0ZXJDb25uZWN0ZWQoZnVuY3Rpb24oKXtyLmludml0ZSgpLHRoaXMuZW1pdCgiaW52aXRlU2VudCIscil9LmJpbmQodGhpcykpLHJ9LHIucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbih0LGkscyl7dmFyIHI9bmV3IGUuU3Vic2NyaXB0aW9uKHRoaXMsdCxpLHMpO3JldHVybiB0aGlzLnRyYW5zcG9ydC5hZnRlckNvbm5lY3RlZChyLnN1YnNjcmliZS5iaW5kKHIpKSxyfSxyLnByb3RvdHlwZS5wdWJsaXNoPWZ1bmN0aW9uKHQsaSxzLHIpe3ZhciBuPW5ldyBlLlB1Ymxpc2hDb250ZXh0KHRoaXMsdCxpLHIpO3JldHVybiB0aGlzLnRyYW5zcG9ydC5hZnRlckNvbm5lY3RlZChuLnB1Ymxpc2guYmluZChuLHMpKSxufSxyLnByb3RvdHlwZS5tZXNzYWdlPWZ1bmN0aW9uKHQsaSxzKXtpZih2b2lkIDA9PT1pKXRocm93IG5ldyBUeXBlRXJyb3IoIk5vdCBlbm91Z2ggYXJndW1lbnRzIik7cmV0dXJuKHM9T2JqZWN0LmNyZWF0ZShzfHxPYmplY3QucHJvdG90eXBlKSkuY29udGVudFR5cGV8fChzLmNvbnRlbnRUeXBlPSJ0ZXh0L3BsYWluIikscy5ib2R5PWksdGhpcy5yZXF1ZXN0KGUuQy5NRVNTQUdFLHQscyl9LHIucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24odCxpLHMpe3ZhciByPW5ldyBlLkNsaWVudENvbnRleHQodGhpcyx0LGkscyk7cmV0dXJuIHRoaXMudHJhbnNwb3J0LmFmdGVyQ29ubmVjdGVkKHIuc2VuZC5iaW5kKHIpKSxyfSxyLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dmFyIGUsaSxyLG8sYT10aGlzO2lmKHRoaXMubG9nZ2VyLmxvZygidXNlciByZXF1ZXN0ZWQgY2xvc3VyZS4uLiIpLHRoaXMuc3RhdHVzPT09bi5TVEFUVVNfVVNFUl9DTE9TRUQpcmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oIlVBIGFscmVhZHkgY2xvc2VkIiksdGhpcztmb3IoZSBpbiB0aGlzLmxvZ2dlci5sb2coImNsb3NpbmcgcmVnaXN0ZXJDb250ZXh0IiksdGhpcy5yZWdpc3RlckNvbnRleHQuY2xvc2UoKSx0aGlzLnNlc3Npb25zKXRoaXMubG9nZ2VyLmxvZygiY2xvc2luZyBzZXNzaW9uICIrZSksdGhpcy5zZXNzaW9uc1tlXS50ZXJtaW5hdGUoKTtmb3IoaSBpbiB0aGlzLnN1YnNjcmlwdGlvbnMpdGhpcy5sb2dnZXIubG9nKCJ1bnN1YnNjcmliaW5nIGZyb20gc3Vic2NyaXB0aW9uICIraSksdGhpcy5zdWJzY3JpcHRpb25zW2ldLmNsb3NlKCk7Zm9yKGkgaW4gdGhpcy5lYXJseVN1YnNjcmlwdGlvbnMpdGhpcy5sb2dnZXIubG9nKCJ1bnN1YnNjcmliaW5nIGZyb20gZWFybHkgc3Vic2NyaXB0aW9uICIraSksdGhpcy5lYXJseVN1YnNjcmlwdGlvbnNbaV0uY2xvc2UoKTtmb3IobyBpbiB0aGlzLnB1Ymxpc2hlcnMpdGhpcy5sb2dnZXIubG9nKCJ1bnB1Ymxpc2ggIitvKSx0aGlzLnB1Ymxpc2hlcnNbb10uY2xvc2UoKTtmb3IociBpbiB0aGlzLmFwcGxpY2FudHMpdGhpcy5hcHBsaWNhbnRzW3JdLmNsb3NlKCk7cmV0dXJuIHRoaXMuc3RhdHVzPW4uU1RBVFVTX1VTRVJfQ0xPU0VELDA9PT10aGlzLm5pc3RUcmFuc2FjdGlvbnNDb3VudCYmMD09PXRoaXMubmljdFRyYW5zYWN0aW9uc0NvdW50P3RoaXMudHJhbnNwb3J0LmRpc2Nvbm5lY3QoKTp0aGlzLm9uKCJ0cmFuc2FjdGlvbkRlc3Ryb3llZCIsZnVuY3Rpb24gZSgpezA9PT1hLm5pc3RUcmFuc2FjdGlvbnNDb3VudCYmMD09PWEubmljdFRyYW5zYWN0aW9uc0NvdW50JiYoYS5yZW1vdmVMaXN0ZW5lcigidHJhbnNhY3Rpb25EZXN0cm95ZWQiLGUpLGEudHJhbnNwb3J0LmRpc2Nvbm5lY3QoKSl9KSwiZnVuY3Rpb24iPT10eXBlb2Ygcy5yZW1vdmVFdmVudExpc3RlbmVyJiYodC5jaHJvbWUmJnQuY2hyb21lLmFwcCYmdC5jaHJvbWUuYXBwLnJ1bnRpbWV8fHMucmVtb3ZlRXZlbnRMaXN0ZW5lcigidW5sb2FkIix0aGlzLmVudmlyb25MaXN0ZW5lcikpLHRoaXN9LHIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7aWYodGhpcy5sb2dnZXIubG9nKCJ1c2VyIHJlcXVlc3RlZCBzdGFydHVwLi4uIiksdGhpcy5zdGF0dXM9PT1uLlNUQVRVU19JTklUKXtpZih0aGlzLnN0YXR1cz1uLlNUQVRVU19TVEFSVElORywhdGhpcy5jb25maWd1cmF0aW9uLnRyYW5zcG9ydENvbnN0cnVjdG9yKXRocm93IG5ldyBlLkV4Y2VwdGlvbnMuVHJhbnNwb3J0RXJyb3IoIlRyYW5zcG9ydCBjb25zdHJ1Y3RvciBub3Qgc2V0Iik7dGhpcy50cmFuc3BvcnQ9bmV3IHRoaXMuY29uZmlndXJhdGlvbi50cmFuc3BvcnRDb25zdHJ1Y3Rvcih0aGlzLmdldExvZ2dlcigic2lwLnRyYW5zcG9ydCIpLHRoaXMuY29uZmlndXJhdGlvbi50cmFuc3BvcnRPcHRpb25zKSx0aGlzLnNldFRyYW5zcG9ydExpc3RlbmVycygpLHRoaXMuZW1pdCgidHJhbnNwb3J0Q3JlYXRlZCIsdGhpcy50cmFuc3BvcnQpLHRoaXMudHJhbnNwb3J0LmNvbm5lY3QoKX1lbHNlIHRoaXMuc3RhdHVzPT09bi5TVEFUVVNfVVNFUl9DTE9TRUQ/KHRoaXMubG9nZ2VyLmxvZygicmVzdW1pbmciKSx0aGlzLnN0YXR1cz1uLlNUQVRVU19SRUFEWSx0aGlzLnRyYW5zcG9ydC5jb25uZWN0KCkpOnRoaXMuc3RhdHVzPT09bi5TVEFUVVNfU1RBUlRJTkc/dGhpcy5sb2dnZXIubG9nKCJVQSBpcyBpbiBTVEFSVElORyBzdGF0dXMsIG5vdCBvcGVuaW5nIG5ldyBjb25uZWN0aW9uIik6dGhpcy5zdGF0dXM9PT1uLlNUQVRVU19SRUFEWT90aGlzLmxvZ2dlci5sb2coIlVBIGlzIGluIFJFQURZIHN0YXR1cywgbm90IHJlc3VtaW5nIik6dGhpcy5sb2dnZXIuZXJyb3IoIkNvbm5lY3Rpb24gaXMgZG93bi4gQXV0by1SZWNvdmVyeSBzeXN0ZW0gaXMgdHJ5aW5nIHRvIGNvbm5lY3QiKTtyZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uLmF1dG9zdG9wJiYiZnVuY3Rpb24iPT10eXBlb2Ygcy5hZGRFdmVudExpc3RlbmVyJiYodC5jaHJvbWUmJnQuY2hyb21lLmFwcCYmdC5jaHJvbWUuYXBwLnJ1bnRpbWV8fCh0aGlzLmVudmlyb25MaXN0ZW5lcj10aGlzLnN0b3AuYmluZCh0aGlzKSxzLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsdGhpcy5lbnZpcm9uTGlzdGVuZXIpKSksdGhpc30sci5wcm90b3R5cGUubm9ybWFsaXplVGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBlLlV0aWxzLm5vcm1hbGl6ZVRhcmdldCh0LHRoaXMuY29uZmlndXJhdGlvbi5ob3N0cG9ydFBhcmFtcyl9LHIucHJvdG90eXBlLnNhdmVDcmVkZW50aWFscz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jYWNoZS5jcmVkZW50aWFsc1tlLnJlYWxtXT10aGlzLmNhY2hlLmNyZWRlbnRpYWxzW2UucmVhbG1dfHx7fSx0aGlzLmNhY2hlLmNyZWRlbnRpYWxzW2UucmVhbG1dW2UudXJpXT1lLHRoaXN9LHIucHJvdG90eXBlLmdldENyZWRlbnRpYWxzPWZ1bmN0aW9uKGUpe3ZhciB0LGk7cmV0dXJuIHQ9ZS5ydXJpLmhvc3QsdGhpcy5jYWNoZS5jcmVkZW50aWFsc1t0XSYmdGhpcy5jYWNoZS5jcmVkZW50aWFsc1t0XVtlLnJ1cmldJiYoKGk9dGhpcy5jYWNoZS5jcmVkZW50aWFsc1t0XVtlLnJ1cmldKS5tZXRob2Q9ZS5tZXRob2QpLGl9LHIucHJvdG90eXBlLmdldExvZ2dlcj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmxvZy5nZXRMb2dnZXIoZSx0KX0sci5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvcj1mdW5jdGlvbigpe3RoaXMuc3RhdHVzIT09bi5TVEFUVVNfVVNFUl9DTE9TRUQmJih0aGlzLmVycm9yJiZ0aGlzLmVycm9yPT09bi5ORVRXT1JLX0VSUk9SfHwodGhpcy5zdGF0dXM9bi5TVEFUVVNfTk9UX1JFQURZLHRoaXMuZXJyb3I9bi5ORVRXT1JLX0VSUk9SKSl9LHIucHJvdG90eXBlLnNldFRyYW5zcG9ydExpc3RlbmVycz1mdW5jdGlvbigpe3RoaXMudHJhbnNwb3J0Lm9uKCJjb25uZWN0ZWQiLHRoaXMub25UcmFuc3BvcnRDb25uZWN0ZWQuYmluZCh0aGlzKSksdGhpcy50cmFuc3BvcnQub24oIm1lc3NhZ2UiLHRoaXMub25UcmFuc3BvcnRSZWNlaXZlTXNnLmJpbmQodGhpcykpLHRoaXMudHJhbnNwb3J0Lm9uKCJ0cmFuc3BvcnRFcnJvciIsdGhpcy5vblRyYW5zcG9ydEVycm9yLmJpbmQodGhpcykpfSxyLnByb3RvdHlwZS5vblRyYW5zcG9ydENvbm5lY3RlZD1mdW5jdGlvbigpe3RoaXMuY29uZmlndXJhdGlvbi5yZWdpc3RlciYmdGhpcy5jb25maWd1cmF0aW9uLmF1dGhlbnRpY2F0aW9uRmFjdG9yeS5pbml0aWFsaXplKCkudGhlbihmdW5jdGlvbigpe3RoaXMucmVnaXN0ZXJDb250ZXh0Lm9uVHJhbnNwb3J0Q29ubmVjdGVkKCl9LmJpbmQodGhpcykpfSxyLnByb3RvdHlwZS5vblRyYW5zcG9ydFJlY2VpdmVNc2c9ZnVuY3Rpb24odCl7dmFyIGk7aWYodD1lLlBhcnNlci5wYXJzZU1lc3NhZ2UodCx0aGlzKSx0aGlzLnN0YXR1cz09PWUuVUEuQy5TVEFUVVNfVVNFUl9DTE9TRUQmJnQgaW5zdGFuY2VvZiBlLkluY29taW5nUmVxdWVzdCl0aGlzLmxvZ2dlci53YXJuKCJVQSByZWNlaXZlZCBtZXNzYWdlIHdoZW4gc3RhdHVzID0gVVNFUl9DTE9TRUQgLSBhYm9ydGluZyIpO2Vsc2UgaWYoZS5zYW5pdHlDaGVjayh0LHRoaXMsdGhpcy50cmFuc3BvcnQpKWlmKHQgaW5zdGFuY2VvZiBlLkluY29taW5nUmVxdWVzdCl0LnRyYW5zcG9ydD10aGlzLnRyYW5zcG9ydCx0aGlzLnJlY2VpdmVSZXF1ZXN0KHQpO2Vsc2UgaWYodCBpbnN0YW5jZW9mIGUuSW5jb21pbmdSZXNwb25zZSlzd2l0Y2godC5tZXRob2Qpe2Nhc2UgZS5DLklOVklURTooaT10aGlzLnRyYW5zYWN0aW9ucy5pY3RbdC52aWFfYnJhbmNoXSkmJmkucmVjZWl2ZVJlc3BvbnNlKHQpO2JyZWFrO2Nhc2UgZS5DLkFDSzpicmVhaztkZWZhdWx0OihpPXRoaXMudHJhbnNhY3Rpb25zLm5pY3RbdC52aWFfYnJhbmNoXSkmJmkucmVjZWl2ZVJlc3BvbnNlKHQpfX0sci5wcm90b3R5cGUubmV3VHJhbnNhY3Rpb249ZnVuY3Rpb24oZSl7dGhpcy50cmFuc2FjdGlvbnNbZS50eXBlXVtlLmlkXT1lLHRoaXMuZW1pdCgibmV3VHJhbnNhY3Rpb24iLHt0cmFuc2FjdGlvbjplfSl9LHIucHJvdG90eXBlLmRlc3Ryb3lUcmFuc2FjdGlvbj1mdW5jdGlvbihlKXtkZWxldGUgdGhpcy50cmFuc2FjdGlvbnNbZS50eXBlXVtlLmlkXSx0aGlzLmVtaXQoInRyYW5zYWN0aW9uRGVzdHJveWVkIix7dHJhbnNhY3Rpb246ZX0pfSxyLnByb3RvdHlwZS5yZWNlaXZlUmVxdWVzdD1mdW5jdGlvbih0KXt2YXIgaSxzLHIsbyxhLGMsaD10Lm1ldGhvZDtmdW5jdGlvbiB1KGUpe3JldHVybiBlJiZlLnVzZXI9PT10LnJ1cmkudXNlcn1pZighKHUodGhpcy5jb25maWd1cmF0aW9uLnVyaSl8fHUodGhpcy5jb250YWN0LnVyaSl8fHUodGhpcy5jb250YWN0LnB1Yl9ncnV1KXx8dSh0aGlzLmNvbnRhY3QudGVtcF9ncnV1KSkpcmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oIlJlcXVlc3QtVVJJIGRvZXMgbm90IHBvaW50IHRvIHVzIiksdm9pZCh0Lm1ldGhvZCE9PWUuQy5BQ0smJnQucmVwbHlfc2woNDA0KSk7aWYodC5ydXJpLnNjaGVtZSE9PWUuQy5TSVBTKXtpZighZS5UcmFuc2FjdGlvbnMuY2hlY2tUcmFuc2FjdGlvbih0aGlzLHQpKWlmKGg9PT1lLkMuT1BUSU9OUz8obmV3IGUuVHJhbnNhY3Rpb25zLk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uKHQsdGhpcyksdC5yZXBseSgyMDAsbnVsbCxbIkFsbG93OiAiK2UuVUEuQy5BTExPV0VEX01FVEhPRFMudG9TdHJpbmcoKSwiQWNjZXB0OiAiK24uQUNDRVBURURfQk9EWV9UWVBFU10pKTpoPT09ZS5DLk1FU1NBR0U/KChyPW5ldyBlLlNlcnZlckNvbnRleHQodGhpcyx0KSkuYm9keT10LmJvZHksci5jb250ZW50X3R5cGU9dC5nZXRIZWFkZXIoIkNvbnRlbnQtVHlwZSIpfHwidGV4dC9wbGFpbiIsdC5yZXBseSgyMDAsbnVsbCksdGhpcy5lbWl0KCJtZXNzYWdlIixyKSk6aCE9PWUuQy5JTlZJVEUmJmghPT1lLkMuQUNLJiZuZXcgZS5TZXJ2ZXJDb250ZXh0KHRoaXMsdCksdC50b190YWcpKGk9dGhpcy5maW5kRGlhbG9nKHQpKT8oaD09PWUuQy5JTlZJVEUmJm5ldyBlLlRyYW5zYWN0aW9ucy5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbih0LHRoaXMpLGkucmVjZWl2ZVJlcXVlc3QodCkpOmg9PT1lLkMuTk9USUZZPyhzPXRoaXMuZmluZFNlc3Npb24odCksbz10aGlzLmZpbmRFYXJseVN1YnNjcmlwdGlvbih0KSxzP3MucmVjZWl2ZVJlcXVlc3QodCk6bz9vLnJlY2VpdmVSZXF1ZXN0KHQpOih0aGlzLmxvZ2dlci53YXJuKCJyZWNlaXZlZCBOT1RJRlkgcmVxdWVzdCBmb3IgYSBub24gZXhpc3RlbnQgc2Vzc2lvbiBvciBzdWJzY3JpcHRpb24iKSx0LnJlcGx5KDQ4MSwiU3Vic2NyaXB0aW9uIGRvZXMgbm90IGV4aXN0IikpKTpoIT09ZS5DLkFDSyYmdC5yZXBseSg0ODEpO2Vsc2Ugc3dpdGNoKGgpe2Nhc2UgZS5DLklOVklURTppZihhPXRoaXMuY29uZmlndXJhdGlvbi5yZXBsYWNlcyE9PWUuQy5zdXBwb3J0ZWQuVU5TVVBQT1JURUQmJnQucGFyc2VIZWFkZXIoInJlcGxhY2VzIikpe2lmKCEoYz10aGlzLmRpYWxvZ3NbYS5jYWxsX2lkK2EucmVwbGFjZXNfdG9fdGFnK2EucmVwbGFjZXNfZnJvbV90YWddKSlyZXR1cm4gdm9pZCB0LnJlcGx5X3NsKDQ4MSxudWxsKTtpZihjLm93bmVyLnN0YXR1cz09PWUuU2Vzc2lvbi5DLlNUQVRVU19URVJNSU5BVEVEKXJldHVybiB2b2lkIHQucmVwbHlfc2woNjAzLG51bGwpO2lmKGMuc3RhdGU9PT1lLkRpYWxvZy5DLlNUQVRVU19DT05GSVJNRUQmJmEuZWFybHlfb25seSlyZXR1cm4gdm9pZCB0LnJlcGx5X3NsKDQ4NixudWxsKX0ocz1uZXcgZS5JbnZpdGVTZXJ2ZXJDb250ZXh0KHRoaXMsdCkpLnJlcGxhY2VlPWMmJmMub3duZXIsdGhpcy5lbWl0KCJpbnZpdGUiLHMpO2JyZWFrO2Nhc2UgZS5DLkJZRTp0LnJlcGx5KDQ4MSk7YnJlYWs7Y2FzZSBlLkMuQ0FOQ0VMOihzPXRoaXMuZmluZFNlc3Npb24odCkpP3MucmVjZWl2ZVJlcXVlc3QodCk6dGhpcy5sb2dnZXIud2FybigicmVjZWl2ZWQgQ0FOQ0VMIHJlcXVlc3QgZm9yIGEgbm9uIGV4aXN0ZW50IHNlc3Npb24iKTticmVhaztjYXNlIGUuQy5BQ0s6YnJlYWs7Y2FzZSBlLkMuTk9USUZZOnRoaXMuY29uZmlndXJhdGlvbi5hbGxvd0xlZ2FjeU5vdGlmaWNhdGlvbnMmJnRoaXMubGlzdGVuZXJzKCJub3RpZnkiKS5sZW5ndGg+MD8odC5yZXBseSgyMDAsbnVsbCksdGhpcy5lbWl0KCJub3RpZnkiLHtyZXF1ZXN0OnR9KSk6dC5yZXBseSg0ODEsIlN1YnNjcmlwdGlvbiBkb2VzIG5vdCBleGlzdCIpO2JyZWFrO2Nhc2UgZS5DLlJFRkVSOmlmKHRoaXMubG9nZ2VyLmxvZygiUmVjZWl2ZWQgYW4gb3V0IG9mIGRpYWxvZyByZWZlciIpLHRoaXMuY29uZmlndXJhdGlvbi5hbGxvd091dE9mRGlhbG9nUmVmZXJzKXt0aGlzLmxvZ2dlci5sb2coIkFsbG93IG91dCBvZiBkaWFsb2cgcmVmZXJzIGlzIGVuYWJsZWQgb24gdGhlIFVBIik7dmFyIGw9bmV3IGUuUmVmZXJTZXJ2ZXJDb250ZXh0KHRoaXMsdCk7dGhpcy5saXN0ZW5lcnMoIm91dE9mRGlhbG9nUmVmZXJSZXF1ZXN0ZWQiKS5sZW5ndGg/dGhpcy5lbWl0KCJvdXRPZkRpYWxvZ1JlZmVyUmVxdWVzdGVkIixsKToodGhpcy5sb2dnZXIubG9nKCJObyBvdXRPZkRpYWxvZ1JlZmVyUmVxdWVzdCBsaXN0ZW5lcnMsIGF1dG9tYXRpY2FsbHkgYWNjZXB0aW5nIGFuZCBmb2xsb3dpbmcgdGhlIG91dCBvZiBkaWFsb2cgcmVmZXIiKSxsLmFjY2VwdCh7Zm9sbG93UmVmZXI6ITB9KSk7YnJlYWt9dC5yZXBseSg0MDUpO2JyZWFrO2RlZmF1bHQ6dC5yZXBseSg0MDUpfX1lbHNlIHQucmVwbHlfc2woNDE2KX0sci5wcm90b3R5cGUuZmluZFNlc3Npb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2Vzc2lvbnNbZS5jYWxsX2lkK2UuZnJvbV90YWddfHx0aGlzLnNlc3Npb25zW2UuY2FsbF9pZCtlLnRvX3RhZ118fG51bGx9LHIucHJvdG90eXBlLmZpbmREaWFsb2c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGlhbG9nc1tlLmNhbGxfaWQrZS5mcm9tX3RhZytlLnRvX3RhZ118fHRoaXMuZGlhbG9nc1tlLmNhbGxfaWQrZS50b190YWcrZS5mcm9tX3RhZ118fG51bGx9LHIucHJvdG90eXBlLmZpbmRFYXJseVN1YnNjcmlwdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYXJseVN1YnNjcmlwdGlvbnNbZS5jYWxsX2lkK2UudG9fdGFnK2UuZ2V0SGVhZGVyKCJldmVudCIpXXx8bnVsbH0sci5wcm90b3R5cGUubG9hZENvbmZpZz1mdW5jdGlvbih0KXt2YXIgcyxyLG4sYSxjLGg9e3ZpYUhvc3Q6ZS5VdGlscy5jcmVhdGVSYW5kb21Ub2tlbigxMikrIi5pbnZhbGlkIix1cmk6bmV3IGUuVVJJKCJzaXAiLCJhbm9ueW1vdXMuIitlLlV0aWxzLmNyZWF0ZVJhbmRvbVRva2VuKDYpLCJhbm9ueW1vdXMuaW52YWxpZCIsbnVsbCxudWxsKSxjdXN0b206e30sZGlzcGxheU5hbWU6IiIscGFzc3dvcmQ6bnVsbCxyZWdpc3RlckV4cGlyZXM6NjAwLHJlZ2lzdGVyOiEwLHJlZ2lzdHJhclNlcnZlcjpudWxsLHRyYW5zcG9ydENvbnN0cnVjdG9yOmkoMjkpKGUpLHRyYW5zcG9ydE9wdGlvbnM6e30sdXNlckFnZW50U3RyaW5nOmUuQy5VU0VSX0FHRU5ULG5vQW5zd2VyVGltZW91dDo2MCxoYWNrVmlhVGNwOiExLGhhY2tJcEluQ29udGFjdDohMSxoYWNrV3NzSW5UcmFuc3BvcnQ6ITEsaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFnczohMSxzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeU9wdGlvbnM6e2NvbnN0cmFpbnRzOnt9LHBlZXJDb25uZWN0aW9uT3B0aW9uczp7fX0sY29udGFjdE5hbWU6ZS5VdGlscy5jcmVhdGVSYW5kb21Ub2tlbig4KSxjb250YWN0VHJhbnNwb3J0OiJ3cyIsZm9yY2VScG9ydDohMSxhdXRvc3RhcnQ6ITAsYXV0b3N0b3A6ITAscmVsMTAwOmUuQy5zdXBwb3J0ZWQuVU5TVVBQT1JURUQsZHRtZlR5cGU6ZS5DLmR0bWZUeXBlLklORk8scmVwbGFjZXM6ZS5DLnN1cHBvcnRlZC5VTlNVUFBPUlRFRCxzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeTppKDMwKShlKS5kZWZhdWx0RmFjdG9yeSxhdXRoZW50aWNhdGlvbkZhY3Rvcnk6byhmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUuRGlnZXN0QXV0aGVudGljYXRpb24odCl9KSxhbGxvd0xlZ2FjeU5vdGlmaWNhdGlvbnM6ITEsYWxsb3dPdXRPZkRpYWxvZ1JlZmVyczohMX07ZnVuY3Rpb24gdShlLGkpe3ZhciBzPWUucmVwbGFjZSgvKFthLXpdW0EtWl0pL2csZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0rIl8iK2VbMV0udG9Mb3dlckNhc2UoKX0pO2lmKGUhPT1zKXt2YXIgcj10Lmhhc093blByb3BlcnR5KGUpO3QuaGFzT3duUHJvcGVydHkocykmJihpLndhcm4ocysiIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgIitlKSxyJiZpLndhcm4oZSsiIG92ZXJyaWRpbmcgIitzKSksdFtlXT1yP3RbZV06dFtzXX19dmFyIGw9dGhpcy5nZXRDb25maWd1cmF0aW9uQ2hlY2soKTtmb3IocyBpbiBsLm1hbmRhdG9yeSl7aWYodShzLHRoaXMubG9nZ2VyKSwhdC5oYXNPd25Qcm9wZXJ0eShzKSl0aHJvdyBuZXcgZS5FeGNlcHRpb25zLkNvbmZpZ3VyYXRpb25FcnJvcihzKTtpZihyPXRbc10sdm9pZCAwPT09KG49bC5tYW5kYXRvcnlbc10ocikpKXRocm93IG5ldyBlLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yKHMscik7aFtzXT1ufWZvcihzIGluIGwub3B0aW9uYWwpaWYodShzLHRoaXMubG9nZ2VyKSx0Lmhhc093blByb3BlcnR5KHMpKXtpZigocj10W3NdKWluc3RhbmNlb2YgQXJyYXkmJjA9PT1yLmxlbmd0aCljb250aW51ZTtpZihudWxsPT09cnx8IiI9PT1yfHx2b2lkIDA9PT1yKWNvbnRpbnVlO2lmKCJudW1iZXIiPT10eXBlb2YgciYmaXNOYU4ocikpY29udGludWU7aWYodm9pZCAwPT09KG49bC5vcHRpb25hbFtzXShyKSkpdGhyb3cgbmV3IGUuRXhjZXB0aW9ucy5Db25maWd1cmF0aW9uRXJyb3IocyxyKTtoW3NdPW59MD09PWguZGlzcGxheU5hbWUmJihoLmRpc3BsYXlOYW1lPSIwIiksaC5pbnN0YW5jZUlkfHwoaC5pbnN0YW5jZUlkPWUuVXRpbHMubmV3VVVJRCgpKSxoLnNpcGpzSWQ9ZS5VdGlscy5jcmVhdGVSYW5kb21Ub2tlbig1KSwoYT1oLnVyaS5jbG9uZSgpKS51c2VyPW51bGwsaC5ob3N0cG9ydFBhcmFtcz1hLnRvUmF3KCkucmVwbGFjZSgvXnNpcDovaSwiIiksaC5hdXRob3JpemF0aW9uVXNlcnx8KGguYXV0aG9yaXphdGlvblVzZXI9aC51cmkudXNlciksaC5yZWdpc3RyYXJTZXJ2ZXJ8fCgoYz1oLnVyaS5jbG9uZSgpKS51c2VyPW51bGwsaC5yZWdpc3RyYXJTZXJ2ZXI9YyksaC5ub0Fuc3dlclRpbWVvdXQ9MWUzKmgubm9BbnN3ZXJUaW1lb3V0LGguaGFja0lwSW5Db250YWN0JiYoImJvb2xlYW4iPT10eXBlb2YgaC5oYWNrSXBJbkNvbnRhY3Q/aC52aWFIb3N0PWUuVXRpbHMuZ2V0UmFuZG9tVGVzdE5ldElQKCk6InN0cmluZyI9PXR5cGVvZiBoLmhhY2tJcEluQ29udGFjdCYmKGgudmlhSG9zdD1oLmhhY2tJcEluQ29udGFjdCkpLGguaGFja1dzc0luVHJhbnNwb3J0JiYoaC5jb250YWN0VHJhbnNwb3J0PSJ3c3MiKSx0aGlzLmNvbnRhY3Q9e3B1Yl9ncnV1Om51bGwsdGVtcF9ncnV1Om51bGwsdXJpOm5ldyBlLlVSSSgic2lwIixoLmNvbnRhY3ROYW1lLGgudmlhSG9zdCxudWxsLHt0cmFuc3BvcnQ6aC5jb250YWN0VHJhbnNwb3J0fSksdG9TdHJpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9KGU9ZXx8e30pLmFub255bW91c3x8bnVsbCxpPWUub3V0Ym91bmR8fG51bGwscz0iPCI7cmV0dXJuIHMrPXQ/KHRoaXMudGVtcF9ncnV1fHwic2lwOmFub255bW91c0Bhbm9ueW1vdXMuaW52YWxpZDt0cmFuc3BvcnQ9IitoLmNvbnRhY3RUcmFuc3BvcnQpLnRvU3RyaW5nKCk6KHRoaXMucHViX2dydXV8fHRoaXMudXJpKS50b1N0cmluZygpLGkmJihzKz0iO29iIikscys9Ij4ifX07dmFyIGQ9e307Zm9yKHMgaW4gaClkW3NdPWhbc107Zm9yKHMgaW4gT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZ3VyYXRpb24sZCksdGhpcy5sb2dnZXIubG9nKCJjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgYWZ0ZXIgdmFsaWRhdGlvbjoiKSxoKXN3aXRjaChzKXtjYXNlInVyaSI6Y2FzZSJyZWdpc3RyYXJTZXJ2ZXIiOmNhc2Uic2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkiOnRoaXMubG9nZ2VyLmxvZygiXHhiNyAiK3MrIjogIitoW3NdKTticmVhaztjYXNlInBhc3N3b3JkIjp0aGlzLmxvZ2dlci5sb2coIlx4YjcgIitzKyI6IE5PVCBTSE9XTiIpO2JyZWFrO2Nhc2UidHJhbnNwb3J0Q29uc3RydWN0b3IiOnRoaXMubG9nZ2VyLmxvZygiXHhiNyAiK3MrIjogIitoW3NdLm5hbWUpO2JyZWFrO2RlZmF1bHQ6dGhpcy5sb2dnZXIubG9nKCJceGI3ICIrcysiOiAiK0pTT04uc3RyaW5naWZ5KGhbc10pKX19LHIucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb25DaGVjaz1mdW5jdGlvbigpe3JldHVybnttYW5kYXRvcnk6e30sb3B0aW9uYWw6e3VyaTpmdW5jdGlvbih0KXt2YXIgaTtyZXR1cm4vXnNpcDovaS50ZXN0KHQpfHwodD1lLkMuU0lQKyI6Iit0KSwoaT1lLlVSSS5wYXJzZSh0KSkmJmkudXNlcj9pOnZvaWQgMH0sdHJhbnNwb3J0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKXJldHVybiBlfSx0cmFuc3BvcnRPcHRpb25zOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZSlyZXR1cm4gZX0sYXV0aG9yaXphdGlvblVzZXI6ZnVuY3Rpb24odCl7cmV0dXJuLTE9PT1lLkdyYW1tYXIucGFyc2UoJyInK3QrJyInLCJxdW90ZWRfc3RyaW5nIik/dm9pZCAwOnR9LGRpc3BsYXlOYW1lOmZ1bmN0aW9uKHQpe3JldHVybi0xPT09ZS5HcmFtbWFyLnBhcnNlKCciJyt0KyciJywiZGlzcGxheU5hbWUiKT92b2lkIDA6dH0sZHRtZlR5cGU6ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgZS5DLmR0bWZUeXBlLlJUUDpyZXR1cm4gZS5DLmR0bWZUeXBlLlJUUDtjYXNlIGUuQy5kdG1mVHlwZS5JTkZPOmRlZmF1bHQ6cmV0dXJuIGUuQy5kdG1mVHlwZS5JTkZPfX0saGFja1ZpYVRjcDpmdW5jdGlvbihlKXtpZigiYm9vbGVhbiI9PXR5cGVvZiBlKXJldHVybiBlfSxoYWNrSXBJbkNvbnRhY3Q6ZnVuY3Rpb24odCl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdD90OiJzdHJpbmciPT10eXBlb2YgdCYmLTEhPT1lLkdyYW1tYXIucGFyc2UodCwiaG9zdCIpP3Q6dm9pZCAwfSxoYWNrV3NzSW5UcmFuc3BvcnQ6ZnVuY3Rpb24oZSl7aWYoImJvb2xlYW4iPT10eXBlb2YgZSlyZXR1cm4gZX0saGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFnczpmdW5jdGlvbihlKXtpZigiYm9vbGVhbiI9PXR5cGVvZiBlKXJldHVybiBlfSxjb250YWN0VHJhbnNwb3J0OmZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZX0sZm9yY2VScG9ydDpmdW5jdGlvbihlKXtpZigiYm9vbGVhbiI9PXR5cGVvZiBlKXJldHVybiBlfSxpbnN0YW5jZUlkOmZ1bmN0aW9uKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdClyZXR1cm4vXnV1aWQ6L2kudGVzdCh0KSYmKHQ9dC5zdWJzdHIoNSkpLC0xPT09ZS5HcmFtbWFyLnBhcnNlKHQsInV1aWQiKT92b2lkIDA6dH0sbm9BbnN3ZXJUaW1lb3V0OmZ1bmN0aW9uKHQpe3ZhciBpO2lmKGUuVXRpbHMuaXNEZWNpbWFsKHQpJiYoaT1OdW1iZXIodCkpPjApcmV0dXJuIGl9LHBhc3N3b3JkOmZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSl9LHJlbDEwMDpmdW5jdGlvbih0KXtyZXR1cm4gdD09PWUuQy5zdXBwb3J0ZWQuUkVRVUlSRUQ/ZS5DLnN1cHBvcnRlZC5SRVFVSVJFRDp0PT09ZS5DLnN1cHBvcnRlZC5TVVBQT1JURUQ/ZS5DLnN1cHBvcnRlZC5TVVBQT1JURUQ6ZS5DLnN1cHBvcnRlZC5VTlNVUFBPUlRFRH0scmVwbGFjZXM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lLkMuc3VwcG9ydGVkLlJFUVVJUkVEP2UuQy5zdXBwb3J0ZWQuUkVRVUlSRUQ6dD09PWUuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEP2UuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEOmUuQy5zdXBwb3J0ZWQuVU5TVVBQT1JURUR9LHJlZ2lzdGVyOmZ1bmN0aW9uKGUpe2lmKCJib29sZWFuIj09dHlwZW9mIGUpcmV0dXJuIGV9LHJlZ2lzdGVyRXhwaXJlczpmdW5jdGlvbih0KXt2YXIgaTtpZihlLlV0aWxzLmlzRGVjaW1hbCh0KSYmKGk9TnVtYmVyKHQpKT4wKXJldHVybiBpfSxyZWdpc3RyYXJTZXJ2ZXI6ZnVuY3Rpb24odCl7dmFyIGk7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybi9ec2lwOi9pLnRlc3QodCl8fCh0PWUuQy5TSVArIjoiK3QpLChpPWUuVVJJLnBhcnNlKHQpKT9pLnVzZXI/dm9pZCAwOmk6dm9pZCAwfSx1c2VyQWdlbnRTdHJpbmc6ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBlfSxhdXRvc3RhcnQ6ZnVuY3Rpb24oZSl7aWYoImJvb2xlYW4iPT10eXBlb2YgZSlyZXR1cm4gZX0sYXV0b3N0b3A6ZnVuY3Rpb24oZSl7aWYoImJvb2xlYW4iPT10eXBlb2YgZSlyZXR1cm4gZX0sc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3Rvcnk6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKXJldHVybiBlfSxzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeU9wdGlvbnM6ZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBlKXJldHVybiBlfSxhdXRoZW50aWNhdGlvbkZhY3Rvcnk6byxhbGxvd0xlZ2FjeU5vdGlmaWNhdGlvbnM6ZnVuY3Rpb24oZSl7aWYoImJvb2xlYW4iPT10eXBlb2YgZSlyZXR1cm4gZX0sY3VzdG9tOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZSlyZXR1cm4gZX0sY29udGFjdE5hbWU6ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBlfX19fSxyLkM9bixlLlVBPXJ9fSkuY2FsbCh0aGlzLGkoMCkpfSxmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiOyhmdW5jdGlvbih0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIGkscz17U1RBVFVTX0NPTk5FQ1RJTkc6MCxTVEFUVVNfT1BFTjoxLFNUQVRVU19DTE9TSU5HOjIsU1RBVFVTX0NMT1NFRDozfSxyPSh0LndpbmRvd3x8dCkuV2ViU29ja2V0O3JldHVybihpPWZ1bmN0aW9uKHQsaSl7aT1lLlV0aWxzLmRlZmF1bHRPcHRpb25zKHt9LGkpLHRoaXMubG9nZ2VyPXQsdGhpcy53cz1udWxsLHRoaXMuc2VydmVyPW51bGwsdGhpcy5jb25uZWN0aW9uUHJvbWlzZT1udWxsLHRoaXMuY29ubmVjdERlZmVycmVkUmVzb2x2ZT1udWxsLHRoaXMuY29ubmVjdGlvblRpbWVvdXQ9bnVsbCx0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlPW51bGwsdGhpcy5kaXNjb25uZWN0RGVmZXJyZWRSZXNvbHZlPW51bGwsdGhpcy5ib3VuZE9uT3Blbj1udWxsLHRoaXMuYm91bmRPbk1lc3NhZ2U9bnVsbCx0aGlzLmJvdW5kT25DbG9zZT1udWxsLHRoaXMuYm91bmRPbkVycm9yPW51bGwsdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cz0wLHRoaXMucmVjb25uZWN0VGltZXI9bnVsbCx0aGlzLmtlZXBBbGl2ZUludGVydmFsPW51bGwsdGhpcy5rZWVwQWxpdmVEZWJvdW5jZVRpbWVvdXQ9bnVsbCx0aGlzLnN0YXR1cz1zLlNUQVRVU19DT05ORUNUSU5HLHRoaXMuY29uZmlndXJhdGlvbj17fSx0aGlzLmxvYWRDb25maWcoaSl9KS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLlRyYW5zcG9ydC5wcm90b3R5cGUse2lzQ29ubmVjdGVkOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXR1cz09PXMuU1RBVFVTX09QRU59fSxzZW5kUHJvbWlzZTp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24odCxpKXtpZihpPWl8fHt9LCF0aGlzLnN0YXR1c0Fzc2VydChzLlNUQVRVU19PUEVOLGkuZm9yY2UpKXJldHVybiB0aGlzLm9uRXJyb3IoInVuYWJsZSB0byBzZW5kIG1lc3NhZ2UgLSBXZWJTb2NrZXQgbm90IG9wZW4iKSxlLlV0aWxzLlByb21pc2UucmVqZWN0KCk7dmFyIHI9dC50b1N0cmluZygpO3JldHVybiB0aGlzLndzPyghMD09PXRoaXMuY29uZmlndXJhdGlvbi50cmFjZVNpcCYmdGhpcy5sb2dnZXIubG9nKCJzZW5kaW5nIFdlYlNvY2tldCBtZXNzYWdlOlxuXG4iK3IrIlxuIiksdGhpcy53cy5zZW5kKHIpLGUuVXRpbHMuUHJvbWlzZS5yZXNvbHZlKHttc2c6cn0pKToodGhpcy5vbkVycm9yKCJ1bmFibGUgdG8gc2VuZCBtZXNzYWdlIC0gV2ViU29ja2V0IGRvZXMgbm90IGV4aXN0IiksZS5VdGlscy5Qcm9taXNlLnJlamVjdCgpKX19LGRpc2Nvbm5lY3RQcm9taXNlOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXNjb25uZWN0aW9uUHJvbWlzZT90aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlOih0PXR8fHt9LHRoaXMuc3RhdHVzVHJhbnNpdGlvbihzLlNUQVRVU19DTE9TSU5HLHQuZm9yY2UpPyh0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlPW5ldyBlLlV0aWxzLlByb21pc2UoZnVuY3Rpb24oaSxzKXt0aGlzLmRpc2Nvbm5lY3REZWZlcnJlZFJlc29sdmU9aSx0aGlzLnJlY29ubmVjdFRpbWVyJiYoZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZXIpLHRoaXMucmVjb25uZWN0VGltZXI9bnVsbCksdGhpcy53cz8odGhpcy5zdG9wU2VuZGluZ0tlZXBBbGl2ZXMoKSx0aGlzLmxvZ2dlci5sb2coImNsb3NpbmcgV2ViU29ja2V0ICIrdGhpcy5zZXJ2ZXIud3NfdXJpKSx0aGlzLndzLmNsb3NlKHQuY29kZSx0LnJlYXNvbikpOnMoIkF0dGVtcHRlZCB0byBkaXNjb25uZWN0IGJ1dCB0aGUgd2Vic29ja2V0IGRvZXNuJ3QgZXhpc3QiKX0uYmluZCh0aGlzKSksdGhpcy5kaXNjb25uZWN0aW9uUHJvbWlzZSk6ZS5VdGlscy5Qcm9taXNlLnJlamVjdCgiRmFpbGVkIHN0YXR1cyB0cmFuc2l0aW9uIC0gYXR0ZW1wdGVkIHRvIGRpc2Nvbm5lY3QgYSBzb2NrZXQgdGhhdCB3YXMgbm90IG9wZW4iKSl9fSxjb25uZWN0UHJvbWlzZTp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvblByb21pc2U/dGhpcy5jb25uZWN0aW9uUHJvbWlzZToodD10fHx7fSx0aGlzLnNlcnZlcj10aGlzLnNlcnZlcnx8dGhpcy5nZXROZXh0V3NTZXJ2ZXIodC5mb3JjZSksdGhpcy5jb25uZWN0aW9uUHJvbWlzZT1uZXcgZS5VdGlscy5Qcm9taXNlKGZ1bmN0aW9uKGksbil7aWYoKHRoaXMuc3RhdHVzPT09cy5TVEFUVVNfT1BFTnx8dGhpcy5zdGF0dXM9PT1zLlNUQVRVU19DTE9TSU5HKSYmIXQuZm9yY2UpcmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oIldlYlNvY2tldCAiK3RoaXMuc2VydmVyLndzX3VyaSsiIGlzIGFscmVhZHkgY29ubmVjdGVkIiksdm9pZCBuKCJGYWlsZWQgc3RhdHVzIGNoZWNrIC0gYXR0ZW1wdGVkIHRvIG9wZW4gYSBjb25uZWN0aW9uIGJ1dCBhbHJlYWR5IG9wZW4vY2xvc2luZyIpO3RoaXMuY29ubmVjdERlZmVycmVkUmVzb2x2ZT1pLHRoaXMuc3RhdHVzPXMuU1RBVFVTX0NPTk5FQ1RJTkcsdGhpcy5sb2dnZXIubG9nKCJjb25uZWN0aW5nIHRvIFdlYlNvY2tldCAiK3RoaXMuc2VydmVyLndzX3VyaSksdGhpcy5kaXNwb3NlV3MoKTt0cnl7dGhpcy53cz1uZXcgcih0aGlzLnNlcnZlci53c191cmksInNpcCIpfWNhdGNoKGUpe3JldHVybiB0aGlzLndzPW51bGwsdGhpcy5zdGF0dXM9cy5TVEFUVVNfQ0xPU0VELHRoaXMub25FcnJvcigiZXJyb3IgY29ubmVjdGluZyB0byBXZWJTb2NrZXQgIit0aGlzLnNlcnZlci53c191cmkrIjoiK2UpLHZvaWQgbigiRmFpbGVkIHRvIGNyZWF0ZSBhIHdlYnNvY2tldCIpfXRoaXMud3M/KHRoaXMuY29ubmVjdGlvblRpbWVvdXQ9ZS5UaW1lcnMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMub25FcnJvcigidG9vayB0b28gbG9uZyB0byBjb25uZWN0IC0gZXhjZWVkZWQgdGltZSBzZXQgaW4gY29uZmlndXJhdGlvbi5jb25uZWN0aW9uVGltZW91dDogIit0aGlzLmNvbmZpZ3VyYXRpb24uY29ubmVjdGlvblRpbWVvdXQrInMiKX0uYmluZCh0aGlzKSwxZTMqdGhpcy5jb25maWd1cmF0aW9uLmNvbm5lY3Rpb25UaW1lb3V0KSx0aGlzLmJvdW5kT25PcGVuPXRoaXMub25PcGVuLmJpbmQodGhpcyksdGhpcy5ib3VuZE9uTWVzc2FnZT10aGlzLm9uTWVzc2FnZS5iaW5kKHRoaXMpLHRoaXMuYm91bmRPbkNsb3NlPXRoaXMub25DbG9zZS5iaW5kKHRoaXMpLHRoaXMuYm91bmRPbkVycm9yPXRoaXMub25FcnJvci5iaW5kKHRoaXMpLHRoaXMud3MuYWRkRXZlbnRMaXN0ZW5lcigib3BlbiIsdGhpcy5ib3VuZE9uT3BlbiksdGhpcy53cy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIix0aGlzLmJvdW5kT25NZXNzYWdlKSx0aGlzLndzLmFkZEV2ZW50TGlzdGVuZXIoImNsb3NlIix0aGlzLmJvdW5kT25DbG9zZSksdGhpcy53cy5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsdGhpcy5ib3VuZE9uRXJyb3IpKTpuKCJVbmV4cGVjdGVkIGluc3RhbmNlIHdlYnNvY2tldCBub3Qgc2V0Iil9LmJpbmQodGhpcykpLHRoaXMuY29ubmVjdGlvblByb21pc2UpfX0sb25PcGVuOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdHVzPXMuU1RBVFVTX09QRU4sdGhpcy5lbWl0KCJjb25uZWN0ZWQiKSxlLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uVGltZW91dCksdGhpcy5sb2dnZXIubG9nKCJXZWJTb2NrZXQgIit0aGlzLnNlcnZlci53c191cmkrIiBjb25uZWN0ZWQiKSxudWxsIT09dGhpcy5yZWNvbm5lY3RUaW1lciYmKGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVyKSx0aGlzLnJlY29ubmVjdFRpbWVyPW51bGwpLHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHM9MCx0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlPW51bGwsdGhpcy5kaXNjb25uZWN0RGVmZXJyZWRSZXNvbHZlPW51bGwsdGhpcy5zdGFydFNlbmRpbmdLZWVwQWxpdmVzKCksdGhpcy5jb25uZWN0RGVmZXJyZWRSZXNvbHZlP3RoaXMuY29ubmVjdERlZmVycmVkUmVzb2x2ZSh7b3ZlcnJpZGVFdmVudDohMH0pOnRoaXMubG9nZ2VyLndhcm4oIlVuZXhwZWN0ZWQgd2Vic29ja2V0Lm9uT3BlbiB3aXRoIG5vIGNvbm5lY3REZWZlcnJlZFJlc29sdmUiKX19LG9uQ2xvc2U6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMubG9nZ2VyLmxvZygiV2ViU29ja2V0IGRpc2Nvbm5lY3RlZCAoY29kZTogIit0LmNvZGUrKHQucmVhc29uPyJ8IHJlYXNvbjogIit0LnJlYXNvbjoiIikrIikiKSx0aGlzLmVtaXQoImRpc2Nvbm5lY3RlZCIse2NvZGU6dC5jb2RlLHJlYXNvbjp0LnJlYXNvbn0pLHRoaXMuc3RhdHVzIT09cy5TVEFUVVNfQ0xPU0lORyYmKHRoaXMubG9nZ2VyLndhcm4oIldlYlNvY2tldCBhYnJ1cHQgZGlzY29ubmVjdGlvbiIpLHRoaXMuZW1pdCgidHJhbnNwb3J0RXJyb3IiKSksdGhpcy5zdG9wU2VuZGluZ0tlZXBBbGl2ZXMoKSxlLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uVGltZW91dCksdGhpcy5jb25uZWN0aW9uVGltZW91dD1udWxsLHRoaXMuY29ubmVjdGlvblByb21pc2U9bnVsbCx0aGlzLmNvbm5lY3REZWZlcnJlZFJlc29sdmU9bnVsbCx0aGlzLmRpc2Nvbm5lY3REZWZlcnJlZFJlc29sdmUpcmV0dXJuIHRoaXMuZGlzY29ubmVjdERlZmVycmVkUmVzb2x2ZSh7b3ZlcnJpZGVFdmVudDohMH0pLHRoaXMuc3RhdHVzVHJhbnNpdGlvbihzLlNUQVRVU19DTE9TRUQpLHZvaWQodGhpcy5kaXNjb25uZWN0RGVmZXJyZWRSZXNvbHZlPW51bGwpO3RoaXMuc3RhdHVzPXMuU1RBVFVTX0NMT1NFRCx0aGlzLnJlY29ubmVjdCgpfX0sZGlzcG9zZVdzOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3RoaXMud3MmJih0aGlzLndzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm9wZW4iLHRoaXMuYm91bmRPbk9wZW4pLHRoaXMud3MucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdGhpcy5ib3VuZE9uTWVzc2FnZSksdGhpcy53cy5yZW1vdmVFdmVudExpc3RlbmVyKCJjbG9zZSIsdGhpcy5ib3VuZE9uQ2xvc2UpLHRoaXMud3MucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLHRoaXMuYm91bmRPbkVycm9yKSx0aGlzLmJvdW5kT25PcGVuPW51bGwsdGhpcy5ib3VuZE9uTWVzc2FnZT1udWxsLHRoaXMuYm91bmRPbkNsb3NlPW51bGwsdGhpcy5ib3VuZE9uRXJyb3I9bnVsbCx0aGlzLndzPW51bGwpfX0sb25NZXNzYWdlOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7aWYoL14oXHJcbikrJC8udGVzdCh0KSlyZXR1cm4gdGhpcy5jbGVhcktlZXBBbGl2ZVRpbWVvdXQoKSx2b2lkKCEwPT09dGhpcy5jb25maWd1cmF0aW9uLnRyYWNlU2lwJiZ0aGlzLmxvZ2dlci5sb2coInJlY2VpdmVkIFdlYlNvY2tldCBtZXNzYWdlIHdpdGggQ1JMRiBLZWVwIEFsaXZlIHJlc3BvbnNlIikpO2lmKHQpe2lmKCJzdHJpbmciIT10eXBlb2YgdCl7dHJ5e3Q9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KHQpKX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci53YXJuKCJyZWNlaXZlZCBXZWJTb2NrZXQgYmluYXJ5IG1lc3NhZ2UgZmFpbGVkIHRvIGJlIGNvbnZlcnRlZCBpbnRvIHN0cmluZywgbWVzc2FnZSBkaXNjYXJkZWQiKX0hMD09PXRoaXMuY29uZmlndXJhdGlvbi50cmFjZVNpcCYmdGhpcy5sb2dnZXIubG9nKCJyZWNlaXZlZCBXZWJTb2NrZXQgYmluYXJ5IG1lc3NhZ2U6XG5cbiIrdCsiXG4iKX1lbHNlITA9PT10aGlzLmNvbmZpZ3VyYXRpb24udHJhY2VTaXAmJnRoaXMubG9nZ2VyLmxvZygicmVjZWl2ZWQgV2ViU29ja2V0IHRleHQgbWVzc2FnZTpcblxuIit0KyJcbiIpO3RoaXMuZW1pdCgibWVzc2FnZSIsdCl9ZWxzZSB0aGlzLmxvZ2dlci53YXJuKCJyZWNlaXZlZCBlbXB0eSBtZXNzYWdlLCBtZXNzYWdlIGRpc2NhcmRlZCIpfX0sb25FcnJvcjp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIud2FybigiVHJhbnNwb3J0IGVycm9yOiAiK2UpLHRoaXMuZW1pdCgidHJhbnNwb3J0RXJyb3IiKX19LHJlY29ubmVjdDp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzPjAmJnRoaXMubG9nZ2VyLmxvZygiUmVjb25uZWN0aW9uIGF0dGVtcHQgIit0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzKyIgZmFpbGVkIiksdGhpcy5ub0F2YWlsYWJsZVNlcnZlcnMoKSlyZXR1cm4gdGhpcy5sb2dnZXIud2Fybigibm8gYXZhaWxhYmxlIHdzIHNlcnZlcnMgbGVmdCAtIGdvaW5nIHRvIGNsb3NlZCBzdGF0ZSIpLHRoaXMuc3RhdHVzPXMuU1RBVFVTX0NMT1NFRCx0aGlzLmVtaXQoImNsb3NlZCIpLHZvaWQgdGhpcy5yZXNldFNlcnZlckVycm9yU3RhdHVzKCk7dGhpcy5pc0Nvbm5lY3RlZCgpJiYodGhpcy5sb2dnZXIud2FybigiYXR0ZW1wdGVkIHRvIHJlY29ubmVjdCB3aGlsZSBjb25uZWN0ZWQgLSBmb3JjaW5nIGRpc2Nvbm5lY3QiKSx0aGlzLmRpc2Nvbm5lY3Qoe2ZvcmNlOiEwfSkpLHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMrPTEsdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cz50aGlzLmNvbmZpZ3VyYXRpb24ubWF4UmVjb25uZWN0aW9uQXR0ZW1wdHM/KHRoaXMubG9nZ2VyLndhcm4oIm1heGltdW0gcmVjb25uZWN0aW9uIGF0dGVtcHRzIGZvciBXZWJTb2NrZXQgIit0aGlzLnNlcnZlci53c191cmkpLHRoaXMubG9nZ2VyLmxvZygidHJhbnNwb3J0ICIrdGhpcy5zZXJ2ZXIud3NfdXJpKyIgZmFpbGVkIHwgY29ubmVjdGlvbiBzdGF0ZSBzZXQgdG8gJ2Vycm9yJyIpLHRoaXMuc2VydmVyLmlzRXJyb3I9ITAsdGhpcy5lbWl0KCJ0cmFuc3BvcnRFcnJvciIpLHRoaXMuc2VydmVyPXRoaXMuZ2V0TmV4dFdzU2VydmVyKCksdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cz0wLHRoaXMucmVjb25uZWN0KCkpOih0aGlzLmxvZ2dlci5sb2coInRyeWluZyB0byByZWNvbm5lY3QgdG8gV2ViU29ja2V0ICIrdGhpcy5zZXJ2ZXIud3NfdXJpKyIgKHJlY29ubmVjdGlvbiBhdHRlbXB0ICIrdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cysiKSIpLHRoaXMucmVjb25uZWN0VGltZXI9ZS5UaW1lcnMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuY29ubmVjdCgpLHRoaXMucmVjb25uZWN0VGltZXI9bnVsbH0uYmluZCh0aGlzKSwxPT09dGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cz8wOjFlMyp0aGlzLmNvbmZpZ3VyYXRpb24ucmVjb25uZWN0aW9uVGltZW91dCkpfX0scmVzZXRTZXJ2ZXJFcnJvclN0YXR1czp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuY29uZmlndXJhdGlvbi53c1NlcnZlcnMubGVuZ3RoO2ZvcihlPTA7ZTx0O2UrKyl0aGlzLmNvbmZpZ3VyYXRpb24ud3NTZXJ2ZXJzW2VdLmlzRXJyb3I9ITF9fSxnZXROZXh0V3NTZXJ2ZXI6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLm5vQXZhaWxhYmxlU2VydmVycygpKXt2YXIgdCxpLHMscj1bXTtmb3IoaT10aGlzLmNvbmZpZ3VyYXRpb24ud3NTZXJ2ZXJzLmxlbmd0aCx0PTA7dDxpO3QrKykocz10aGlzLmNvbmZpZ3VyYXRpb24ud3NTZXJ2ZXJzW3RdKS5pc0Vycm9yJiYhZXx8KDA9PT1yLmxlbmd0aD9yLnB1c2gocyk6cy53ZWlnaHQ+clswXS53ZWlnaHQ/cj1bc106cy53ZWlnaHQ9PT1yWzBdLndlaWdodCYmci5wdXNoKHMpKTtyZXR1cm4gclt0PU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpyLmxlbmd0aCldfXRoaXMubG9nZ2VyLndhcm4oImF0dGVtcHRlZCB0byBnZXQgbmV4dCB3cyBzZXJ2ZXIgYnV0IHRoZXJlIGFyZSBubyBhdmFpbGFibGUgd3Mgc2VydmVycyBsZWZ0Iil9fSxub0F2YWlsYWJsZVNlcnZlcnM6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU7Zm9yKGUgaW4gdGhpcy5jb25maWd1cmF0aW9uLndzU2VydmVycylpZighdGhpcy5jb25maWd1cmF0aW9uLndzU2VydmVyc1tlXS5pc0Vycm9yKXJldHVybiExO3JldHVybiEwfX0sc2VuZEtlZXBBbGl2ZTp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5rZWVwQWxpdmVEZWJvdW5jZVRpbWVvdXQpcmV0dXJuIHRoaXMua2VlcEFsaXZlRGVib3VuY2VUaW1lb3V0PWUuVGltZXJzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmVtaXQoImtlZXBBbGl2ZURlYm91bmNlVGltZW91dCIpLHRoaXMuY2xlYXJLZWVwQWxpdmVUaW1lb3V0KCl9LmJpbmQodGhpcyksMWUzKnRoaXMuY29uZmlndXJhdGlvbi5rZWVwQWxpdmVEZWJvdW5jZSksdGhpcy5zZW5kKCJcclxuXHJcbiIpfX0sY2xlYXJLZWVwQWxpdmVUaW1lb3V0Ont3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe2UuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLmtlZXBBbGl2ZURlYm91bmNlVGltZW91dCksdGhpcy5rZWVwQWxpdmVEZWJvdW5jZVRpbWVvdXQ9bnVsbH19LHN0YXJ0U2VuZGluZ0tlZXBBbGl2ZXM6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb25maWd1cmF0aW9uLmtlZXBBbGl2ZUludGVydmFsJiYhdGhpcy5rZWVwQWxpdmVJbnRlcnZhbCYmKHRoaXMua2VlcEFsaXZlSW50ZXJ2YWw9ZS5UaW1lcnMuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0aGlzLnNlbmRLZWVwQWxpdmUoKSx0aGlzLnN0YXJ0U2VuZGluZ0tlZXBBbGl2ZXMoKX0uYmluZCh0aGlzKSxmdW5jdGlvbihlKXt2YXIgdD0uOCplO3JldHVybiAxZTMqKE1hdGgucmFuZG9tKCkqKGUtdCkrdCl9KHRoaXMuY29uZmlndXJhdGlvbi5rZWVwQWxpdmVJbnRlcnZhbCkpKX19LHN0b3BTZW5kaW5nS2VlcEFsaXZlczp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtlLlRpbWVycy5jbGVhckludGVydmFsKHRoaXMua2VlcEFsaXZlSW50ZXJ2YWwpLGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLmtlZXBBbGl2ZURlYm91bmNlVGltZW91dCksdGhpcy5rZWVwQWxpdmVJbnRlcnZhbD1udWxsLHRoaXMua2VlcEFsaXZlRGVib3VuY2VUaW1lb3V0PW51bGx9fSxzdGF0dXNBc3NlcnQ6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10aGlzLnN0YXR1c3x8KHQ/KHRoaXMubG9nZ2VyLndhcm4oIkF0dGVtcHRlZCB0byBhc3NlcnQgIitPYmplY3Qua2V5cyhzKVt0aGlzLnN0YXR1c10rIiBhcyAiK09iamVjdC5rZXlzKHMpW2VdKyItIGNvbnRpbnVpbmcgd2l0aCBvcHRpb246ICdmb3JjZSciKSwhMCk6KHRoaXMubG9nZ2VyLndhcm4oIlRyaWVkIHRvIGFzc2VydCAiK09iamVjdC5rZXlzKHMpW2VdKyIgYnV0IGlzIGN1cnJlbnRseSAiK09iamVjdC5rZXlzKHMpW3RoaXMuc3RhdHVzXSksITEpKX19LHN0YXR1c1RyYW5zaXRpb246e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubG9nZ2VyLmxvZygiQXR0ZW1wdGluZyB0byB0cmFuc2l0aW9uIHN0YXR1cyBmcm9tICIrT2JqZWN0LmtleXMocylbdGhpcy5zdGF0dXNdKyIgdG8gIitPYmplY3Qua2V5cyhzKVtlXSksZT09PXMuU1RBVFVTX09QRU4mJnRoaXMuc3RhdHVzQXNzZXJ0KHMuU1RBVFVTX0NPTk5FQ1RJTkcsdCl8fGU9PT1zLlNUQVRVU19DTE9TSU5HJiZ0aGlzLnN0YXR1c0Fzc2VydChzLlNUQVRVU19PUEVOLHQpfHxlPT09cy5TVEFUVVNfQ0xPU0VEJiZ0aGlzLnN0YXR1c0Fzc2VydChzLlNUQVRVU19DTE9TSU5HLHQpPyh0aGlzLnN0YXR1cz1lLCEwKToodGhpcy5sb2dnZXIud2FybigiU3RhdHVzIHRyYW5zaXRpb24gZmFpbGVkIC0gcmVzdWx0OiBuby1vcCAtIHJlYXNvbjogZWl0aGVyIGdhdmUgYW4gbm9uZXhpc3RlbnQgc3RhdHVzIG9yIGF0dGVtcHRlZCBpbGxlZ2FsIHRyYW5zaXRpb24iKSwhMSl9fSxsb2FkQ29uZmlnOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbih0KXt2YXIgaSxzLHIsbj17d3NTZXJ2ZXJzOlt7c2NoZW1lOiJXU1MiLHNpcF91cmk6IjxzaXA6ZWRnZS5zaXAub25zaXAuY29tO3RyYW5zcG9ydD13cztscj4iLHdlaWdodDowLHdzX3VyaToid3NzOi8vZWRnZS5zaXAub25zaXAuY29tIixpc0Vycm9yOiExfV0sY29ubmVjdGlvblRpbWVvdXQ6NSxtYXhSZWNvbm5lY3Rpb25BdHRlbXB0czozLHJlY29ubmVjdGlvblRpbWVvdXQ6NCxrZWVwQWxpdmVJbnRlcnZhbDowLGtlZXBBbGl2ZURlYm91bmNlOjEwLHRyYWNlU2lwOiExfTtmdW5jdGlvbiBvKGUsaSl7dmFyIHM9ZS5yZXBsYWNlKC8oW2Etel1bQS1aXSkvZyxmdW5jdGlvbihlKXtyZXR1cm4gZVswXSsiXyIrZVsxXS50b0xvd2VyQ2FzZSgpfSk7aWYoZSE9PXMpe3ZhciByPXQuaGFzT3duUHJvcGVydHkoZSk7dC5oYXNPd25Qcm9wZXJ0eShzKSYmKGkud2FybihzKyIgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSAiK2UpLHImJmkud2FybihlKyIgb3ZlcnJpZGluZyAiK3MpKSx0W2VdPXI/dFtlXTp0W3NdfX12YXIgYT10aGlzLmdldENvbmZpZ3VyYXRpb25DaGVjaygpO2ZvcihpIGluIGEubWFuZGF0b3J5KXtpZihvKGksdGhpcy5sb2dnZXIpLCF0Lmhhc093blByb3BlcnR5KGkpKXRocm93IG5ldyBlLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yKGkpO2lmKHM9dFtpXSx2b2lkIDA9PT0ocj1hLm1hbmRhdG9yeVtpXShzKSkpdGhyb3cgbmV3IGUuRXhjZXB0aW9ucy5Db25maWd1cmF0aW9uRXJyb3IoaSxzKTtuW2ldPXJ9Zm9yKGkgaW4gYS5vcHRpb25hbClpZihvKGksdGhpcy5sb2dnZXIpLHQuaGFzT3duUHJvcGVydHkoaSkpe2lmKChzPXRbaV0paW5zdGFuY2VvZiBBcnJheSYmMD09PXMubGVuZ3RoKWNvbnRpbnVlO2lmKG51bGw9PT1zfHwiIj09PXN8fHZvaWQgMD09PXMpY29udGludWU7aWYoIm51bWJlciI9PXR5cGVvZiBzJiZpc05hTihzKSljb250aW51ZTtpZih2b2lkIDA9PT0ocj1hLm9wdGlvbmFsW2ldKHMpKSl0aHJvdyBuZXcgZS5FeGNlcHRpb25zLkNvbmZpZ3VyYXRpb25FcnJvcihpLHMpO25baV09cn12YXIgYz17fTtmb3IoaSBpbiBuKWNbaV09e3ZhbHVlOm5baV19O2ZvcihpIGluIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMuY29uZmlndXJhdGlvbixjKSx0aGlzLmxvZ2dlci5sb2coImNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyBhZnRlciB2YWxpZGF0aW9uOiIpLG4pdGhpcy5sb2dnZXIubG9nKCJceGI3ICIraSsiOiAiK0pTT04uc3RyaW5naWZ5KG5baV0pKX19LGdldENvbmZpZ3VyYXRpb25DaGVjazp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57bWFuZGF0b3J5Ont9LG9wdGlvbmFsOnt3c1NlcnZlcnM6ZnVuY3Rpb24odCl7dmFyIGkscyxyO2lmKCJzdHJpbmciPT10eXBlb2YgdCl0PVt7d3NfdXJpOnR9XTtlbHNle2lmKCEodCBpbnN0YW5jZW9mIEFycmF5KSlyZXR1cm47Zm9yKHM9dC5sZW5ndGgsaT0wO2k8cztpKyspInN0cmluZyI9PXR5cGVvZiB0W2ldJiYodFtpXT17d3NfdXJpOnRbaV19KX1pZigwPT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHM9dC5sZW5ndGgsaT0wO2k8cztpKyspe2lmKCF0W2ldLndzX3VyaSlyZXR1cm47aWYodFtpXS53ZWlnaHQmJiFOdW1iZXIodFtpXS53ZWlnaHQpKXJldHVybjtpZigtMT09PShyPWUuR3JhbW1hci5wYXJzZSh0W2ldLndzX3VyaSwiYWJzb2x1dGVVUkkiKSkpcmV0dXJuO2lmKFsid3NzIiwid3MiLCJ1ZHAiXS5pbmRleE9mKHIuc2NoZW1lKTwwKXJldHVybjt0W2ldLnNpcF91cmk9IjxzaXA6IityLmhvc3QrKHIucG9ydD8iOiIrci5wb3J0OiIiKSsiO3RyYW5zcG9ydD0iK3Iuc2NoZW1lLnJlcGxhY2UoL153c3MkL2ksIndzIikrIjtscj4iLHRbaV0ud2VpZ2h0fHwodFtpXS53ZWlnaHQ9MCksdFtpXS5pc0Vycm9yPSExLHRbaV0uc2NoZW1lPXIuc2NoZW1lLnRvVXBwZXJDYXNlKCl9cmV0dXJuIHR9LGtlZXBBbGl2ZUludGVydmFsOmZ1bmN0aW9uKHQpe3ZhciBpO2lmKGUuVXRpbHMuaXNEZWNpbWFsKHQpJiYoaT1OdW1iZXIodCkpPjApcmV0dXJuIGl9LGtlZXBBbGl2ZURlYm91bmNlOmZ1bmN0aW9uKHQpe3ZhciBpO2lmKGUuVXRpbHMuaXNEZWNpbWFsKHQpJiYoaT1OdW1iZXIodCkpPjApcmV0dXJuIGl9LHRyYWNlU2lwOmZ1bmN0aW9uKGUpe2lmKCJib29sZWFuIj09dHlwZW9mIGUpcmV0dXJuIGV9LGNvbm5lY3Rpb25UaW1lb3V0OmZ1bmN0aW9uKHQpe3ZhciBpO2lmKGUuVXRpbHMuaXNEZWNpbWFsKHQpJiYoaT1OdW1iZXIodCkpPjApcmV0dXJuIGl9LG1heFJlY29ubmVjdGlvbkF0dGVtcHRzOmZ1bmN0aW9uKHQpe3ZhciBpO2lmKGUuVXRpbHMuaXNEZWNpbWFsKHQpJiYoaT1OdW1iZXIodCkpPj0wKXJldHVybiBpfSxyZWNvbm5lY3Rpb25UaW1lb3V0OmZ1bmN0aW9uKHQpe3ZhciBpO2lmKGUuVXRpbHMuaXNEZWNpbWFsKHQpJiYoaT1OdW1iZXIodCkpPjApcmV0dXJuIGl9fX19fX0pLGkuQz1zLGUuV2ViLlRyYW5zcG9ydD1pLGl9fSkuY2FsbCh0aGlzLGkoMCkpfSxmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiOyhmdW5jdGlvbih0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHM9ZnVuY3Rpb24oZSxpLHMpe3RoaXMub3B0aW9ucz1zfHx7fSx0aGlzLmxvZ2dlcj1lLHRoaXMub2JzZXJ2ZXI9aSx0aGlzLmR0bWZTZW5kZXI9bnVsbCx0aGlzLnNob3VsZEFjcXVpcmVNZWRpYT0hMCx0aGlzLkNPTlRFTlRfVFlQRT0iYXBwbGljYXRpb24vc2RwIix0aGlzLkM9e30sdGhpcy5DLkRJUkVDVElPTj17TlVMTDpudWxsLFNFTkRSRUNWOiJzZW5kcmVjdiIsU0VORE9OTFk6InNlbmRvbmx5IixSRUNWT05MWToicmVjdm9ubHkiLElOQUNUSVZFOiJpbmFjdGl2ZSJ9LHRoaXMubG9nZ2VyLmxvZygiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnM6ICIrSlNPTi5zdHJpbmdpZnkodGhpcy5vcHRpb25zKSksdGhpcy5kaXJlY3Rpb249dGhpcy5DLkRJUkVDVElPTi5OVUxMLHRoaXMubW9kaWZpZXJzPXRoaXMub3B0aW9ucy5tb2RpZmllcnN8fFtdLEFycmF5LmlzQXJyYXkodGhpcy5tb2RpZmllcnMpfHwodGhpcy5tb2RpZmllcnM9W3RoaXMubW9kaWZpZXJzXSk7dmFyIHI9dC53aW5kb3d8fHQ7dGhpcy5XZWJSVEM9e01lZGlhU3RyZWFtOnIuTWVkaWFTdHJlYW0sZ2V0VXNlck1lZGlhOnIubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuYmluZChyLm5hdmlnYXRvci5tZWRpYURldmljZXMpLFJUQ1BlZXJDb25uZWN0aW9uOnIuUlRDUGVlckNvbm5lY3Rpb259LHRoaXMuaWNlR2F0aGVyaW5nRGVmZXJyZWQ9bnVsbCx0aGlzLmljZUdhdGhlcmluZ1RpbWVvdXQ9ITEsdGhpcy5pY2VHYXRoZXJpbmdUaW1lcj1udWxsLHRoaXMuaW5pdFBlZXJDb25uZWN0aW9uKHRoaXMub3B0aW9ucy5wZWVyQ29ubmVjdGlvbk9wdGlvbnMpLHRoaXMuY29uc3RyYWludHM9dGhpcy5jaGVja0FuZERlZmF1bHRDb25zdHJhaW50cyh0aGlzLm9wdGlvbnMuY29uc3RyYWludHMpfTtyZXR1cm4gcy5kZWZhdWx0RmFjdG9yeT1mdW5jdGlvbihlLHQpe3ZhciByPWUudWEuZ2V0TG9nZ2VyKCJzaXAuaW52aXRlY29udGV4dC5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyIixlLmlkKSxuPW5ldyhpKDMxKSkoZSx0KTtyZXR1cm4gbmV3IHMocixuLHQpfSxzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5wcm90b3R5cGUse2Nsb3NlOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3RoaXMubG9nZ2VyLmxvZygiY2xvc2luZyBQZWVyQ29ubmVjdGlvbiIpLHRoaXMucGVlckNvbm5lY3Rpb24mJiJjbG9zZWQiIT09dGhpcy5wZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSYmKHRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycz90aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudHJhY2smJmUudHJhY2suc3RvcCgpfSk6KHRoaXMubG9nZ2VyLndhcm4oIlVzaW5nIGdldExvY2FsU3RyZWFtcyB3aGljaCBpcyBkZXByZWNhdGVkIiksdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRMb2NhbFN0cmVhbXMoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihlKXtlLnN0b3AoKX0pfSkpLHRoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVjZWl2ZXJzP3RoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVjZWl2ZXJzKCkuZm9yRWFjaChmdW5jdGlvbihlKXtlLnRyYWNrJiZlLnRyYWNrLnN0b3AoKX0pOih0aGlzLmxvZ2dlci53YXJuKCJVc2luZyBnZXRSZW1vdGVTdHJlYW1zIHdoaWNoIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlbW90ZVN0cmVhbXMoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihlKXtlLnN0b3AoKX0pfSkpLHRoaXMucmVzZXRJY2VHYXRoZXJpbmdDb21wbGV0ZSgpLHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKSl9fSxnZXREZXNjcmlwdGlvbjp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24odCxpKXsodD10fHx7fSkucGVlckNvbm5lY3Rpb25PcHRpb25zJiZ0aGlzLmluaXRQZWVyQ29ubmVjdGlvbih0LnBlZXJDb25uZWN0aW9uT3B0aW9ucyk7dmFyIHM9T2JqZWN0LmFzc2lnbih7fSx0aGlzLmNvbnN0cmFpbnRzLHQuY29uc3RyYWludHMpO3JldHVybiBzPXRoaXMuY2hlY2tBbmREZWZhdWx0Q29uc3RyYWludHMocyksSlNPTi5zdHJpbmdpZnkocykhPT1KU09OLnN0cmluZ2lmeSh0aGlzLmNvbnN0cmFpbnRzKSYmKHRoaXMuY29uc3RyYWludHM9cyx0aGlzLnNob3VsZEFjcXVpcmVNZWRpYT0hMCksaT1pfHxbXSxBcnJheS5pc0FycmF5KGkpfHwoaT1baV0pLGk9aS5jb25jYXQodGhpcy5tb2RpZmllcnMpLGUuVXRpbHMuUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe2lmKHRoaXMuc2hvdWxkQWNxdWlyZU1lZGlhKXJldHVybiB0aGlzLmFjcXVpcmUodGhpcy5jb25zdHJhaW50cykudGhlbihmdW5jdGlvbigpe3RoaXMuc2hvdWxkQWNxdWlyZU1lZGlhPSExfS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbigpe3JldHVybiB0aGlzLmNyZWF0ZU9mZmVyT3JBbnN3ZXIodC5SVENPZmZlck9wdGlvbnMsaSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZW1pdCgiZ2V0RGVzY3JpcHRpb24iLGUpLHtib2R5OmUuc2RwLGNvbnRlbnRUeXBlOnRoaXMuQ09OVEVOVF9UWVBFfX0uYmluZCh0aGlzKSl9fSxoYXNEZXNjcmlwdGlvbjp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10aGlzLkNPTlRFTlRfVFlQRX19LGhvbGRNb2RpZmllcjp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuL2E9KHNlbmRyZWN2fHNlbmRvbmx5fHJlY3Zvbmx5fGluYWN0aXZlKS8udGVzdCh0LnNkcCk/KHQuc2RwPXQuc2RwLnJlcGxhY2UoL2E9c2VuZHJlY3ZcclxuL2csImE9c2VuZG9ubHlcclxuIiksdC5zZHA9dC5zZHAucmVwbGFjZSgvYT1yZWN2b25seVxyXG4vZywiYT1pbmFjdGl2ZVxyXG4iKSk6dC5zZHA9dC5zZHAucmVwbGFjZSgvKG09W15ccl0qXHJcbikvZywiJDFhPXNlbmRvbmx5XHJcbiIpLGUuVXRpbHMuUHJvbWlzZS5yZXNvbHZlKHQpfX0sc2V0RGVzY3JpcHRpb246e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKHQsaSxzKXt2YXIgcj10aGlzLG49dGhpczsoaT1pfHx7fSkucGVlckNvbm5lY3Rpb25PcHRpb25zJiZ0aGlzLmluaXRQZWVyQ29ubmVjdGlvbihpLnBlZXJDb25uZWN0aW9uT3B0aW9ucykscz1zfHxbXSxBcnJheS5pc0FycmF5KHMpfHwocz1bc10pLHM9cy5jb25jYXQodGhpcy5tb2RpZmllcnMpO3ZhciBvPXt0eXBlOnRoaXMuaGFzT2ZmZXIoImxvY2FsIik/ImFuc3dlciI6Im9mZmVyIixzZHA6dH07cmV0dXJuIGUuVXRpbHMuUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe2lmKHRoaXMuc2hvdWxkQWNxdWlyZU1lZGlhJiZ0aGlzLm9wdGlvbnMuYWx3YXlzQWNxdWlyZU1lZGlhRmlyc3QpcmV0dXJuIHRoaXMuYWNxdWlyZSh0aGlzLmNvbnN0cmFpbnRzKS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5zaG91bGRBY3F1aXJlTWVkaWE9ITF9LmJpbmQodGhpcykpfS5iaW5kKHRoaXMpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuVXRpbHMucmVkdWNlUHJvbWlzZXMocyxvKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBlLkV4Y2VwdGlvbnMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKXRocm93IHQ7dmFyIGk9bmV3IGUuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoInNldERlc2NyaXB0aW9uIix0LCJUaGUgbW9kaWZpZXJzIGRpZCBub3QgcmVzb2x2ZSBzdWNjZXNzZnVsbHkiKTt0aHJvdyByLmxvZ2dlci5lcnJvcihpLm1lc3NhZ2UpLG4uZW1pdCgicGVlckNvbm5lY3Rpb24tc2V0UmVtb3RlRGVzY3JpcHRpb25GYWlsZWQiLGkpLGl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuLmVtaXQoInNldERlc2NyaXB0aW9uIixlKSxuLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkuY2F0Y2goZnVuY3Rpb24obil7aWYobiBpbnN0YW5jZW9mIGUuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IpdGhyb3cgbjtpZigvXm09dmlkZW8uKyQvZ20udGVzdCh0KSYmIWkuZGlzYWJsZUF1ZGlvRmFsbGJhY2spcmV0dXJuIGkuZGlzYWJsZUF1ZGlvRmFsbGJhY2s9ITAsci5zZXREZXNjcmlwdGlvbih0LGksW2UuV2ViLk1vZGlmaWVycy5zdHJpcFZpZGVvXS5jb25jYXQocykpO3ZhciBvPW5ldyBlLkV4Y2VwdGlvbnMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKCJzZXREZXNjcmlwdGlvbiIsbik7dGhyb3cgci5sb2dnZXIuZXJyb3Ioby5lcnJvciksci5lbWl0KCJwZWVyQ29ubmVjdGlvbi1zZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWxlZCIsbyksb30pLnRoZW4oZnVuY3Rpb24oKXtuLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycz9uLmVtaXQoInNldFJlbW90ZURlc2NyaXB0aW9uIixuLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpKTpuLmVtaXQoInNldFJlbW90ZURlc2NyaXB0aW9uIixuLnBlZXJDb25uZWN0aW9uLmdldFJlbW90ZVN0cmVhbXMoKSksbi5lbWl0KCJjb25maXJtZWQiLG4pfSl9fSxzZW5kRHRtZjp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5kdG1mU2VuZGVyJiZ0aGlzLmhhc0Jyb3dzZXJHZXRTZW5kZXJTdXBwb3J0KCkpe3ZhciBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpO2kubGVuZ3RoPjAmJih0aGlzLmR0bWZTZW5kZXI9aVswXS5kdG1mKX1pZighdGhpcy5kdG1mU2VuZGVyJiZ0aGlzLmhhc0Jyb3dzZXJUcmFja1N1cHBvcnQoKSl7dmFyIHM9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRMb2NhbFN0cmVhbXMoKTtpZihzLmxlbmd0aD4wKXt2YXIgcj1zWzBdLmdldEF1ZGlvVHJhY2tzKCk7ci5sZW5ndGg+MCYmKHRoaXMuZHRtZlNlbmRlcj10aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZURUTUZTZW5kZXIoclswXSkpfX1pZighdGhpcy5kdG1mU2VuZGVyKXJldHVybiExO3RyeXt0aGlzLmR0bWZTZW5kZXIuaW5zZXJ0RFRNRihlLHQuZHVyYXRpb24sdC5pbnRlclRvbmVHYXApfWNhdGNoKGUpe2lmKCJJbnZhbGlkU3RhdGVFcnJvciI9PT1lLnR5cGV8fCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3IiPT09ZS50eXBlKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihlKSwhMTt0aHJvdyBlfXJldHVybiB0aGlzLmxvZ2dlci5sb2coIkRUTUYgc2VudCB2aWEgUlRQOiAiK2UudG9TdHJpbmcoKSksITB9fSxnZXREaXJlY3Rpb246e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlyZWN0aW9ufX0sY3JlYXRlT2ZmZXJPckFuc3dlcjp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24odCxpKXt2YXIgcyxyPXRoaXMsbj10aGlzLG89dGhpcy5wZWVyQ29ubmVjdGlvbjtyZXR1cm4gdD10fHx7fSxzPW4uaGFzT2ZmZXIoInJlbW90ZSIpPyJjcmVhdGVBbnN3ZXIiOiJjcmVhdGVPZmZlciIsb1tzXSh0KS5jYXRjaChmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcil0aHJvdyB0O3ZhciBpPW5ldyBlLkV4Y2VwdGlvbnMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKCJjcmVhdGVPZmZlck9yQW5zd2VyIix0LCJwZWVyQ29ubmVjdGlvbi0iK3MrIkZhaWxlZCIpO3Rocm93IHIuZW1pdCgicGVlckNvbm5lY3Rpb24tIitzKyJGYWlsZWQiLGkpLGl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLlV0aWxzLnJlZHVjZVByb21pc2VzKGksbi5jcmVhdGVSVENTZXNzaW9uRGVzY3JpcHRpb25Jbml0KHQpKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG4ucmVzZXRJY2VHYXRoZXJpbmdDb21wbGV0ZSgpLG8uc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBlLkV4Y2VwdGlvbnMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKXRocm93IHQ7dmFyIGk9bmV3IGUuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoImNyZWF0ZU9mZmVyT3JBbnN3ZXIiLHQsInBlZXJDb25uZWN0aW9uLVNldExvY2FsRGVzY3JpcHRpb25GYWlsZWQiKTt0aHJvdyByLmVtaXQoInBlZXJDb25uZWN0aW9uLVNldExvY2FsRGVzY3JpcHRpb25GYWlsZWQiLGkpLGl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG4ud2FpdEZvckljZUdhdGhlcmluZ0NvbXBsZXRlKCl9KS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ9bi5jcmVhdGVSVENTZXNzaW9uRGVzY3JpcHRpb25Jbml0KG4ucGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbik7cmV0dXJuIGUuVXRpbHMucmVkdWNlUHJvbWlzZXMoaSx0KX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG4uc2V0RGlyZWN0aW9uKGUuc2RwKSxlfSkuY2F0Y2goZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIGUuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IpdGhyb3cgdDt2YXIgaT1uZXcgZS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcigiY3JlYXRlT2ZmZXJPckFuc3dlciIsdCk7dGhyb3cgci5sb2dnZXIuZXJyb3IoaSksaX0pfX0sY3JlYXRlUlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdDp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ZS50eXBlLHNkcDplLnNkcH19fSxhZGREZWZhdWx0SWNlQ2hlY2tpbmdUaW1lb3V0Ont3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZS5pY2VDaGVja2luZ1RpbWVvdXQmJihlLmljZUNoZWNraW5nVGltZW91dD01ZTMpLGV9fSxhZGREZWZhdWx0SWNlU2VydmVyczp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWNlU2VydmVyc3x8KGUuaWNlU2VydmVycz1be3VybHM6InN0dW46c3R1bi5sLmdvb2dsZS5jb206MTkzMDIifV0pLGV9fSxjaGVja0FuZERlZmF1bHRDb25zdHJhaW50czp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e2F1ZGlvOiEwLHZpZGVvOiF0aGlzLm9wdGlvbnMuYWx3YXlzQWNxdWlyZU1lZGlhRmlyc3R9O3JldHVybiBlPWV8fHQsMD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmZS5jb25zdHJ1Y3Rvcj09PU9iamVjdD90OmV9fSxoYXNCcm93c2VyVHJhY2tTdXBwb3J0Ont3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMucGVlckNvbm5lY3Rpb24uYWRkVHJhY2spfX0saGFzQnJvd3NlckdldFNlbmRlclN1cHBvcnQ6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKX19LGluaXRQZWVyQ29ubmVjdGlvbjp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpczt0PXR8fHt9LCh0PXRoaXMuYWRkRGVmYXVsdEljZUNoZWNraW5nVGltZW91dCh0KSkucnRjQ29uZmlndXJhdGlvbj10LnJ0Y0NvbmZpZ3VyYXRpb258fHt9LHQucnRjQ29uZmlndXJhdGlvbj10aGlzLmFkZERlZmF1bHRJY2VTZXJ2ZXJzKHQucnRjQ29uZmlndXJhdGlvbiksdGhpcy5sb2dnZXIubG9nKCJpbml0UGVlckNvbm5lY3Rpb24iKSx0aGlzLnBlZXJDb25uZWN0aW9uJiYodGhpcy5sb2dnZXIubG9nKCJBbHJlYWR5IGhhdmUgYSBwZWVyIGNvbm5lY3Rpb24gZm9yIHRoaXMgc2Vzc2lvbi4gVGVhcmluZyBkb3duLiIpLHRoaXMucmVzZXRJY2VHYXRoZXJpbmdDb21wbGV0ZSgpLHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKSksdGhpcy5wZWVyQ29ubmVjdGlvbj1uZXcgdGhpcy5XZWJSVEMuUlRDUGVlckNvbm5lY3Rpb24odC5ydGNDb25maWd1cmF0aW9uKSx0aGlzLmxvZ2dlci5sb2coIk5ldyBwZWVyIGNvbm5lY3Rpb24gY3JlYXRlZCIpLCJvbnRyYWNrImluIHRoaXMucGVlckNvbm5lY3Rpb24/dGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCJ0cmFjayIsZnVuY3Rpb24oZSl7aS5sb2dnZXIubG9nKCJ0cmFjayBhZGRlZCIpLGkub2JzZXJ2ZXIudHJhY2tBZGRlZCgpLGkuZW1pdCgiYWRkVHJhY2siLGUpfSk6KHRoaXMubG9nZ2VyLndhcm4oIlVzaW5nIG9uYWRkc3RyZWFtIHdoaWNoIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uYWRkc3RyZWFtPWZ1bmN0aW9uKGUpe2kubG9nZ2VyLmxvZygic3RyZWFtIGFkZGVkIiksaS5lbWl0KCJhZGRTdHJlYW0iLGUpfSksdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1mdW5jdGlvbihlKXtpLmVtaXQoImljZUNhbmRpZGF0ZSIsZSksZS5jYW5kaWRhdGU/aS5sb2dnZXIubG9nKCJJQ0UgY2FuZGlkYXRlIHJlY2VpdmVkOiAiKyhudWxsPT09ZS5jYW5kaWRhdGUuY2FuZGlkYXRlP251bGw6ZS5jYW5kaWRhdGUuY2FuZGlkYXRlLnRyaW0oKSkpOm51bGw9PT1lLmNhbmRpZGF0ZSYmKGkubG9nZ2VyLmxvZygiSUNFIGNhbmRpZGF0ZSBnYXRoZXJpbmcgY29tcGxldGUiKSxpLnRyaWdnZXJJY2VHYXRoZXJpbmdDb21wbGV0ZSgpKX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7c3dpdGNoKGkubG9nZ2VyLmxvZygiUlRDSWNlR2F0aGVyaW5nU3RhdGUgY2hhbmdlZDogIit0aGlzLmljZUdhdGhlcmluZ1N0YXRlKSx0aGlzLmljZUdhdGhlcmluZ1N0YXRlKXtjYXNlImdhdGhlcmluZyI6aS5lbWl0KCJpY2VHYXRoZXJpbmciLHRoaXMpLCFpLmljZUdhdGhlcmluZ1RpbWVyJiZ0LmljZUNoZWNraW5nVGltZW91dCYmKGkuaWNlR2F0aGVyaW5nVGltZW91dD0hMSxpLmljZUdhdGhlcmluZ1RpbWVyPWUuVGltZXJzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmxvZ2dlci5sb2coIlJUQ0ljZUNoZWNraW5nIFRpbWVvdXQgVHJpZ2dlcmVkIGFmdGVyICIrdC5pY2VDaGVja2luZ1RpbWVvdXQrIiBtaWxsaXNlY29uZHMiKSxpLmljZUdhdGhlcmluZ1RpbWVvdXQ9ITAsaS50cmlnZ2VySWNlR2F0aGVyaW5nQ29tcGxldGUoKX0sdC5pY2VDaGVja2luZ1RpbWVvdXQpKTticmVhaztjYXNlImNvbXBsZXRlIjppLnRyaWdnZXJJY2VHYXRoZXJpbmdDb21wbGV0ZSgpfX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3ZhciBlO3N3aXRjaCh0aGlzLmljZUNvbm5lY3Rpb25TdGF0ZSl7Y2FzZSJuZXciOmU9ImljZUNvbm5lY3Rpb24iO2JyZWFrO2Nhc2UiY2hlY2tpbmciOmU9ImljZUNvbm5lY3Rpb25DaGVja2luZyI7YnJlYWs7Y2FzZSJjb25uZWN0ZWQiOmU9ImljZUNvbm5lY3Rpb25Db25uZWN0ZWQiO2JyZWFrO2Nhc2UiY29tcGxldGVkIjplPSJpY2VDb25uZWN0aW9uQ29tcGxldGVkIjticmVhaztjYXNlImZhaWxlZCI6ZT0iaWNlQ29ubmVjdGlvbkZhaWxlZCI7YnJlYWs7Y2FzZSJkaXNjb25uZWN0ZWQiOmU9ImljZUNvbm5lY3Rpb25EaXNjb25uZWN0ZWQiO2JyZWFrO2Nhc2UiY2xvc2VkIjplPSJpY2VDb25uZWN0aW9uQ2xvc2VkIjticmVhaztkZWZhdWx0OnJldHVybiB2b2lkIGkubG9nZ2VyLndhcm4oIlVua25vd24gaWNlQ29ubmVjdGlvbiBzdGF0ZToiLHRoaXMuaWNlQ29ubmVjdGlvblN0YXRlKX1pLmVtaXQoZSx0aGlzKX19fSxhY3F1aXJlOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzO3JldHVybiB0PXRoaXMuY2hlY2tBbmREZWZhdWx0Q29uc3RyYWludHModCksbmV3IGUuVXRpbHMuUHJvbWlzZShmdW5jdGlvbihlLGkpe3RoaXMubG9nZ2VyLmxvZygiYWNxdWlyaW5nIGxvY2FsIG1lZGlhIiksdGhpcy5lbWl0KCJ1c2VyTWVkaWFSZXF1ZXN0Iix0KSx0LmF1ZGlvfHx0LnZpZGVvP3RoaXMuV2ViUlRDLmdldFVzZXJNZWRpYSh0KS50aGVuKGZ1bmN0aW9uKHQpe3RoaXMub2JzZXJ2ZXIudHJhY2tBZGRlZCgpLHRoaXMuZW1pdCgidXNlck1lZGlhIix0KSxlKHQpfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbihlKXt0aGlzLmVtaXQoInVzZXJNZWRpYUZhaWxlZCIsZSksaShlKX0uYmluZCh0aGlzKSk6ZShbXSl9LmJpbmQodGhpcykpLmNhdGNoKGZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBlLkV4Y2VwdGlvbnMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKXRocm93IHQ7dmFyIHM9bmV3IGUuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoImFjcXVpcmUiLHQsInVuYWJsZSB0byBhY3F1aXJlIHN0cmVhbXMiKTt0aHJvdyBpLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLGkubG9nZ2VyLmVycm9yKHMuZXJyb3IpLHN9KS50aGVuKGZ1bmN0aW9uKHQpe3RoaXMubG9nZ2VyLmxvZygiYWNxdWlyZWQgbG9jYWwgbWVkaWEgc3RyZWFtcyIpO3RyeXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayYmdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnBlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrKGUpfSx0aGlzKSx0fWNhdGNoKHQpe3JldHVybiBlLlV0aWxzLlByb21pc2UucmVqZWN0KHQpfX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIGUuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IpdGhyb3cgdDt2YXIgcz1uZXcgZS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcigiYWNxdWlyZSIsdCwiZXJyb3IgcmVtb3Zpbmcgc3RyZWFtcyIpO3Rocm93IGkubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksaS5sb2dnZXIuZXJyb3Iocy5lcnJvciksc30pLnRoZW4oZnVuY3Rpb24odCl7dHJ5eyh0PVtdLmNvbmNhdCh0KSkuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnBlZXJDb25uZWN0aW9uLmFkZFRyYWNrP2UuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzLnBlZXJDb25uZWN0aW9uLmFkZFRyYWNrKHQsZSl9LHRoaXMpOnRoaXMucGVlckNvbm5lY3Rpb24uYWRkU3RyZWFtKGUpfSx0aGlzKX1jYXRjaCh0KXtyZXR1cm4gZS5VdGlscy5Qcm9taXNlLnJlamVjdCh0KX1yZXR1cm4gZS5VdGlscy5Qcm9taXNlLnJlc29sdmUoKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIGUuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IpdGhyb3cgdDt2YXIgcz1uZXcgZS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcigiYWNxdWlyZSIsdCwiZXJyb3IgYWRkaW5nIHN0cmVhbSIpO3Rocm93IGkubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksaS5sb2dnZXIuZXJyb3Iocy5lcnJvciksc30pfX0saGFzT2ZmZXI6e3dyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSJoYXZlLSIrZSsiLW9mZmVyIjtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZT09PXR9fSxpc0ljZUdhdGhlcmluZ0NvbXBsZXRlOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJjb21wbGV0ZSI9PT10aGlzLnBlZXJDb25uZWN0aW9uLmljZUdhdGhlcmluZ1N0YXRlfHx0aGlzLmljZUdhdGhlcmluZ1RpbWVvdXR9fSxyZXNldEljZUdhdGhlcmluZ0NvbXBsZXRlOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaWNlR2F0aGVyaW5nVGltZW91dD0hMSx0aGlzLmljZUdhdGhlcmluZ1RpbWVyJiYoZS5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMuaWNlR2F0aGVyaW5nVGltZXIpLHRoaXMuaWNlR2F0aGVyaW5nVGltZXI9bnVsbCksdGhpcy5pY2VHYXRoZXJpbmdEZWZlcnJlZCYmKHRoaXMuaWNlR2F0aGVyaW5nRGVmZXJyZWQucmVqZWN0KCksdGhpcy5pY2VHYXRoZXJpbmdEZWZlcnJlZD1udWxsKX19LHNldERpcmVjdGlvbjp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXRjaCgvYT0oc2VuZHJlY3Z8c2VuZG9ubHl8cmVjdm9ubHl8aW5hY3RpdmUpLyk7aWYobnVsbD09PXQpcmV0dXJuIHRoaXMuZGlyZWN0aW9uPXRoaXMuQy5ESVJFQ1RJT04uTlVMTCx2b2lkIHRoaXMub2JzZXJ2ZXIuZGlyZWN0aW9uQ2hhbmdlZCgpO3ZhciBpPXRbMV07c3dpdGNoKGkpe2Nhc2UgdGhpcy5DLkRJUkVDVElPTi5TRU5EUkVDVjpjYXNlIHRoaXMuQy5ESVJFQ1RJT04uU0VORE9OTFk6Y2FzZSB0aGlzLkMuRElSRUNUSU9OLlJFQ1ZPTkxZOmNhc2UgdGhpcy5DLkRJUkVDVElPTi5JTkFDVElWRTp0aGlzLmRpcmVjdGlvbj1pO2JyZWFrO2RlZmF1bHQ6dGhpcy5kaXJlY3Rpb249dGhpcy5DLkRJUkVDVElPTi5OVUxMfXRoaXMub2JzZXJ2ZXIuZGlyZWN0aW9uQ2hhbmdlZCgpfX0sdHJpZ2dlckljZUdhdGhlcmluZ0NvbXBsZXRlOnt3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaXNJY2VHYXRoZXJpbmdDb21wbGV0ZSgpJiYodGhpcy5lbWl0KCJpY2VHYXRoZXJpbmdDb21wbGV0ZSIsdGhpcyksdGhpcy5pY2VHYXRoZXJpbmdUaW1lciYmKGUuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLmljZUdhdGhlcmluZ1RpbWVyKSx0aGlzLmljZUdhdGhlcmluZ1RpbWVyPW51bGwpLHRoaXMuaWNlR2F0aGVyaW5nRGVmZXJyZWQmJih0aGlzLmljZUdhdGhlcmluZ0RlZmVycmVkLnJlc29sdmUoKSx0aGlzLmljZUdhdGhlcmluZ0RlZmVycmVkPW51bGwpKX19LHdhaXRGb3JJY2VHYXRoZXJpbmdDb21wbGV0ZTp7d3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0ljZUdhdGhlcmluZ0NvbXBsZXRlKCk/ZS5VdGlscy5Qcm9taXNlLnJlc29sdmUoKToodGhpcy5pc0ljZUdhdGhlcmluZ0RlZmVycmVkfHwodGhpcy5pY2VHYXRoZXJpbmdEZWZlcnJlZD1lLlV0aWxzLmRlZmVyKCkpLHRoaXMuaWNlR2F0aGVyaW5nRGVmZXJyZWQucHJvbWlzZSl9fX0pLHN9fSkuY2FsbCh0aGlzLGkoMCkpfSxmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO3ZhciBzPWZ1bmN0aW9uKGUsdCl7dGhpcy5zZXNzaW9uPWV8fHt9LHRoaXMub3B0aW9ucz10fHx7fX07cy5wcm90b3R5cGU9e3RyYWNrQWRkZWQ6ZnVuY3Rpb24oKXt0aGlzLnNlc3Npb24uZW1pdCgidHJhY2tBZGRlZCIpfSxkaXJlY3Rpb25DaGFuZ2VkOmZ1bmN0aW9uKCl7dGhpcy5zZXNzaW9uLmVtaXQoImRpcmVjdGlvbkNoYW5nZWQiKX19LGUuZXhwb3J0cz1zfSxmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxpPVtdLHM9W10scj1bXTtmdW5jdGlvbiBuKHQsaSxzKXtmb3IodmFyIHIsbj1lLlV0aWxzLmJ1aWxkU3RhdHVzTGluZSh0KSxvPWkuZ2V0SGVhZGVycygidmlhIiksYT1vLmxlbmd0aCxjPTA7YzxhO2MrKyluKz0iVmlhOiAiK29bY10rIlxyXG4iO3I9aS5nZXRIZWFkZXIoIlRvIiksaS50b190YWd8fChyKz0iO3RhZz0iK2UuVXRpbHMubmV3VGFnKCkpLG4rPSJUbzogIityKyJcclxuIixuKz0iRnJvbTogIitpLmdldEhlYWRlcigiRnJvbSIpKyJcclxuIixuKz0iQ2FsbC1JRDogIitpLmNhbGxfaWQrIlxyXG4iLG4rPSJDU2VxOiAiK2kuY3NlcSsiICIraS5tZXRob2QrIlxyXG4iLG4rPSJcclxuIixzLnNlbmQobil9aS5wdXNoKGZ1bmN0aW9uKGUsdCxpKXtpZighZS5ydXJpfHwic2lwIiE9PWUucnVyaS5zY2hlbWUpcmV0dXJuIG4oNDE2LGUsaSksITF9KSxpLnB1c2goZnVuY3Rpb24oZSx0LGkpe2lmKCFlLnRvX3RhZyYmZS5jYWxsX2lkLnN1YnN0cigwLDUpPT09dC5jb25maWd1cmF0aW9uLnNpcGpzSWQpcmV0dXJuIG4oNDgyLGUsaSksITF9KSxpLnB1c2goZnVuY3Rpb24odCxpLHMpe2lmKGUuVXRpbHMuc3RyX3V0ZjhfbGVuZ3RoKHQuYm9keSk8dC5nZXRIZWFkZXIoImNvbnRlbnQtbGVuZ3RoIikpcmV0dXJuIG4oNDAwLHQscyksITF9KSxpLnB1c2goZnVuY3Rpb24odCxpLHMpe3ZhciByLG8sYT10LmZyb21fdGFnLGM9dC5jYWxsX2lkLGg9dC5jc2VxO2lmKCF0LnRvX3RhZylpZih0Lm1ldGhvZD09PWUuQy5JTlZJVEUpe2lmKHI9aS50cmFuc2FjdGlvbnMuaXN0W3QudmlhX2JyYW5jaF0pcmV0dXJuO2ZvcihvIGluIGkudHJhbnNhY3Rpb25zLmlzdClpZigocj1pLnRyYW5zYWN0aW9ucy5pc3Rbb10pLnJlcXVlc3QuZnJvbV90YWc9PT1hJiZyLnJlcXVlc3QuY2FsbF9pZD09PWMmJnIucmVxdWVzdC5jc2VxPT09aClyZXR1cm4gbig0ODIsdCxzKSwhMX1lbHNle2lmKHI9aS50cmFuc2FjdGlvbnMubmlzdFt0LnZpYV9icmFuY2hdKXJldHVybjtmb3IobyBpbiBpLnRyYW5zYWN0aW9ucy5uaXN0KWlmKChyPWkudHJhbnNhY3Rpb25zLm5pc3Rbb10pLnJlcXVlc3QuZnJvbV90YWc9PT1hJiZyLnJlcXVlc3QuY2FsbF9pZD09PWMmJnIucmVxdWVzdC5jc2VxPT09aClyZXR1cm4gbig0ODIsdCxzKSwhMX19KSxzLnB1c2goZnVuY3Rpb24oZSx0KXtpZihlLmdldEhlYWRlcnMoInZpYSIpLmxlbmd0aD4xKXJldHVybiB0LmdldExvZ2dlcigic2lwLnNhbml0eWNoZWNrIikud2FybigiTW9yZSB0aGFuIG9uZSBWaWEgaGVhZGVyIGZpZWxkIHByZXNlbnQgaW4gdGhlIHJlc3BvbnNlLiBEcm9wcGluZyB0aGUgcmVzcG9uc2UiKSwhMX0pLHMucHVzaChmdW5jdGlvbihlLHQpe3ZhciBpPXQuY29uZmlndXJhdGlvbi52aWFIb3N0O2lmKGUudmlhLmhvc3QhPT1pfHx2b2lkIDAhPT1lLnZpYS5wb3J0KXJldHVybiB0LmdldExvZ2dlcigic2lwLnNhbml0eWNoZWNrIikud2FybigiVmlhIHNlbnQtYnkgaW4gdGhlIHJlc3BvbnNlIGRvZXMgbm90IG1hdGNoIFVBIFZpYSBob3N0IHZhbHVlLiBEcm9wcGluZyB0aGUgcmVzcG9uc2UiKSwhMX0pLHMucHVzaChmdW5jdGlvbih0LGkpe2lmKGUuVXRpbHMuc3RyX3V0ZjhfbGVuZ3RoKHQuYm9keSk8dC5nZXRIZWFkZXIoImNvbnRlbnQtbGVuZ3RoIikpcmV0dXJuIGkuZ2V0TG9nZ2VyKCJzaXAuc2FuaXR5Y2hlY2siKS53YXJuKCJNZXNzYWdlIGJvZHkgbGVuZ3RoIGlzIGxvd2VyIHRoYW4gdGhlIHZhbHVlIGluIENvbnRlbnQtTGVuZ3RoIGhlYWRlciBmaWVsZC4gRHJvcHBpbmcgdGhlIHJlc3BvbnNlIiksITF9KSxyLnB1c2goZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9WyJmcm9tIiwidG8iLCJjYWxsX2lkIiwiY3NlcSIsInZpYSJdLHM9aS5sZW5ndGg7cy0tOylpZighZS5oYXNIZWFkZXIoaVtzXSkpcmV0dXJuIHQuZ2V0TG9nZ2VyKCJzaXAuc2FuaXR5Y2hlY2siKS53YXJuKCJNaXNzaW5nIG1hbmRhdG9yeSBoZWFkZXIgZmllbGQgOiAiK2lbc10rIi4gRHJvcHBpbmcgdGhlIHJlc3BvbnNlIiksITF9KSx0PWZ1bmN0aW9uKHQsbixvKXt2YXIgYTtmb3IoYT1yLmxlbmd0aDthLS07KWlmKCExPT09clthXSh0LG4sbykpcmV0dXJuITE7aWYodCBpbnN0YW5jZW9mIGUuSW5jb21pbmdSZXF1ZXN0KXtmb3IoYT1pLmxlbmd0aDthLS07KWlmKCExPT09aVthXSh0LG4sbykpcmV0dXJuITF9ZWxzZSBpZih0IGluc3RhbmNlb2YgZS5JbmNvbWluZ1Jlc3BvbnNlKWZvcihhPXMubGVuZ3RoO2EtLTspaWYoITE9PT1zW2FdKHQsbixvKSlyZXR1cm4hMTtyZXR1cm4hMH0sZS5zYW5pdHlDaGVjaz10fX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcz1pKDM0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuKHQ9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXI9ZS5nZXRMb2dnZXIoInNpcGpzLmRpZ2VzdGF1dGhlbnRpY2F0aW9uIiksdGhpcy51c2VybmFtZT1lLmNvbmZpZ3VyYXRpb24uYXV0aG9yaXphdGlvblVzZXIsdGhpcy5wYXNzd29yZD1lLmNvbmZpZ3VyYXRpb24ucGFzc3dvcmQsdGhpcy5jbm9uY2U9bnVsbCx0aGlzLm5jPTAsdGhpcy5uY0hleD0iMDAwMDAwMDAiLHRoaXMucmVzcG9uc2U9bnVsbH0pLnByb3RvdHlwZS5hdXRoZW50aWNhdGU9ZnVuY3Rpb24odCxpKXtpZih0aGlzLmFsZ29yaXRobT1pLmFsZ29yaXRobSx0aGlzLnJlYWxtPWkucmVhbG0sdGhpcy5ub25jZT1pLm5vbmNlLHRoaXMub3BhcXVlPWkub3BhcXVlLHRoaXMuc3RhbGU9aS5zdGFsZSx0aGlzLmFsZ29yaXRobSl7aWYoIk1ENSIhPT10aGlzLmFsZ29yaXRobSlyZXR1cm4gdGhpcy5sb2dnZXIud2FybignY2hhbGxlbmdlIHdpdGggRGlnZXN0IGFsZ29yaXRobSBkaWZmZXJlbnQgdGhhbiAiTUQ1IiwgYXV0aGVudGljYXRpb24gYWJvcnRlZCcpLCExfWVsc2UgdGhpcy5hbGdvcml0aG09Ik1ENSI7aWYoIXRoaXMucmVhbG0pcmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oImNoYWxsZW5nZSB3aXRob3V0IERpZ2VzdCByZWFsbSwgYXV0aGVudGljYXRpb24gYWJvcnRlZCIpLCExO2lmKCF0aGlzLm5vbmNlKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKCJjaGFsbGVuZ2Ugd2l0aG91dCBEaWdlc3Qgbm9uY2UsIGF1dGhlbnRpY2F0aW9uIGFib3J0ZWQiKSwhMTtpZihpLnFvcClpZihpLnFvcC5pbmRleE9mKCJhdXRoIik+LTEpdGhpcy5xb3A9ImF1dGgiO2Vsc2V7aWYoIShpLnFvcC5pbmRleE9mKCJhdXRoLWludCIpPi0xKSlyZXR1cm4gdGhpcy5sb2dnZXIud2FybignY2hhbGxlbmdlIHdpdGhvdXQgRGlnZXN0IHFvcCBkaWZmZXJlbnQgdGhhbiAiYXV0aCIgb3IgImF1dGgtaW50IiwgYXV0aGVudGljYXRpb24gYWJvcnRlZCcpLCExO3RoaXMucW9wPSJhdXRoLWludCJ9ZWxzZSB0aGlzLnFvcD1udWxsO3JldHVybiB0aGlzLm1ldGhvZD10Lm1ldGhvZCx0aGlzLnVyaT10LnJ1cmksdGhpcy5jbm9uY2U9ZS5jcmVhdGVSYW5kb21Ub2tlbigxMiksdGhpcy5uYys9MSx0aGlzLnVwZGF0ZU5jSGV4KCksNDI5NDk2NzI5Nj09PXRoaXMubmMmJih0aGlzLm5jPTEsdGhpcy5uY0hleD0iMDAwMDAwMDEiKSx0aGlzLmNhbGN1bGF0ZVJlc3BvbnNlKCksITB9LHQucHJvdG90eXBlLmNhbGN1bGF0ZVJlc3BvbnNlPWZ1bmN0aW9uKCl7dmFyIGUsdDtlPXModGhpcy51c2VybmFtZSsiOiIrdGhpcy5yZWFsbSsiOiIrdGhpcy5wYXNzd29yZCksImF1dGgiPT09dGhpcy5xb3A/KHQ9cyh0aGlzLm1ldGhvZCsiOiIrdGhpcy51cmkpLHRoaXMucmVzcG9uc2U9cyhlKyI6Iit0aGlzLm5vbmNlKyI6Iit0aGlzLm5jSGV4KyI6Iit0aGlzLmNub25jZSsiOmF1dGg6Iit0KSk6ImF1dGgtaW50Ij09PXRoaXMucW9wPyh0PXModGhpcy5tZXRob2QrIjoiK3RoaXMudXJpKyI6IitzKHRoaXMuYm9keT90aGlzLmJvZHk6IiIpKSx0aGlzLnJlc3BvbnNlPXMoZSsiOiIrdGhpcy5ub25jZSsiOiIrdGhpcy5uY0hleCsiOiIrdGhpcy5jbm9uY2UrIjphdXRoLWludDoiK3QpKTpudWxsPT09dGhpcy5xb3AmJih0PXModGhpcy5tZXRob2QrIjoiK3RoaXMudXJpKSx0aGlzLnJlc3BvbnNlPXMoZSsiOiIrdGhpcy5ub25jZSsiOiIrdCkpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPVtdO2lmKCF0aGlzLnJlc3BvbnNlKXRocm93IG5ldyBFcnJvcigicmVzcG9uc2UgZmllbGQgZG9lcyBub3QgZXhpc3QsIGNhbm5vdCBnZW5lcmF0ZSBBdXRob3JpemF0aW9uIGhlYWRlciIpO3JldHVybiBlLnB1c2goImFsZ29yaXRobT0iK3RoaXMuYWxnb3JpdGhtKSxlLnB1c2goJ3VzZXJuYW1lPSInK3RoaXMudXNlcm5hbWUrJyInKSxlLnB1c2goJ3JlYWxtPSInK3RoaXMucmVhbG0rJyInKSxlLnB1c2goJ25vbmNlPSInK3RoaXMubm9uY2UrJyInKSxlLnB1c2goJ3VyaT0iJyt0aGlzLnVyaSsnIicpLGUucHVzaCgncmVzcG9uc2U9IicrdGhpcy5yZXNwb25zZSsnIicpLHRoaXMub3BhcXVlJiZlLnB1c2goJ29wYXF1ZT0iJyt0aGlzLm9wYXF1ZSsnIicpLHRoaXMucW9wJiYoZS5wdXNoKCJxb3A9Iit0aGlzLnFvcCksZS5wdXNoKCdjbm9uY2U9IicrdGhpcy5jbm9uY2UrJyInKSxlLnB1c2goIm5jPSIrdGhpcy5uY0hleCkpLCJEaWdlc3QgIitlLmpvaW4oIiwgIil9LHQucHJvdG90eXBlLnVwZGF0ZU5jSGV4PWZ1bmN0aW9uKCl7dmFyIGU9TnVtYmVyKHRoaXMubmMpLnRvU3RyaW5nKDE2KTt0aGlzLm5jSGV4PSIwMDAwMDAwMCIuc3Vic3RyKDAsOC1lLmxlbmd0aCkrZX0sdH19LGZ1bmN0aW9uKGUsdCxpKXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpPWUscz1pLmxpYixyPXMuV29yZEFycmF5LG49cy5IYXNoZXIsbz1pLmFsZ28sYT1bXTshZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPDY0O2UrKylhW2VdPTQyOTQ5NjcyOTYqdC5hYnModC5zaW4oZSsxKSl8MH0oKTt2YXIgYz1vLk1ENT1uLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyByLmluaXQoWzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OF0pfSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9MDtpPDE2O2krKyl7dmFyIHM9dCtpLHI9ZVtzXTtlW3NdPTE2NzExOTM1JihyPDw4fHI+Pj4yNCl8NDI3ODI1NTM2MCYocjw8MjR8cj4+PjgpfXZhciBuPXRoaXMuX2hhc2gud29yZHMsbz1lW3QrMF0sYz1lW3QrMV0scD1lW3QrMl0sZz1lW3QrM10sZj1lW3QrNF0sbT1lW3QrNV0sVD1lW3QrNl0sRT1lW3QrN10sXz1lW3QrOF0sUz1lW3QrOV0sdj1lW3QrMTBdLEM9ZVt0KzExXSxSPWVbdCsxMl0sQT1lW3QrMTNdLHk9ZVt0KzE0XSxiPWVbdCsxNV0sST1uWzBdLHc9blsxXSxEPW5bMl0sTj1uWzNdO3c9ZCh3PWQodz1kKHc9ZCh3PWwodz1sKHc9bCh3PWwodz11KHc9dSh3PXUodz11KHc9aCh3PWgodz1oKHc9aCh3LEQ9aChELE49aChOLEk9aChJLHcsRCxOLG8sNyxhWzBdKSx3LEQsYywxMixhWzFdKSxJLHcscCwxNyxhWzJdKSxOLEksZywyMixhWzNdKSxEPWgoRCxOPWgoTixJPWgoSSx3LEQsTixmLDcsYVs0XSksdyxELG0sMTIsYVs1XSksSSx3LFQsMTcsYVs2XSksTixJLEUsMjIsYVs3XSksRD1oKEQsTj1oKE4sST1oKEksdyxELE4sXyw3LGFbOF0pLHcsRCxTLDEyLGFbOV0pLEksdyx2LDE3LGFbMTBdKSxOLEksQywyMixhWzExXSksRD1oKEQsTj1oKE4sST1oKEksdyxELE4sUiw3LGFbMTJdKSx3LEQsQSwxMixhWzEzXSksSSx3LHksMTcsYVsxNF0pLE4sSSxiLDIyLGFbMTVdKSxEPXUoRCxOPXUoTixJPXUoSSx3LEQsTixjLDUsYVsxNl0pLHcsRCxULDksYVsxN10pLEksdyxDLDE0LGFbMThdKSxOLEksbywyMCxhWzE5XSksRD11KEQsTj11KE4sST11KEksdyxELE4sbSw1LGFbMjBdKSx3LEQsdiw5LGFbMjFdKSxJLHcsYiwxNCxhWzIyXSksTixJLGYsMjAsYVsyM10pLEQ9dShELE49dShOLEk9dShJLHcsRCxOLFMsNSxhWzI0XSksdyxELHksOSxhWzI1XSksSSx3LGcsMTQsYVsyNl0pLE4sSSxfLDIwLGFbMjddKSxEPXUoRCxOPXUoTixJPXUoSSx3LEQsTixBLDUsYVsyOF0pLHcsRCxwLDksYVsyOV0pLEksdyxFLDE0LGFbMzBdKSxOLEksUiwyMCxhWzMxXSksRD1sKEQsTj1sKE4sST1sKEksdyxELE4sbSw0LGFbMzJdKSx3LEQsXywxMSxhWzMzXSksSSx3LEMsMTYsYVszNF0pLE4sSSx5LDIzLGFbMzVdKSxEPWwoRCxOPWwoTixJPWwoSSx3LEQsTixjLDQsYVszNl0pLHcsRCxmLDExLGFbMzddKSxJLHcsRSwxNixhWzM4XSksTixJLHYsMjMsYVszOV0pLEQ9bChELE49bChOLEk9bChJLHcsRCxOLEEsNCxhWzQwXSksdyxELG8sMTEsYVs0MV0pLEksdyxnLDE2LGFbNDJdKSxOLEksVCwyMyxhWzQzXSksRD1sKEQsTj1sKE4sST1sKEksdyxELE4sUyw0LGFbNDRdKSx3LEQsUiwxMSxhWzQ1XSksSSx3LGIsMTYsYVs0Nl0pLE4sSSxwLDIzLGFbNDddKSxEPWQoRCxOPWQoTixJPWQoSSx3LEQsTixvLDYsYVs0OF0pLHcsRCxFLDEwLGFbNDldKSxJLHcseSwxNSxhWzUwXSksTixJLG0sMjEsYVs1MV0pLEQ9ZChELE49ZChOLEk9ZChJLHcsRCxOLFIsNixhWzUyXSksdyxELGcsMTAsYVs1M10pLEksdyx2LDE1LGFbNTRdKSxOLEksYywyMSxhWzU1XSksRD1kKEQsTj1kKE4sST1kKEksdyxELE4sXyw2LGFbNTZdKSx3LEQsYiwxMCxhWzU3XSksSSx3LFQsMTUsYVs1OF0pLE4sSSxBLDIxLGFbNTldKSxEPWQoRCxOPWQoTixJPWQoSSx3LEQsTixmLDYsYVs2MF0pLHcsRCxDLDEwLGFbNjFdKSxJLHcscCwxNSxhWzYyXSksTixJLFMsMjEsYVs2M10pLG5bMF09blswXStJfDAsblsxXT1uWzFdK3d8MCxuWzJdPW5bMl0rRHwwLG5bM109blszXStOfDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZGF0YSxpPWUud29yZHMscz04KnRoaXMuX25EYXRhQnl0ZXMscj04KmUuc2lnQnl0ZXM7aVtyPj4+NV18PTEyODw8MjQtciUzMjt2YXIgbj10LmZsb29yKHMvNDI5NDk2NzI5Niksbz1zO2lbMTUrKHIrNjQ+Pj45PDw0KV09MTY3MTE5MzUmKG48PDh8bj4+PjI0KXw0Mjc4MjU1MzYwJihuPDwyNHxuPj4+OCksaVsxNCsocis2ND4+Pjk8PDQpXT0xNjcxMTkzNSYobzw8OHxvPj4+MjQpfDQyNzgyNTUzNjAmKG88PDI0fG8+Pj44KSxlLnNpZ0J5dGVzPTQqKGkubGVuZ3RoKzEpLHRoaXMuX3Byb2Nlc3MoKTtmb3IodmFyIGE9dGhpcy5faGFzaCxjPWEud29yZHMsaD0wO2g8NDtoKyspe3ZhciB1PWNbaF07Y1toXT0xNjcxMTkzNSYodTw8OHx1Pj4+MjQpfDQyNzgyNTUzNjAmKHU8PDI0fHU+Pj44KX1yZXR1cm4gYX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgZT1uLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGUuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLGV9fSk7ZnVuY3Rpb24gaChlLHQsaSxzLHIsbixvKXt2YXIgYT1lKyh0Jml8fnQmcykrcitvO3JldHVybihhPDxufGE+Pj4zMi1uKSt0fWZ1bmN0aW9uIHUoZSx0LGkscyxyLG4sbyl7dmFyIGE9ZSsodCZzfGkmfnMpK3IrbztyZXR1cm4oYTw8bnxhPj4+MzItbikrdH1mdW5jdGlvbiBsKGUsdCxpLHMscixuLG8pe3ZhciBhPWUrKHReaV5zKStyK287cmV0dXJuKGE8PG58YT4+PjMyLW4pK3R9ZnVuY3Rpb24gZChlLHQsaSxzLHIsbixvKXt2YXIgYT1lKyhpXih0fH5zKSkrcitvO3JldHVybihhPDxufGE+Pj4zMi1uKSt0fWkuTUQ1PW4uX2NyZWF0ZUhlbHBlcihjKSxpLkhtYWNNRDU9bi5fY3JlYXRlSG1hY0hlbHBlcihjKX0oTWF0aCksZS5NRDV9KGkoMzUpKX0sZnVuY3Rpb24oZSx0LGkpe2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlPWV8fGZ1bmN0aW9uKGUsdCl7dmFyIGk9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBmdW5jdGlvbih0KXt2YXIgaTtyZXR1cm4gZS5wcm90b3R5cGU9dCxpPW5ldyBlLGUucHJvdG90eXBlPW51bGwsaX19KCkscz17fSxyPXMubGliPXt9LG49ci5CYXNlPXtleHRlbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzKTtyZXR1cm4gZSYmdC5taXhJbihlKSx0Lmhhc093blByb3BlcnR5KCJpbml0IikmJnRoaXMuaW5pdCE9PXQuaW5pdHx8KHQuaW5pdD1mdW5jdGlvbigpe3QuJHN1cGVyLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksdC5pbml0LnByb3RvdHlwZT10LHQuJHN1cGVyPXRoaXMsdH0sY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5leHRlbmQoKTtyZXR1cm4gZS5pbml0LmFwcGx5KGUsYXJndW1lbnRzKSxlfSxpbml0OmZ1bmN0aW9uKCl7fSxtaXhJbjpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSllLmhhc093blByb3BlcnR5KHQpJiYodGhpc1t0XT1lW3RdKTtlLmhhc093blByb3BlcnR5KCJ0b1N0cmluZyIpJiYodGhpcy50b1N0cmluZz1lLnRvU3RyaW5nKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyl9fSxvPXIuV29yZEFycmF5PW4uZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsdCl7ZT10aGlzLndvcmRzPWV8fFtdLHRoaXMuc2lnQnl0ZXM9dm9pZCAwIT10P3Q6NCplLmxlbmd0aH0sdG9TdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fGMpLnN0cmluZ2lmeSh0aGlzKX0sY29uY2F0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMud29yZHMsaT1lLndvcmRzLHM9dGhpcy5zaWdCeXRlcyxyPWUuc2lnQnl0ZXM7aWYodGhpcy5jbGFtcCgpLHMlNClmb3IodmFyIG49MDtuPHI7bisrKXt2YXIgbz1pW24+Pj4yXT4+PjI0LW4lNCo4JjI1NTt0W3Mrbj4+PjJdfD1vPDwyNC0ocytuKSU0Kjh9ZWxzZSBmb3IodmFyIG49MDtuPHI7bis9NCl0W3Mrbj4+PjJdPWlbbj4+PjJdO3JldHVybiB0aGlzLnNpZ0J5dGVzKz1yLHRoaXN9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy53b3JkcyxpPXRoaXMuc2lnQnl0ZXM7dFtpPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLWklNCo4LHQubGVuZ3RoPWUuY2VpbChpLzQpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciBlPW4uY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gZS53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLGV9LHJhbmRvbTpmdW5jdGlvbih0KXtmb3IodmFyIGkscz1bXSxyPWZ1bmN0aW9uKHQpe3ZhciB0PXQsaT05ODc2NTQzMjEscz00Mjk0OTY3Mjk1O3JldHVybiBmdW5jdGlvbigpe3ZhciByPSgoaT0zNjk2OSooNjU1MzUmaSkrKGk+PjE2KSZzKTw8MTYpKyh0PTE4ZTMqKDY1NTM1JnQpKyh0Pj4xNikmcykmcztyZXR1cm4gci89NDI5NDk2NzI5Niwocis9LjUpKihlLnJhbmRvbSgpPi41PzE6LTEpfX0sbj0wO248dDtuKz00KXt2YXIgYT1yKDQyOTQ5NjcyOTYqKGl8fGUucmFuZG9tKCkpKTtpPTk4NzY1NDA3MSphKCkscy5wdXNoKDQyOTQ5NjcyOTYqYSgpfDApfXJldHVybiBuZXcgby5pbml0KHMsdCl9fSksYT1zLmVuYz17fSxjPWEuSGV4PXtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUud29yZHMsaT1lLnNpZ0J5dGVzLHM9W10scj0wO3I8aTtyKyspe3ZhciBuPXRbcj4+PjJdPj4+MjQtciU0KjgmMjU1O3MucHVzaCgobj4+PjQpLnRvU3RyaW5nKDE2KSkscy5wdXNoKCgxNSZuKS50b1N0cmluZygxNikpfXJldHVybiBzLmpvaW4oIiIpfSxwYXJzZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGgsaT1bXSxzPTA7czx0O3MrPTIpaVtzPj4+M118PXBhcnNlSW50KGUuc3Vic3RyKHMsMiksMTYpPDwyNC1zJTgqNDtyZXR1cm4gbmV3IG8uaW5pdChpLHQvMil9fSxoPWEuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUud29yZHMsaT1lLnNpZ0J5dGVzLHM9W10scj0wO3I8aTtyKyspe3ZhciBuPXRbcj4+PjJdPj4+MjQtciU0KjgmMjU1O3MucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKG4pKX1yZXR1cm4gcy5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLGk9W10scz0wO3M8dDtzKyspaVtzPj4+Ml18PSgyNTUmZS5jaGFyQ29kZUF0KHMpKTw8MjQtcyU0Kjg7cmV0dXJuIG5ldyBvLmluaXQoaSx0KX19LHU9YS5VdGY4PXtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGguc3RyaW5naWZ5KGUpKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKCJNYWxmb3JtZWQgVVRGLTggZGF0YSIpfX0scGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGgucGFyc2UodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKSl9fSxsPXIuQnVmZmVyZWRCbG9ja0FsZ29yaXRobT1uLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPW5ldyBvLmluaXQsdGhpcy5fbkRhdGFCeXRlcz0wfSxfYXBwZW5kOmZ1bmN0aW9uKGUpeyJzdHJpbmciPT10eXBlb2YgZSYmKGU9dS5wYXJzZShlKSksdGhpcy5fZGF0YS5jb25jYXQoZSksdGhpcy5fbkRhdGFCeXRlcys9ZS5zaWdCeXRlc30sX3Byb2Nlc3M6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fZGF0YSxzPWkud29yZHMscj1pLnNpZ0J5dGVzLG49dGhpcy5ibG9ja1NpemUsYT00Km4sYz1yL2EsaD0oYz10P2UuY2VpbChjKTplLm1heCgoMHxjKS10aGlzLl9taW5CdWZmZXJTaXplLDApKSpuLHU9ZS5taW4oNCpoLHIpO2lmKGgpe2Zvcih2YXIgbD0wO2w8aDtsKz1uKXRoaXMuX2RvUHJvY2Vzc0Jsb2NrKHMsbCk7dmFyIGQ9cy5zcGxpY2UoMCxoKTtpLnNpZ0J5dGVzLT11fXJldHVybiBuZXcgby5pbml0KGQsdSl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9bi5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLl9kYXRhPXRoaXMuX2RhdGEuY2xvbmUoKSxlfSxfbWluQnVmZmVyU2l6ZTowfSksZD0oci5IYXNoZXI9bC5leHRlbmQoe2NmZzpuLmV4dGVuZCgpLGluaXQ6ZnVuY3Rpb24oZSl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKGUpLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXtsLnJlc2V0LmNhbGwodGhpcyksdGhpcy5fZG9SZXNldCgpfSx1cGRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2FwcGVuZChlKSx0aGlzLl9wcm9jZXNzKCksdGhpc30sZmluYWxpemU6ZnVuY3Rpb24oZSl7ZSYmdGhpcy5fYXBwZW5kKGUpO3ZhciB0PXRoaXMuX2RvRmluYWxpemUoKTtyZXR1cm4gdH0sYmxvY2tTaXplOjE2LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7cmV0dXJuIG5ldyBlLmluaXQoaSkuZmluYWxpemUodCl9fSxfY3JlYXRlSG1hY0hlbHBlcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxpKXtyZXR1cm4gbmV3IGQuSE1BQy5pbml0KGUsaSkuZmluYWxpemUodCl9fX0pLHMuYWxnbz17fSk7cmV0dXJuIHN9KE1hdGgpO3JldHVybiBlfSgpfSxmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO3ZhciBzPWkoMzcpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm57cGFyc2U6ZnVuY3Rpb24odCxpKXt2YXIgcj17c3RhcnRSdWxlOmksU0lQOmV9O3RyeXtzLnBhcnNlKHQscil9Y2F0Y2goZSl7ci5kYXRhPS0xfXJldHVybiByLmRhdGF9fX19LGZ1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcyhlLHQsaSxyKXt0aGlzLm1lc3NhZ2U9ZSx0aGlzLmV4cGVjdGVkPXQsdGhpcy5mb3VuZD1pLHRoaXMubG9jYXRpb249cix0aGlzLm5hbWU9IlN5bnRheEVycm9yIiwiZnVuY3Rpb24iPT10eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMscyl9IWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9ZX1pLnByb3RvdHlwZT10LnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgaX0ocyxFcnJvcikscy5idWlsZE1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgaT17bGl0ZXJhbDpmdW5jdGlvbihlKXtyZXR1cm4nIicrcihlLnRleHQpKyciJ30sY2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsaT0iIjtmb3IodD0wO3Q8ZS5wYXJ0cy5sZW5ndGg7dCsrKWkrPWUucGFydHNbdF1pbnN0YW5jZW9mIEFycmF5P24oZS5wYXJ0c1t0XVswXSkrIi0iK24oZS5wYXJ0c1t0XVsxXSk6bihlLnBhcnRzW3RdKTtyZXR1cm4iWyIrKGUuaW52ZXJ0ZWQ/Il4iOiIiKStpKyJdIn0sYW55OmZ1bmN0aW9uKGUpe3JldHVybiJhbnkgY2hhcmFjdGVyIn0sZW5kOmZ1bmN0aW9uKGUpe3JldHVybiJlbmQgb2YgaW5wdXQifSxvdGhlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5kZXNjcmlwdGlvbn19O2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX1mdW5jdGlvbiByKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcL2csIlxcXFwiKS5yZXBsYWNlKC8iL2csJ1xcIicpLnJlcGxhY2UoL1wwL2csIlxcMCIpLnJlcGxhY2UoL1x0L2csIlxcdCIpLnJlcGxhY2UoL1xuL2csIlxcbiIpLnJlcGxhY2UoL1xyL2csIlxcciIpLnJlcGxhY2UoL1tceDAwLVx4MEZdL2csZnVuY3Rpb24oZSl7cmV0dXJuIlxceDAiK3MoZSl9KS5yZXBsYWNlKC9bXHgxMC1ceDFGXHg3Ri1ceDlGXS9nLGZ1bmN0aW9uKGUpe3JldHVybiJcXHgiK3MoZSl9KX1mdW5jdGlvbiBuKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcL2csIlxcXFwiKS5yZXBsYWNlKC9cXS9nLCJcXF0iKS5yZXBsYWNlKC9cXi9nLCJcXF4iKS5yZXBsYWNlKC8tL2csIlxcLSIpLnJlcGxhY2UoL1wwL2csIlxcMCIpLnJlcGxhY2UoL1x0L2csIlxcdCIpLnJlcGxhY2UoL1xuL2csIlxcbiIpLnJlcGxhY2UoL1xyL2csIlxcciIpLnJlcGxhY2UoL1tceDAwLVx4MEZdL2csZnVuY3Rpb24oZSl7cmV0dXJuIlxceDAiK3MoZSl9KS5yZXBsYWNlKC9bXHgxMC1ceDFGXHg3Ri1ceDlGXS9nLGZ1bmN0aW9uKGUpe3JldHVybiJcXHgiK3MoZSl9KX1mdW5jdGlvbiBvKGUpe3JldHVybiBpW2UudHlwZV0oZSl9cmV0dXJuIkV4cGVjdGVkICIrZnVuY3Rpb24oZSl7dmFyIHQsaSxzPW5ldyBBcnJheShlLmxlbmd0aCk7Zm9yKHQ9MDt0PGUubGVuZ3RoO3QrKylzW3RdPW8oZVt0XSk7aWYocy5zb3J0KCkscy5sZW5ndGg+MCl7Zm9yKHQ9MSxpPTE7dDxzLmxlbmd0aDt0Kyspc1t0LTFdIT09c1t0XSYmKHNbaV09c1t0XSxpKyspO3MubGVuZ3RoPWl9c3dpdGNoKHMubGVuZ3RoKXtjYXNlIDE6cmV0dXJuIHNbMF07Y2FzZSAyOnJldHVybiBzWzBdKyIgb3IgIitzWzFdO2RlZmF1bHQ6cmV0dXJuIHMuc2xpY2UoMCwtMSkuam9pbigiLCAiKSsiLCBvciAiK3Nbcy5sZW5ndGgtMV19fShlKSsiIGJ1dCAiK2Z1bmN0aW9uKGUpe3JldHVybiBlPyciJytyKGUpKyciJzoiZW5kIG9mIGlucHV0In0odCkrIiBmb3VuZC4ifSxlLmV4cG9ydHM9e1N5bnRheEVycm9yOnMscGFyc2U6ZnVuY3Rpb24oZSx0KXt0PXZvaWQgMCE9PXQ/dDp7fTt2YXIgaSxyPXt9LG49e0NvbnRhY3Q6MTE5LE5hbWVfQWRkcl9IZWFkZXI6MTU2LFJlY29yZF9Sb3V0ZToxNzYsUmVxdWVzdF9SZXNwb25zZTo4MSxTSVBfVVJJOjQ1LFN1YnNjcmlwdGlvbl9TdGF0ZToxODYsU3VwcG9ydGVkOjE5MSxSZXF1aXJlOjE4MixWaWE6MTk0LGFic29sdXRlVVJJOjg0LENhbGxfSUQ6MTE4LENvbnRlbnRfRGlzcG9zaXRpb246MTMwLENvbnRlbnRfTGVuZ3RoOjEzNSxDb250ZW50X1R5cGU6MTM2LENTZXE6MTQ2LGRpc3BsYXlOYW1lOjEyMixFdmVudDoxNDksRnJvbToxNTEsaG9zdDo1MixNYXhfRm9yd2FyZHM6MTU0LE1pbl9TRToyMTMsUHJveHlfQXV0aGVudGljYXRlOjE1NyxxdW90ZWRfc3RyaW5nOjQwLFJlZmVyX1RvOjE3OCxSZXBsYWNlczoxNzksU2Vzc2lvbl9FeHBpcmVzOjIxMCxzdHVuX1VSSToyMTcsVG86MTkyLHR1cm5fVVJJOjIyMyx1dWlkOjIyNixXV1dfQXV0aGVudGljYXRlOjIwOSxjaGFsbGVuZ2U6MTU4LHNpcGZyYWc6MjMwLFJlZmVycmVkX0J5OjIzMX0sbz0xMTksYT1bIlxyXG4iLFQoIlxyXG4iLCExKSwvXlswLTldLyxFKFtbIjAiLCI5Il1dLCExLCExKSwvXlthLXpBLVpdLyxFKFtbImEiLCJ6Il0sWyJBIiwiWiJdXSwhMSwhMSksL15bMC05YS1mQS1GXS8sRShbWyIwIiwiOSJdLFsiYSIsImYiXSxbIkEiLCJGIl1dLCExLCExKSwvXltcMC1ceEZGXS8sRShbWyJcMCIsIlx4ZmYiXV0sITEsITEpLC9eWyJdLyxFKFsnIiddLCExLCExKSwiICIsVCgiICIsITEpLCJcdCIsVCgiXHQiLCExKSwvXlthLXpBLVowLTldLyxFKFtbImEiLCJ6Il0sWyJBIiwiWiJdLFsiMCIsIjkiXV0sITEsITEpLCI7IixUKCI7IiwhMSksIi8iLFQoIi8iLCExKSwiPyIsVCgiPyIsITEpLCI6IixUKCI6IiwhMSksIkAiLFQoIkAiLCExKSwiJiIsVCgiJiIsITEpLCI9IixUKCI9IiwhMSksIisiLFQoIisiLCExKSwiJCIsVCgiJCIsITEpLCIsIixUKCIsIiwhMSksIi0iLFQoIi0iLCExKSwiXyIsVCgiXyIsITEpLCIuIixUKCIuIiwhMSksIiEiLFQoIiEiLCExKSwifiIsVCgifiIsITEpLCIqIixUKCIqIiwhMSksIiciLFQoIiciLCExKSwiKCIsVCgiKCIsITEpLCIpIixUKCIpIiwhMSksIiUiLFQoIiUiLCExKSxmdW5jdGlvbigpe3JldHVybiIgIn0sZnVuY3Rpb24oKXtyZXR1cm4iOiJ9LC9eWyEtfl0vLEUoW1siISIsIn4iXV0sITEsITEpLC9eW1x4ODAtXHVGRkZGXS8sRShbWyJceDgwIiwiXHVmZmZmIl1dLCExLCExKSwvXltceDgwLVx4QkZdLyxFKFtbIlx4ODAiLCJceGJmIl1dLCExLCExKSwvXlthLWZdLyxFKFtbImEiLCJmIl1dLCExLCExKSwiYCIsVCgiYCIsITEpLCI8IixUKCI8IiwhMSksIj4iLFQoIj4iLCExKSwiXFwiLFQoIlxcIiwhMSksIlsiLFQoIlsiLCExKSwiXSIsVCgiXSIsITEpLCJ7IixUKCJ7IiwhMSksIn0iLFQoIn0iLCExKSxmdW5jdGlvbigpe3JldHVybiIqIn0sZnVuY3Rpb24oKXtyZXR1cm4iLyJ9LGZ1bmN0aW9uKCl7cmV0dXJuIj0ifSxmdW5jdGlvbigpe3JldHVybiIoIn0sZnVuY3Rpb24oKXtyZXR1cm4iKSJ9LGZ1bmN0aW9uKCl7cmV0dXJuIj4ifSxmdW5jdGlvbigpe3JldHVybiI8In0sZnVuY3Rpb24oKXtyZXR1cm4iLCJ9LGZ1bmN0aW9uKCl7cmV0dXJuIjsifSxmdW5jdGlvbigpe3JldHVybiI6In0sZnVuY3Rpb24oKXtyZXR1cm4nIid9LC9eWyEtJ10vLEUoW1siISIsIiciXV0sITEsITEpLC9eWyotW10vLEUoW1siKiIsIlsiXV0sITEsITEpLC9eW1xdLX5dLyxFKFtbIl0iLCJ+Il1dLCExLCExKSxmdW5jdGlvbihlKXtyZXR1cm4gZX0sL15bIy1bXS8sRShbWyIjIiwiWyJdXSwhMSwhMSksL15bXDAtXHRdLyxFKFtbIlwwIiwiXHQiXV0sITEsITEpLC9eW1x4MEItXGZdLyxFKFtbIlx2IiwiXGYiXV0sITEsITEpLC9eW1x4MEUtXHg3Rl0vLEUoW1siXHgwZSIsIlx4N2YiXV0sITEsITEpLGZ1bmN0aW9uKCl7dC5kYXRhLnVyaT1uZXcgdC5TSVAuVVJJKHQuZGF0YS5zY2hlbWUsdC5kYXRhLnVzZXIsdC5kYXRhLmhvc3QsdC5kYXRhLnBvcnQpLGRlbGV0ZSB0LmRhdGEuc2NoZW1lLGRlbGV0ZSB0LmRhdGEudXNlcixkZWxldGUgdC5kYXRhLmhvc3QsZGVsZXRlIHQuZGF0YS5ob3N0X3R5cGUsZGVsZXRlIHQuZGF0YS5wb3J0fSxmdW5jdGlvbigpe3QuZGF0YS51cmk9bmV3IHQuU0lQLlVSSSh0LmRhdGEuc2NoZW1lLHQuZGF0YS51c2VyLHQuZGF0YS5ob3N0LHQuZGF0YS5wb3J0LHQuZGF0YS51cmlfcGFyYW1zLHQuZGF0YS51cmlfaGVhZGVycyksZGVsZXRlIHQuZGF0YS5zY2hlbWUsZGVsZXRlIHQuZGF0YS51c2VyLGRlbGV0ZSB0LmRhdGEuaG9zdCxkZWxldGUgdC5kYXRhLmhvc3RfdHlwZSxkZWxldGUgdC5kYXRhLnBvcnQsZGVsZXRlIHQuZGF0YS51cmlfcGFyYW1zLCJTSVBfVVJJIj09PXQuc3RhcnRSdWxlJiYodC5kYXRhPXQuZGF0YS51cmkpfSwic2lwcyIsVCgic2lwcyIsITApLCJzaXAiLFQoInNpcCIsITApLGZ1bmN0aW9uKGUpe3QuZGF0YS5zY2hlbWU9ZX0sZnVuY3Rpb24oKXt0LmRhdGEudXNlcj1kZWNvZGVVUklDb21wb25lbnQoZigpLnNsaWNlKDAsLTEpKX0sZnVuY3Rpb24oKXt0LmRhdGEucGFzc3dvcmQ9ZigpfSxmdW5jdGlvbigpe3JldHVybiB0LmRhdGEuaG9zdD1mKCksdC5kYXRhLmhvc3R9LGZ1bmN0aW9uKCl7cmV0dXJuIHQuZGF0YS5ob3N0X3R5cGU9ImRvbWFpbiIsZigpfSwvXlthLXpBLVowLTlfXC1dLyxFKFtbImEiLCJ6Il0sWyJBIiwiWiJdLFsiMCIsIjkiXSwiXyIsIi0iXSwhMSwhMSksL15bYS16QS1aMC05XC1dLyxFKFtbImEiLCJ6Il0sWyJBIiwiWiJdLFsiMCIsIjkiXSwiLSJdLCExLCExKSxmdW5jdGlvbigpe3JldHVybiB0LmRhdGEuaG9zdF90eXBlPSJJUHY2IixmKCl9LCI6OiIsVCgiOjoiLCExKSxmdW5jdGlvbigpe3JldHVybiB0LmRhdGEuaG9zdF90eXBlPSJJUHY2IixmKCl9LGZ1bmN0aW9uKCl7cmV0dXJuIHQuZGF0YS5ob3N0X3R5cGU9IklQdjQiLGYoKX0sIjI1IixUKCIyNSIsITEpLC9eWzAtNV0vLEUoW1siMCIsIjUiXV0sITEsITEpLCIyIixUKCIyIiwhMSksL15bMC00XS8sRShbWyIwIiwiNCJdXSwhMSwhMSksIjEiLFQoIjEiLCExKSwvXlsxLTldLyxFKFtbIjEiLCI5Il1dLCExLCExKSxmdW5jdGlvbihlKXtyZXR1cm4gZT1wYXJzZUludChlLmpvaW4oIiIpKSx0LmRhdGEucG9ydD1lLGV9LCJ0cmFuc3BvcnQ9IixUKCJ0cmFuc3BvcnQ9IiwhMCksInVkcCIsVCgidWRwIiwhMCksInRjcCIsVCgidGNwIiwhMCksInNjdHAiLFQoInNjdHAiLCEwKSwidGxzIixUKCJ0bHMiLCEwKSxmdW5jdGlvbihlKXt0LmRhdGEudXJpX3BhcmFtc3x8KHQuZGF0YS51cmlfcGFyYW1zPXt9KSx0LmRhdGEudXJpX3BhcmFtcy50cmFuc3BvcnQ9ZS50b0xvd2VyQ2FzZSgpfSwidXNlcj0iLFQoInVzZXI9IiwhMCksInBob25lIixUKCJwaG9uZSIsITApLCJpcCIsVCgiaXAiLCEwKSxmdW5jdGlvbihlKXt0LmRhdGEudXJpX3BhcmFtc3x8KHQuZGF0YS51cmlfcGFyYW1zPXt9KSx0LmRhdGEudXJpX3BhcmFtcy51c2VyPWUudG9Mb3dlckNhc2UoKX0sIm1ldGhvZD0iLFQoIm1ldGhvZD0iLCEwKSxmdW5jdGlvbihlKXt0LmRhdGEudXJpX3BhcmFtc3x8KHQuZGF0YS51cmlfcGFyYW1zPXt9KSx0LmRhdGEudXJpX3BhcmFtcy5tZXRob2Q9ZX0sInR0bD0iLFQoInR0bD0iLCEwKSxmdW5jdGlvbihlKXt0LmRhdGEucGFyYW1zfHwodC5kYXRhLnBhcmFtcz17fSksdC5kYXRhLnBhcmFtcy50dGw9ZX0sIm1hZGRyPSIsVCgibWFkZHI9IiwhMCksZnVuY3Rpb24oZSl7dC5kYXRhLnVyaV9wYXJhbXN8fCh0LmRhdGEudXJpX3BhcmFtcz17fSksdC5kYXRhLnVyaV9wYXJhbXMubWFkZHI9ZX0sImxyIixUKCJsciIsITApLGZ1bmN0aW9uKCl7dC5kYXRhLnVyaV9wYXJhbXN8fCh0LmRhdGEudXJpX3BhcmFtcz17fSksdC5kYXRhLnVyaV9wYXJhbXMubHI9dm9pZCAwfSxmdW5jdGlvbihlLGkpe3QuZGF0YS51cmlfcGFyYW1zfHwodC5kYXRhLnVyaV9wYXJhbXM9e30pLGk9bnVsbD09PWk/dm9pZCAwOmlbMV0sdC5kYXRhLnVyaV9wYXJhbXNbZS50b0xvd2VyQ2FzZSgpXT1pfSxmdW5jdGlvbihlLGkpe2U9ZS5qb2luKCIiKS50b0xvd2VyQ2FzZSgpLGk9aS5qb2luKCIiKSx0LmRhdGEudXJpX2hlYWRlcnN8fCh0LmRhdGEudXJpX2hlYWRlcnM9e30pLHQuZGF0YS51cmlfaGVhZGVyc1tlXT90LmRhdGEudXJpX2hlYWRlcnNbZV0ucHVzaChpKTp0LmRhdGEudXJpX2hlYWRlcnNbZV09W2ldfSxmdW5jdGlvbigpeyJSZWZlcl9UbyI9PT10LnN0YXJ0UnVsZSYmKHQuZGF0YS51cmk9bmV3IHQuU0lQLlVSSSh0LmRhdGEuc2NoZW1lLHQuZGF0YS51c2VyLHQuZGF0YS5ob3N0LHQuZGF0YS5wb3J0LHQuZGF0YS51cmlfcGFyYW1zLHQuZGF0YS51cmlfaGVhZGVycyksZGVsZXRlIHQuZGF0YS5zY2hlbWUsZGVsZXRlIHQuZGF0YS51c2VyLGRlbGV0ZSB0LmRhdGEuaG9zdCxkZWxldGUgdC5kYXRhLmhvc3RfdHlwZSxkZWxldGUgdC5kYXRhLnBvcnQsZGVsZXRlIHQuZGF0YS51cmlfcGFyYW1zKX0sIi8vIixUKCIvLyIsITEpLGZ1bmN0aW9uKCl7dC5kYXRhLnNjaGVtZT1mKCl9LFQoIlNJUCIsITApLGZ1bmN0aW9uKCl7dC5kYXRhLnNpcF92ZXJzaW9uPWYoKX0sIklOVklURSIsVCgiSU5WSVRFIiwhMSksIkFDSyIsVCgiQUNLIiwhMSksIlZYQUNIIixUKCJWWEFDSCIsITEpLCJPUFRJT05TIixUKCJPUFRJT05TIiwhMSksIkJZRSIsVCgiQllFIiwhMSksIkNBTkNFTCIsVCgiQ0FOQ0VMIiwhMSksIlJFR0lTVEVSIixUKCJSRUdJU1RFUiIsITEpLCJTVUJTQ1JJQkUiLFQoIlNVQlNDUklCRSIsITEpLCJOT1RJRlkiLFQoIk5PVElGWSIsITEpLCJSRUZFUiIsVCgiUkVGRVIiLCExKSwiUFVCTElTSCIsVCgiUFVCTElTSCIsITEpLGZ1bmN0aW9uKCl7cmV0dXJuIHQuZGF0YS5tZXRob2Q9ZigpLHQuZGF0YS5tZXRob2R9LGZ1bmN0aW9uKGUpe3QuZGF0YS5zdGF0dXNfY29kZT1wYXJzZUludChlLmpvaW4oIiIpKX0sZnVuY3Rpb24oKXt0LmRhdGEucmVhc29uX3BocmFzZT1mKCl9LGZ1bmN0aW9uKCl7dC5kYXRhPWYoKX0sZnVuY3Rpb24oKXt2YXIgZSxpO2ZvcihpPXQuZGF0YS5tdWx0aV9oZWFkZXIubGVuZ3RoLGU9MDtlPGk7ZSsrKWlmKG51bGw9PT10LmRhdGEubXVsdGlfaGVhZGVyW2VdLnBhcnNlZCl7dC5kYXRhPW51bGw7YnJlYWt9bnVsbCE9PXQuZGF0YT90LmRhdGE9dC5kYXRhLm11bHRpX2hlYWRlcjp0LmRhdGE9LTF9LGZ1bmN0aW9uKCl7dmFyIGU7dC5kYXRhLm11bHRpX2hlYWRlcnx8KHQuZGF0YS5tdWx0aV9oZWFkZXI9W10pO3RyeXtlPW5ldyB0LlNJUC5OYW1lQWRkckhlYWRlcih0LmRhdGEudXJpLHQuZGF0YS5kaXNwbGF5TmFtZSx0LmRhdGEucGFyYW1zKSxkZWxldGUgdC5kYXRhLnVyaSxkZWxldGUgdC5kYXRhLmRpc3BsYXlOYW1lLGRlbGV0ZSB0LmRhdGEucGFyYW1zfWNhdGNoKHQpe2U9bnVsbH10LmRhdGEubXVsdGlfaGVhZGVyLnB1c2goe3Bvc2l0aW9uOmgsb2Zmc2V0Om0oKS5zdGFydC5vZmZzZXQscGFyc2VkOmV9KX0sZnVuY3Rpb24oZSl7JyInPT09KGU9ZigpLnRyaW0oKSlbMF0mJihlPWUuc3Vic3RyaW5nKDEsZS5sZW5ndGgtMSkpLHQuZGF0YS5kaXNwbGF5TmFtZT1lfSwicSIsVCgicSIsITApLGZ1bmN0aW9uKGUpe3QuZGF0YS5wYXJhbXN8fCh0LmRhdGEucGFyYW1zPXt9KSx0LmRhdGEucGFyYW1zLnE9ZX0sImV4cGlyZXMiLFQoImV4cGlyZXMiLCEwKSxmdW5jdGlvbihlKXt0LmRhdGEucGFyYW1zfHwodC5kYXRhLnBhcmFtcz17fSksdC5kYXRhLnBhcmFtcy5leHBpcmVzPWV9LGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLmpvaW4oIiIpKX0sIjAiLFQoIjAiLCExKSxmdW5jdGlvbigpe3JldHVybiBwYXJzZUZsb2F0KGYoKSl9LGZ1bmN0aW9uKGUsaSl7dC5kYXRhLnBhcmFtc3x8KHQuZGF0YS5wYXJhbXM9e30pLGk9bnVsbD09PWk/dm9pZCAwOmlbMV0sdC5kYXRhLnBhcmFtc1tlLnRvTG93ZXJDYXNlKCldPWl9LCJyZW5kZXIiLFQoInJlbmRlciIsITApLCJzZXNzaW9uIixUKCJzZXNzaW9uIiwhMCksImljb24iLFQoImljb24iLCEwKSwiYWxlcnQiLFQoImFsZXJ0IiwhMCksZnVuY3Rpb24oKXsiQ29udGVudF9EaXNwb3NpdGlvbiI9PT10LnN0YXJ0UnVsZSYmKHQuZGF0YS50eXBlPWYoKS50b0xvd2VyQ2FzZSgpKX0sImhhbmRsaW5nIixUKCJoYW5kbGluZyIsITApLCJvcHRpb25hbCIsVCgib3B0aW9uYWwiLCEwKSwicmVxdWlyZWQiLFQoInJlcXVpcmVkIiwhMCksZnVuY3Rpb24oZSl7dC5kYXRhPXBhcnNlSW50KGUuam9pbigiIikpfSxmdW5jdGlvbigpe3QuZGF0YT1mKCl9LCJ0ZXh0IixUKCJ0ZXh0IiwhMCksImltYWdlIixUKCJpbWFnZSIsITApLCJhdWRpbyIsVCgiYXVkaW8iLCEwKSwidmlkZW8iLFQoInZpZGVvIiwhMCksImFwcGxpY2F0aW9uIixUKCJhcHBsaWNhdGlvbiIsITApLCJtZXNzYWdlIixUKCJtZXNzYWdlIiwhMCksIm11bHRpcGFydCIsVCgibXVsdGlwYXJ0IiwhMCksIngtIixUKCJ4LSIsITApLGZ1bmN0aW9uKGUpe3QuZGF0YS52YWx1ZT1wYXJzZUludChlLmpvaW4oIiIpKX0sZnVuY3Rpb24oZSl7dC5kYXRhPWV9LGZ1bmN0aW9uKGUpe3QuZGF0YS5ldmVudD1lLnRvTG93ZXJDYXNlKCl9LGZ1bmN0aW9uKCl7dmFyIGU9dC5kYXRhLnRhZzt0LmRhdGE9bmV3IHQuU0lQLk5hbWVBZGRySGVhZGVyKHQuZGF0YS51cmksdC5kYXRhLmRpc3BsYXlOYW1lLHQuZGF0YS5wYXJhbXMpLGUmJnQuZGF0YS5zZXRQYXJhbSgidGFnIixlKX0sInRhZyIsVCgidGFnIiwhMCksZnVuY3Rpb24oZSl7dC5kYXRhLnRhZz1lfSxmdW5jdGlvbihlKXt0LmRhdGE9cGFyc2VJbnQoZS5qb2luKCIiKSl9LGZ1bmN0aW9uKGUpe3QuZGF0YT1lfSxmdW5jdGlvbigpe3QuZGF0YT1uZXcgdC5TSVAuTmFtZUFkZHJIZWFkZXIodC5kYXRhLnVyaSx0LmRhdGEuZGlzcGxheU5hbWUsdC5kYXRhLnBhcmFtcyl9LCJkaWdlc3QiLFQoIkRpZ2VzdCIsITApLCJyZWFsbSIsVCgicmVhbG0iLCEwKSxmdW5jdGlvbihlKXt0LmRhdGEucmVhbG09ZX0sImRvbWFpbiIsVCgiZG9tYWluIiwhMCksIm5vbmNlIixUKCJub25jZSIsITApLGZ1bmN0aW9uKGUpe3QuZGF0YS5ub25jZT1lfSwib3BhcXVlIixUKCJvcGFxdWUiLCEwKSxmdW5jdGlvbihlKXt0LmRhdGEub3BhcXVlPWV9LCJzdGFsZSIsVCgic3RhbGUiLCEwKSwidHJ1ZSIsVCgidHJ1ZSIsITApLGZ1bmN0aW9uKCl7dC5kYXRhLnN0YWxlPSEwfSwiZmFsc2UiLFQoImZhbHNlIiwhMCksZnVuY3Rpb24oKXt0LmRhdGEuc3RhbGU9ITF9LCJhbGdvcml0aG0iLFQoImFsZ29yaXRobSIsITApLCJtZDUiLFQoIk1ENSIsITApLCJtZDUtc2VzcyIsVCgiTUQ1LXNlc3MiLCEwKSxmdW5jdGlvbihlKXt0LmRhdGEuYWxnb3JpdGhtPWUudG9VcHBlckNhc2UoKX0sInFvcCIsVCgicW9wIiwhMCksImF1dGgtaW50IixUKCJhdXRoLWludCIsITApLCJhdXRoIixUKCJhdXRoIiwhMCksZnVuY3Rpb24oZSl7dC5kYXRhLnFvcHx8KHQuZGF0YS5xb3A9W10pLHQuZGF0YS5xb3AucHVzaChlLnRvTG93ZXJDYXNlKCkpfSxmdW5jdGlvbihlKXt0LmRhdGEudmFsdWU9cGFyc2VJbnQoZS5qb2luKCIiKSl9LGZ1bmN0aW9uKCl7dmFyIGUsaTtmb3IoaT10LmRhdGEubXVsdGlfaGVhZGVyLmxlbmd0aCxlPTA7ZTxpO2UrKylpZihudWxsPT09dC5kYXRhLm11bHRpX2hlYWRlcltlXS5wYXJzZWQpe3QuZGF0YT1udWxsO2JyZWFrfW51bGwhPT10LmRhdGE/dC5kYXRhPXQuZGF0YS5tdWx0aV9oZWFkZXI6dC5kYXRhPS0xfSxmdW5jdGlvbigpe3ZhciBlO3QuZGF0YS5tdWx0aV9oZWFkZXJ8fCh0LmRhdGEubXVsdGlfaGVhZGVyPVtdKTt0cnl7ZT1uZXcgdC5TSVAuTmFtZUFkZHJIZWFkZXIodC5kYXRhLnVyaSx0LmRhdGEuZGlzcGxheU5hbWUsdC5kYXRhLnBhcmFtcyksZGVsZXRlIHQuZGF0YS51cmksZGVsZXRlIHQuZGF0YS5kaXNwbGF5TmFtZSxkZWxldGUgdC5kYXRhLnBhcmFtc31jYXRjaCh0KXtlPW51bGx9dC5kYXRhLm11bHRpX2hlYWRlci5wdXNoKHtwb3NpdGlvbjpoLG9mZnNldDptKCkuc3RhcnQub2Zmc2V0LHBhcnNlZDplfSl9LGZ1bmN0aW9uKCl7dC5kYXRhPW5ldyB0LlNJUC5OYW1lQWRkckhlYWRlcih0LmRhdGEudXJpLHQuZGF0YS5kaXNwbGF5TmFtZSx0LmRhdGEucGFyYW1zKX0sZnVuY3Rpb24oKXt0LmRhdGEucmVwbGFjZXNfZnJvbV90YWcmJnQuZGF0YS5yZXBsYWNlc190b190YWd8fCh0LmRhdGE9LTEpfSxmdW5jdGlvbigpe3QuZGF0YT17Y2FsbF9pZDp0LmRhdGF9fSwiZnJvbS10YWciLFQoImZyb20tdGFnIiwhMCksZnVuY3Rpb24oZSl7dC5kYXRhLnJlcGxhY2VzX2Zyb21fdGFnPWV9LCJ0by10YWciLFQoInRvLXRhZyIsITApLGZ1bmN0aW9uKGUpe3QuZGF0YS5yZXBsYWNlc190b190YWc9ZX0sImVhcmx5LW9ubHkiLFQoImVhcmx5LW9ubHkiLCEwKSxmdW5jdGlvbigpe3QuZGF0YS5lYXJseV9vbmx5PSEwfSxmdW5jdGlvbihlLHQpe3JldHVybiB0fSxmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybltlXS5jb25jYXQodCl9KGUsdCl9LGZ1bmN0aW9uKGUpeyJSZXF1aXJlIj09PXQuc3RhcnRSdWxlJiYodC5kYXRhPWV8fFtdKX0sZnVuY3Rpb24oZSl7dC5kYXRhLnZhbHVlPXBhcnNlSW50KGUuam9pbigiIikpfSwiYWN0aXZlIixUKCJhY3RpdmUiLCEwKSwicGVuZGluZyIsVCgicGVuZGluZyIsITApLCJ0ZXJtaW5hdGVkIixUKCJ0ZXJtaW5hdGVkIiwhMCksZnVuY3Rpb24oKXt0LmRhdGEuc3RhdGU9ZigpfSwicmVhc29uIixUKCJyZWFzb24iLCEwKSxmdW5jdGlvbihlKXt2b2lkIDAhPT1lJiYodC5kYXRhLnJlYXNvbj1lKX0sZnVuY3Rpb24oZSl7dm9pZCAwIT09ZSYmKHQuZGF0YS5leHBpcmVzPWUpfSwicmV0cnlfYWZ0ZXIiLFQoInJldHJ5X2FmdGVyIiwhMCksZnVuY3Rpb24oZSl7dm9pZCAwIT09ZSYmKHQuZGF0YS5yZXRyeV9hZnRlcj1lKX0sImRlYWN0aXZhdGVkIixUKCJkZWFjdGl2YXRlZCIsITApLCJwcm9iYXRpb24iLFQoInByb2JhdGlvbiIsITApLCJyZWplY3RlZCIsVCgicmVqZWN0ZWQiLCEwKSwidGltZW91dCIsVCgidGltZW91dCIsITApLCJnaXZldXAiLFQoImdpdmV1cCIsITApLCJub3Jlc291cmNlIixUKCJub3Jlc291cmNlIiwhMCksImludmFyaWFudCIsVCgiaW52YXJpYW50IiwhMCksZnVuY3Rpb24oZSl7IlN1cHBvcnRlZCI9PT10LnN0YXJ0UnVsZSYmKHQuZGF0YT1lfHxbXSl9LGZ1bmN0aW9uKCl7dmFyIGU9dC5kYXRhLnRhZzt0LmRhdGE9bmV3IHQuU0lQLk5hbWVBZGRySGVhZGVyKHQuZGF0YS51cmksdC5kYXRhLmRpc3BsYXlOYW1lLHQuZGF0YS5wYXJhbXMpLGUmJnQuZGF0YS5zZXRQYXJhbSgidGFnIixlKX0sInR0bCIsVCgidHRsIiwhMCksZnVuY3Rpb24oZSl7dC5kYXRhLnR0bD1lfSwibWFkZHIiLFQoIm1hZGRyIiwhMCksZnVuY3Rpb24oZSl7dC5kYXRhLm1hZGRyPWV9LCJyZWNlaXZlZCIsVCgicmVjZWl2ZWQiLCEwKSxmdW5jdGlvbihlKXt0LmRhdGEucmVjZWl2ZWQ9ZX0sImJyYW5jaCIsVCgiYnJhbmNoIiwhMCksZnVuY3Rpb24oZSl7dC5kYXRhLmJyYW5jaD1lfSwicnBvcnQiLFQoInJwb3J0IiwhMCksZnVuY3Rpb24oKXsidW5kZWZpbmVkIiE9dHlwZW9mIHJlc3BvbnNlX3BvcnQmJih0LmRhdGEucnBvcnQ9cmVzcG9uc2VfcG9ydC5qb2luKCIiKSl9LGZ1bmN0aW9uKGUpe3QuZGF0YS5wcm90b2NvbD1lfSxUKCJVRFAiLCEwKSxUKCJUQ1AiLCEwKSxUKCJUTFMiLCEwKSxUKCJTQ1RQIiwhMCksZnVuY3Rpb24oZSl7dC5kYXRhLnRyYW5zcG9ydD1lfSxmdW5jdGlvbigpe3QuZGF0YS5ob3N0PWYoKX0sZnVuY3Rpb24oZSl7dC5kYXRhLnBvcnQ9cGFyc2VJbnQoZS5qb2luKCIiKSl9LGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLmpvaW4oIiIpKX0sZnVuY3Rpb24oZSl7IlNlc3Npb25fRXhwaXJlcyI9PT10LnN0YXJ0UnVsZSYmKHQuZGF0YS5kZWx0YVNlY29uZHM9ZSl9LCJyZWZyZXNoZXIiLFQoInJlZnJlc2hlciIsITEpLCJ1YXMiLFQoInVhcyIsITEpLCJ1YWMiLFQoInVhYyIsITEpLGZ1bmN0aW9uKGUpeyJTZXNzaW9uX0V4cGlyZXMiPT09dC5zdGFydFJ1bGUmJih0LmRhdGEucmVmcmVzaGVyPWUpfSxmdW5jdGlvbihlKXsiTWluX1NFIj09PXQuc3RhcnRSdWxlJiYodC5kYXRhPWUpfSwic3R1bnMiLFQoInN0dW5zIiwhMCksInN0dW4iLFQoInN0dW4iLCEwKSxmdW5jdGlvbihlKXt0LmRhdGEuc2NoZW1lPWV9LGZ1bmN0aW9uKGUpe3QuZGF0YS5ob3N0PWV9LCI/dHJhbnNwb3J0PSIsVCgiP3RyYW5zcG9ydD0iLCExKSwidHVybnMiLFQoInR1cm5zIiwhMCksInR1cm4iLFQoInR1cm4iLCEwKSxmdW5jdGlvbigpe3QuZGF0YS50cmFuc3BvcnQ9dHJhbnNwb3J0fSxmdW5jdGlvbigpe3QuZGF0YT1mKCl9LCJSZWZlcnJlZC1CeSIsVCgiUmVmZXJyZWQtQnkiLCExKSwiYiIsVCgiYiIsITEpLCJjaWQiLFQoImNpZCIsITEpXSxjPVtSKCcyICIiNiA3IScpLFIoJzQiIiI1ITcjJyksUignNCQiIjUhNyUnKSxSKCc0JiIiNSE3XCcnKSxSKCI7Jy4jICY7KCIpLFIoJzQoIiI1ITcpJyksUignNCoiIjUhNysnKSxSKCcyLCIiNiw3LScpLFIoJzIuIiI2LjcvJyksUignNDAiIjUhNzEnKSxSKCcyMiIiNjI3My5ceDg5ICYyNCIiNjQ3NS59ICYyNiIiNjY3Ny5xICYyOCIiNjg3OS5lICYyOiIiNjo3Oy5ZICYyPCIiNjw3PS5NICYyPiIiNj43Py5BICYyQCIiNkA3QS41ICYyQiIiNkI3Qy4pICYyRCIiNkQ3RScpLFIoIjspLiMgJjssIiksUignMkYiIjZGN0cufSAmMkgiIjZIN0kucSAmMkoiIjZKN0suZSAmMkwiIjZMN00uWSAmMk4iIjZON08uTSAmMlAiIjZQN1EuQSAmMlIiIjZSN1MuNSAmMlQiIjZUN1UuKSAmMlYiIjZWN1cnKSxSKCclJTJYIiI2WDdZLzUjOyMvLCQ7Iy8jJCsjKSgjXCcjKCJcJyMmXCcjLyIhJiwpJyksUignJSUkOyQwIyo7JCYvLCM7IC8jJCsiKSgiXCcjJlwnIy4iICYiLz0jJDskLyYjMCMqOyQmJiYjL1wnJDgiOloiICkoIlwnIyZcJyMnKSxSKCc7Li4iICYiJyksUigiJSQ7Jy4jICY7KDApKjsnLiMgJjsoJi8/IzI4XCJcIjY4NzkvMCQ7Ly8nJDgjOlsjICkoIycjKFwiJyMmJyMiKSxSKCclJSQ7Mi8mIzAjKjsyJiYmIy9nIyQlJDsuMCMqOy4mLywjOzIvIyQrIikoIlwnIyZcJyMwPSolJDsuMCMqOy4mLywjOzIvIyQrIikoIlwnIyZcJyMmLyMkKyIpKCJcJyMmXCcjLyIhJiwpJyksUignNFxcIiI1ITddLiMgJjszJyksUignNF4iIjUhN18nKSxSKCc0YCIiNSE3YScpLFIoJzshLikgJjRiIiI1ITdjJyksUignJSQ7KS5ceDk1ICYyRiIiNkY3Ry5ceDg5ICYySiIiNko3Sy59ICYyTCIiNkw3TS5xICYyWCIiNlg3WS5lICYyUCIiNlA3US5ZICYySCIiNkg3SS5NICYyQCIiNkA3QS5BICYyZCIiNmQ3ZS41ICYyUiIiNlI3Uy4pICYyTiIiNk43Ty9ceDllIzBceDliKjspLlx4OTUgJjJGIiI2RjdHLlx4ODkgJjJKIiI2SjdLLn0gJjJMIiI2TDdNLnEgJjJYIiI2WDdZLmUgJjJQIiI2UDdRLlkgJjJIIiI2SDdJLk0gJjJAIiI2QDdBLkEgJjJkIiI2ZDdlLjUgJjJSIiI2UjdTLikgJjJOIiI2TjdPJiYmIy8iISYsKScpLFIoJyUkOykuXHg4OSAmMkYiIjZGN0cufSAmMkwiIjZMN00ucSAmMlgiIjZYN1kuZSAmMlAiIjZQN1EuWSAmMkgiIjZIN0kuTSAmMkAiIjZAN0EuQSAmMmQiIjZkN2UuNSAmMlIiIjZSN1MuKSAmMk4iIjZON08vXHg5MiMwXHg4Zio7KS5ceDg5ICYyRiIiNkY3Ry59ICYyTCIiNkw3TS5xICYyWCIiNlg3WS5lICYyUCIiNlA3US5ZICYySCIiNkg3SS5NICYyQCIiNkA3QS5BICYyZCIiNmQ3ZS41ICYyUiIiNlI3Uy4pICYyTiIiNk43TyYmJiMvIiEmLCknKSxSKCcyVCIiNlQ3VS5ceGUzICYyViIiNlY3Vy5ceGQ3ICYyZiIiNmY3Zy5ceGNiICYyaCIiNmg3aS5ceGJmICYyOiIiNjo3Oy5ceGIzICYyRCIiNkQ3RS5ceGE3ICYyMiIiNjI3My5ceDliICYyOCIiNjg3OS5ceDhmICYyaiIiNmo3ay5ceDgzICY7Ji59ICYyNCIiNjQ3NS5xICYybCIiNmw3bS5lICYybiIiNm43by5ZICYyNiIiNjY3Ny5NICYyPiIiNj43Py5BICYycCIiNnA3cS41ICYyciIiNnI3cy4pICY7XCcuIyAmOygnKSxSKCclJDspLlx1MDEyYiAmMkYiIjZGN0cuXHUwMTFmICYySiIiNko3Sy5cdTAxMTMgJjJMIiI2TDdNLlx1MDEwNyAmMlgiIjZYN1kuXHhmYiAmMlAiIjZQN1EuXHhlZiAmMkgiIjZIN0kuXHhlMyAmMkAiIjZAN0EuXHhkNyAmMmQiIjZkN2UuXHhjYiAmMlIiIjZSN1MuXHhiZiAmMk4iIjZON08uXHhiMyAmMlQiIjZUN1UuXHhhNyAmMlYiIjZWN1cuXHg5YiAmMmYiIjZmN2cuXHg4ZiAmMmgiIjZoN2kuXHg4MyAmMjgiIjY4NzkudyAmMmoiIjZqN2suayAmOyYuZSAmMjQiIjY0NzUuWSAmMmwiIjZsN20uTSAmMm4iIjZuN28uQSAmMjYiIjY2NzcuNSAmMnAiIjZwN3EuKSAmMnIiIjZyN3MvXHUwMTM0IzBcdTAxMzEqOykuXHUwMTJiICYyRiIiNkY3Ry5cdTAxMWYgJjJKIiI2SjdLLlx1MDExMyAmMkwiIjZMN00uXHUwMTA3ICYyWCIiNlg3WS5ceGZiICYyUCIiNlA3US5ceGVmICYySCIiNkg3SS5ceGUzICYyQCIiNkA3QS5ceGQ3ICYyZCIiNmQ3ZS5ceGNiICYyUiIiNlI3Uy5ceGJmICYyTiIiNk43Ty5ceGIzICYyVCIiNlQ3VS5ceGE3ICYyViIiNlY3Vy5ceDliICYyZiIiNmY3Zy5ceDhmICYyaCIiNmg3aS5ceDgzICYyOCIiNjg3OS53ICYyaiIiNmo3ay5rICY7Ji5lICYyNCIiNjQ3NS5ZICYybCIiNmw3bS5NICYybiIiNm43by5BICYyNiIiNjY3Ny41ICYycCIiNnA3cS4pICYyciIiNnI3cyYmJiMvIiEmLCknKSxSKCIlOy8vPyMyUFwiXCI2UDdRLzAkOy8vJyQ4Izp0IyApKCMnIyhcIicjJicjIiksUigiJTsvLz8jMjRcIlwiNjQ3NS8wJDsvLyckOCM6dSMgKSgjJyMoXCInIyYnIyIpLFIoIiU7Ly8/IzI+XCJcIjY+Nz8vMCQ7Ly8nJDgjOnYjICkoIycjKFwiJyMmJyMiKSxSKCIlOy8vPyMyVFwiXCI2VDdVLzAkOy8vJyQ4Izp3IyApKCMnIyhcIicjJicjIiksUigiJTsvLz8jMlZcIlwiNlY3Vy8wJDsvLyckOCM6eCMgKSgjJyMoXCInIyYnIyIpLFIoJyUyaCIiNmg3aS8wIzsvL1wnJDgiOnkiICkoIlwnIyZcJyMnKSxSKCclOy8vNiMyZiIiNmY3Zy9cJyQ4Ijp6IiApKCJcJyMmXCcjJyksUigiJTsvLz8jMkRcIlwiNkQ3RS8wJDsvLyckOCM6eyMgKSgjJyMoXCInIyYnIyIpLFIoIiU7Ly8/IzIyXCJcIjYyNzMvMCQ7Ly8nJDgjOnwjICkoIycjKFwiJyMmJyMiKSxSKCIlOy8vPyMyOFwiXCI2ODc5LzAkOy8vJyQ4Izp9IyApKCMnIyhcIicjJicjIiksUigiJTsvLzAjOyYvJyQ4XCI6flwiICkoXCInIyYnIyIpLFIoIiU7Ji8wIzsvLyckOFwiOn5cIiApKFwiJyMmJyMiKSxSKCIlOz0vVCMkO0cuKSAmO0suIyAmO0YwLyo7Ry4pICY7Sy4jICY7RiYvLCQ7Pi8jJCsjKSgjJyMoXCInIyYnIyIpLFIoJzRceDdmIiI1ITdceDgwLkEgJjRceDgxIiI1ITdceDgyLjUgJjRceDgzIiI1ITdceDg0LikgJjszLiMgJjsuJyksUigiJSU7Ly9RIzsmL0gkJDtKLiMgJjtLMCkqO0ouIyAmO0smLywkOyYvIyQrJCkoJCcjKCMnIyhcIicjJicjL1wiISYsKSIpLFIoIiU7Ly9dIzsmL1QkJSQ7Si4jICY7SzApKjtKLiMgJjtLJi9cIiEmLCkvMSQ7Ji8oJDgkOlx4ODUkISEpKCQnIygjJyMoXCInIyYnIyIpLFIoJzsuLkcgJjJMIiI2TDdNLjsgJjRceDg2IiI1ITdceDg3Li8gJjRceDgzIiI1ITdceDg0LiMgJjszJyksUignJTJqIiI2ajdrL0ojNFx4ODgiIjUhN1x4ODkuNSAmNFx4OGEiIjUhN1x4OGIuKSAmNFx4OGMiIjUhN1x4OGQvIyQrIikoIlwnIyZcJyMnKSxSKCIlO04vTSMyOFwiXCI2ODc5Lz4kO08uXCIgJlwiLzAkO1MvJyQ4JDpceDhlJCApKCQnIygjJyMoXCInIyYnIyIpLFIoIiU7Ti9kIzI4XCJcIjY4NzkvVSQ7Ty5cIiAmXCIvRyQ7Uy8+JDtfLzUkO2wuXCIgJlwiLyckOCY6XHg4ZiYgKSgmJyMoJScjKCQnIygjJyMoXCInIyYnIyIpLFIoJyUzXHg5MCIiNSQ3XHg5MS4pICYzXHg5MiIiNSM3XHg5My9cJyA4ITpceDk0ISEgKScpLFIoJyU7UC9dIyUyOCIiNjg3OS8sIztSLyMkKyIpKCJcJyMmXCcjLiIgJiIvNiQyOiIiNjo3Oy9cJyQ4IzpceDk1IyApKCNcJyMoIlwnIyZcJyMnKSxSKCIkOysuKSAmOy0uIyAmO1EvMiMwLyo7Ky4pICY7LS4jICY7USYmJiMiKSxSKCcyPCIiNjw3PS5xICYyPiIiNj43Py5lICYyQCIiNkA3QS5ZICYyQiIiNkI3Qy5NICYyRCIiNkQ3RS5BICYyMiIiNjI3My41ICYyNiIiNjY3Ny4pICYyNCIiNjQ3NScpLFIoJyUkOysuXyAmOy0uWSAmMjwiIjY8Nz0uTSAmMj4iIjY+Nz8uQSAmMkAiIjZAN0EuNSAmMkIiIjZCN0MuKSAmMkQiIjZEN0UwZSo7Ky5fICY7LS5ZICYyPCIiNjw3PS5NICYyPiIiNj43Py5BICYyQCIiNkA3QS41ICYyQiIiNkI3Qy4pICYyRCIiNkQ3RSYvJiA4ITpceDk2ISApJyksUignJTtUL0ojJTI4IiI2ODc5LywjO14vIyQrIikoIlwnIyZcJyMuIiAmIi8jJCsiKSgiXCcjJlwnIycpLFIoIiU7VS4pICY7XFwuIyAmO1gvJiA4ITpceDk3ISApIiksUignJSQlO1YvMiMySiIiNko3Sy8jJCsiKSgiXCcjJlwnIzA8KiU7Vi8yIzJKIiI2SjdLLyMkKyIpKCJcJyMmXCcjJi9EIztXLzskMkoiIjZKN0suIiAmIi9cJyQ4IzpceDk4IyApKCNcJyMoIlwnIyZcJyMnKSxSKCckNFx4OTkiIjUhN1x4OWEvLCMwKSo0XHg5OSIiNSE3XHg5YSYmJiMnKSxSKCclNCQiIjUhNyUvPyMkNFx4OWIiIjUhN1x4OWMwKSo0XHg5YiIiNSE3XHg5YyYvIyQrIikoIlwnIyZcJyMnKSxSKCclMmwiIjZsN20vPyM7WS82JDJuIiI2bjdvL1wnJDgjOlx4OWQjICkoI1wnIygiXCcjJlwnIycpLFIoJyUlO1ovXHhiMyMyOCIiNjg3OS9ceGE0JDtaL1x4OWIkMjgiIjY4NzkvXHg4YyQ7Wi9ceDgzJDI4IiI2ODc5L3QkO1ovayQyOCIiNjg3OS9cXCQ7Wi9TJDI4IiI2ODc5L0QkO1ovOyQyOCIiNjg3OS8sJDtbLyMkKy0pKC1cJyMoLFwnIygrXCcjKCpcJyMoKVwnIygoXCcjKFwnXCcjKCZcJyMoJVwnIygkXCcjKCNcJyMoIlwnIyZcJyMuXHUwNzkwICYlMlx4OWUiIjZceDllN1x4OWYvXHhhNCM7Wi9ceDliJDI4IiI2ODc5L1x4OGMkO1ovXHg4MyQyOCIiNjg3OS90JDtaL2skMjgiIjY4NzkvXFwkO1ovUyQyOCIiNjg3OS9EJDtaLzskMjgiIjY4NzkvLCQ7Wy8jJCssKSgsXCcjKCtcJyMoKlwnIygpXCcjKChcJyMoXCdcJyMoJlwnIyglXCcjKCRcJyMoI1wnIygiXCcjJlwnIy5cdTA2ZjkgJiUyXHg5ZSIiNlx4OWU3XHg5Zi9ceDhjIztaL1x4ODMkMjgiIjY4NzkvdCQ7Wi9rJDI4IiI2ODc5L1xcJDtaL1MkMjgiIjY4NzkvRCQ7Wi87JDI4IiI2ODc5LywkO1svIyQrKikoKlwnIygpXCcjKChcJyMoXCdcJyMoJlwnIyglXCcjKCRcJyMoI1wnIygiXCcjJlwnIy5cdTA2N2EgJiUyXHg5ZSIiNlx4OWU3XHg5Zi90IztaL2skMjgiIjY4NzkvXFwkO1ovUyQyOCIiNjg3OS9EJDtaLzskMjgiIjY4NzkvLCQ7Wy8jJCsoKSgoXCcjKFwnXCcjKCZcJyMoJVwnIygkXCcjKCNcJyMoIlwnIyZcJyMuXHUwNjEzICYlMlx4OWUiIjZceDllN1x4OWYvXFwjO1ovUyQyOCIiNjg3OS9EJDtaLzskMjgiIjY4NzkvLCQ7Wy8jJCsmKSgmXCcjKCVcJyMoJFwnIygjXCcjKCJcJyMmXCcjLlx1MDVjNCAmJTJceDllIiI2XHg5ZTdceDlmL0QjO1ovOyQyOCIiNjg3OS8sJDtbLyMkKyQpKCRcJyMoI1wnIygiXCcjJlwnIy5cdTA1OGQgJiUyXHg5ZSIiNlx4OWU3XHg5Zi8sIztbLyMkKyIpKCJcJyMmXCcjLlx1MDU2ZSAmJTJceDllIiI2XHg5ZTdceDlmLywjO1ovIyQrIikoIlwnIyZcJyMuXHUwNTRmICYlO1ovXHg5YiMyXHg5ZSIiNlx4OWU3XHg5Zi9ceDhjJDtaL1x4ODMkMjgiIjY4NzkvdCQ7Wi9rJDI4IiI2ODc5L1xcJDtaL1MkMjgiIjY4NzkvRCQ7Wi87JDI4IiI2ODc5LywkO1svIyQrKykoK1wnIygqXCcjKClcJyMoKFwnIyhcJ1wnIygmXCcjKCVcJyMoJFwnIygjXCcjKCJcJyMmXCcjLlx1MDRjNyAmJTtaL1x4YWEjJTI4IiI2ODc5LywjO1ovIyQrIikoIlwnIyZcJyMuIiAmIi9ceDgzJDJceDllIiI2XHg5ZTdceDlmL3QkO1ovayQyOCIiNjg3OS9cXCQ7Wi9TJDI4IiI2ODc5L0QkO1ovOyQyOCIiNjg3OS8sJDtbLyMkKyopKCpcJyMoKVwnIygoXCcjKFwnXCcjKCZcJyMoJVwnIygkXCcjKCNcJyMoIlwnIyZcJyMuXHUwNDMwICYlO1ovXHhiOSMlMjgiIjY4NzkvLCM7Wi8jJCsiKSgiXCcjJlwnIy4iICYiL1x4OTIkJTI4IiI2ODc5LywjO1ovIyQrIikoIlwnIyZcJyMuIiAmIi9rJDJceDllIiI2XHg5ZTdceDlmL1xcJDtaL1MkMjgiIjY4NzkvRCQ7Wi87JDI4IiI2ODc5LywkO1svIyQrKSkoKVwnIygoXCcjKFwnXCcjKCZcJyMoJVwnIygkXCcjKCNcJyMoIlwnIyZcJyMuXHUwMzhhICYlO1ovXHhjOCMlMjgiIjY4NzkvLCM7Wi8jJCsiKSgiXCcjJlwnIy4iICYiL1x4YTEkJTI4IiI2ODc5LywjO1ovIyQrIikoIlwnIyZcJyMuIiAmIi96JCUyOCIiNjg3OS8sIztaLyMkKyIpKCJcJyMmXCcjLiIgJiIvUyQyXHg5ZSIiNlx4OWU3XHg5Zi9EJDtaLzskMjgiIjY4NzkvLCQ7Wy8jJCsoKSgoXCcjKFwnXCcjKCZcJyMoJVwnIygkXCcjKCNcJyMoIlwnIyZcJyMuXHUwMmQ1ICYlO1ovXHhkNyMlMjgiIjY4NzkvLCM7Wi8jJCsiKSgiXCcjJlwnIy4iICYiL1x4YjAkJTI4IiI2ODc5LywjO1ovIyQrIikoIlwnIyZcJyMuIiAmIi9ceDg5JCUyOCIiNjg3OS8sIztaLyMkKyIpKCJcJyMmXCcjLiIgJiIvYiQlMjgiIjY4NzkvLCM7Wi8jJCsiKSgiXCcjJlwnIy4iICYiLzskMlx4OWUiIjZceDllN1x4OWYvLCQ7Wy8jJCtcJykoXCdcJyMoJlwnIyglXCcjKCRcJyMoI1wnIygiXCcjJlwnIy5cdTAyMTEgJiU7Wi9ceGZlIyUyOCIiNjg3OS8sIztaLyMkKyIpKCJcJyMmXCcjLiIgJiIvXHhkNyQlMjgiIjY4NzkvLCM7Wi8jJCsiKSgiXCcjJlwnIy4iICYiL1x4YjAkJTI4IiI2ODc5LywjO1ovIyQrIikoIlwnIyZcJyMuIiAmIi9ceDg5JCUyOCIiNjg3OS8sIztaLyMkKyIpKCJcJyMmXCcjLiIgJiIvYiQlMjgiIjY4NzkvLCM7Wi8jJCsiKSgiXCcjJlwnIy4iICYiLzskMlx4OWUiIjZceDllN1x4OWYvLCQ7Wi8jJCsoKSgoXCcjKFwnXCcjKCZcJyMoJVwnIygkXCcjKCNcJyMoIlwnIyZcJyMuXHUwMTI2ICYlO1ovXHUwMTFjIyUyOCIiNjg3OS8sIztaLyMkKyIpKCJcJyMmXCcjLiIgJiIvXHhmNSQlMjgiIjY4NzkvLCM7Wi8jJCsiKSgiXCcjJlwnIy4iICYiL1x4Y2UkJTI4IiI2ODc5LywjO1ovIyQrIikoIlwnIyZcJyMuIiAmIi9ceGE3JCUyOCIiNjg3OS8sIztaLyMkKyIpKCJcJyMmXCcjLiIgJiIvXHg4MCQlMjgiIjY4NzkvLCM7Wi8jJCsiKSgiXCcjJlwnIy4iICYiL1kkJTI4IiI2ODc5LywjO1ovIyQrIikoIlwnIyZcJyMuIiAmIi8yJDJceDllIiI2XHg5ZTdceDlmLyMkKygpKChcJyMoXCdcJyMoJlwnIyglXCcjKCRcJyMoI1wnIygiXCcjJlwnIy8mIDghOlx4YTAhICknKSxSKCclOyMvTSM7Iy4iICYiLz8kOyMuIiAmIi8xJDsjLiIgJiIvIyQrJCkoJFwnIygjXCcjKCJcJyMmXCcjJyksUigiJTtaLzsjMjhcIlwiNjg3OS8sJDtaLyMkKyMpKCMnIyhcIicjJicjLiMgJjtcXCIpLFIoIiU7XS9vIzJKXCJcIjZKN0svYCQ7XS9XJDJKXCJcIjZKN0svSCQ7XS8/JDJKXCJcIjZKN0svMCQ7XS8nJDgnOlx4YTEnICkoJycjKCYnIyglJyMoJCcjKCMnIyhcIicjJicjIiksUignJTJceGEyIiI2XHhhMjdceGEzLzIjNFx4YTQiIjUhN1x4YTUvIyQrIikoIlwnIyZcJyMuXHg5OCAmJTJceGE2IiI2XHhhNjdceGE3LzsjNFx4YTgiIjUhN1x4YTkvLCQ7IS8jJCsjKSgjXCcjKCJcJyMmXCcjLmogJiUyXHhhYSIiNlx4YWE3XHhhYi81IzshLywkOyEvIyQrIykoI1wnIygiXCcjJlwnIy5CICYlNFx4YWMiIjUhN1x4YWQvLCM7IS8jJCsiKSgiXCcjJlwnIy4jICY7IScpLFIoJyUlOyEuIiAmIi9bIzshLiIgJiIvTSQ7IS4iICYiLz8kOyEuIiAmIi8xJDshLiIgJiIvIyQrJSkoJVwnIygkXCcjKCNcJyMoIlwnIyZcJyMvXCcgOCE6XHhhZSEhICknKSxSKCckJTIyIiI2MjczLywjO2AvIyQrIikoIlwnIyZcJyMwPColMjIiIjYyNzMvLCM7YC8jJCsiKSgiXCcjJlwnIyYnKSxSKCI7YS5BICY7Yi47ICY7Yy41ICY7ZC4vICY7ZS4pICY7Zi4jICY7ZyIpLFIoJyUzXHhhZiIiNSo3XHhiMC9hIzNceGIxIiI1IzdceGIyLkcgJjNceGIzIiI1IzdceGI0LjsgJjNceGI1IiI1JDdceGI2Li8gJjNceGI3IiI1IzdceGI4LiMgJjs2LygkOCI6XHhiOSIhICkoIlwnIyZcJyMnKSxSKCclM1x4YmEiIjUlN1x4YmIvSSMzXHhiYyIiNSU3XHhiZC4vICYzXHhiZSIiNSI3XHhiZi4jICY7Ni8oJDgiOlx4YzAiISApKCJcJyMmXCcjJyksUignJTNceGMxIiI1XCc3XHhjMi8xIztceDkwLygkOCI6XHhjMyIhICkoIlwnIyZcJyMnKSxSKCclM1x4YzQiIjUkN1x4YzUvMSM7XHhmMC8oJDgiOlx4YzYiISApKCJcJyMmXCcjJyksUignJTNceGM3IiI1JjdceGM4LzEjO1QvKCQ4IjpceGM5IiEgKSgiXCcjJlwnIycpLFIoJyUzXHhjYSIiNSI3XHhjYi9OIyUyPiIiNj43Py8sIzs2LyMkKyIpKCJcJyMmXCcjLiIgJiIvXCckOCI6XHhjYyIgKSgiXCcjJlwnIycpLFIoJyU7aC9QIyUyPiIiNj43Py8sIztpLyMkKyIpKCJcJyMmXCcjLiIgJiIvKSQ4IjpceGNkIiIhICkoIlwnIyZcJyMnKSxSKCclJDtqLyYjMCMqO2omJiYjLyIhJiwpJyksUignJSQ7ai8mIzAjKjtqJiYmIy8iISYsKScpLFIoIjtrLikgJjsrLiMgJjstIiksUignMmwiIjZsN20uZSAmMm4iIjZuN28uWSAmMjQiIjY0NzUuTSAmMjgiIjY4NzkuQSAmMjwiIjY8Nz0uNSAmMkAiIjZAN0EuKSAmMkIiIjZCN0MnKSxSKCclMjYiIjY2NzcvbiM7bS9lJCQlMjwiIjY8Nz0vLCM7bS8jJCsiKSgiXCcjJlwnIzA8KiUyPCIiNjw3PS8sIzttLyMkKyIpKCJcJyMmXCcjJi8jJCsjKSgjXCcjKCJcJyMmXCcjJyksUignJTtuL0EjMj4iIjY+Nz8vMiQ7by8pJDgjOlx4Y2UjIiIgKSgjXCcjKCJcJyMmXCcjJyksUigiJDtwLikgJjsrLiMgJjstLzIjMC8qO3AuKSAmOysuIyAmOy0mJiYjIiksUigiJDtwLikgJjsrLiMgJjstMC8qO3AuKSAmOysuIyAmOy0mIiksUignMmwiIjZsN20uZSAmMm4iIjZuN28uWSAmMjQiIjY0NzUuTSAmMjYiIjY2NzcuQSAmMjgiIjY4NzkuNSAmMkAiIjZAN0EuKSAmMkIiIjZCN0MnKSxSKCI7XHg5MS4jICY7ciIpLFIoIiU7XHg5MC9HIzsnLz4kO3MvNSQ7Jy8sJDtceDg0LyMkKyUpKCUnIygkJyMoIycjKFwiJyMmJyMiKSxSKCI7TS4jICY7dCIpLFIoIiU7XHg3Zi9FIzI4XCJcIjY4NzkvNiQ7dS4jICY7eC8nJDgjOlx4Y2YjICkoIycjKFwiJyMmJyMiKSxSKCclO3YuIyAmO3cvSiMlMjYiIjY2NzcvLCM7XHg4My8jJCsiKSgiXCcjJlwnIy4iICYiLyMkKyIpKCJcJyMmXCcjJyksUignJTJceGQwIiI2XHhkMDdceGQxLzojO1x4ODAvMSQ7dy4iICYiLyMkKyMpKCNcJyMoIlwnIyZcJyMnKSxSKCclMjQiIjY0NzUvLCM7ey8jJCsiKSgiXCcjJlwnIycpLFIoIiU7ei8zIyQ7eTAjKjt5Ji8jJCtcIikoXCInIyYnIyIpLFIoIjsqLikgJjsrLiMgJjstIiksUignOysuXHg4ZiAmOy0uXHg4OSAmMjIiIjYyNzMufSAmMjYiIjY2NzcucSAmMjgiIjY4NzkuZSAmMjoiIjY6NzsuWSAmMjwiIjY8Nz0uTSAmMj4iIjY+Nz8uQSAmMkAiIjZAN0EuNSAmMkIiIjZCN0MuKSAmMkQiIjZEN0UnKSxSKCclO3wvZSMkJTI0IiI2NDc1LywjO3wvIyQrIikoIlwnIyZcJyMwPColMjQiIjY0NzUvLCM7fC8jJCsiKSgiXCcjJlwnIyYvIyQrIikoIlwnIyZcJyMnKSxSKCclJDt+MCMqO34mL2UjJCUyMiIiNjI3My8sIzt9LyMkKyIpKCJcJyMmXCcjMDwqJTIyIiI2MjczLywjO30vIyQrIikoIlwnIyZcJyMmLyMkKyIpKCJcJyMmXCcjJyksUigiJDt+MCMqO34mIiksUignOysudyAmOy0ucSAmMjgiIjY4NzkuZSAmMjoiIjY6NzsuWSAmMjwiIjY8Nz0uTSAmMj4iIjY+Nz8uQSAmMkAiIjZAN0EuNSAmMkIiIjZCN0MuKSAmMkQiIjZEN0UnKSxSKCclJTsiL1x4ODcjJDsiLkcgJjshLkEgJjJAIiI2QDdBLjUgJjJGIiI2RjdHLikgJjJKIiI2SjdLME0qOyIuRyAmOyEuQSAmMkAiIjZAN0EuNSAmMkYiIjZGN0cuKSAmMkoiIjZKN0smLyMkKyIpKCJcJyMmXCcjLyYgOCE6XHhkMiEgKScpLFIoIjtceDgxLiMgJjtceDgyIiksUignJSU7Ty8yIzI6IiI2Ojc7LyMkKyIpKCJcJyMmXCcjLiIgJiIvLCM7Uy8jJCsiKSgiXCcjJlwnIy4iICYiJyksUignJDsrLlx4ODMgJjstLn0gJjJCIiI2QjdDLnEgJjJEIiI2RDdFLmUgJjIyIiI2MjczLlkgJjI4IiI2ODc5Lk0gJjI6IiI2Ojc7LkEgJjI8IiI2PDc9LjUgJjI+IiI2Pjc/LikgJjJAIiI2QDdBL1x4OGMjMFx4ODkqOysuXHg4MyAmOy0ufSAmMkIiIjZCN0MucSAmMkQiIjZEN0UuZSAmMjIiIjYyNzMuWSAmMjgiIjY4NzkuTSAmMjoiIjY6NzsuQSAmMjwiIjY8Nz0uNSAmMj4iIjY+Nz8uKSAmMkAiIjZAN0EmJiYjJyksUigiJDt5MCMqO3kmIiksUignJTNceDkyIiI1IzdceGQzL3EjMjQiIjY0NzUvYiQkOyEvJiMwIyo7ISYmJiMvTCQySiIiNko3Sy89JCQ7IS8mIzAjKjshJiYmIy9cJyQ4JTpceGQ0JSApKCVcJyMoJFwnIygjXCcjKCJcJyMmXCcjJyksUignMlx4ZDUiIjZceGQ1N1x4ZDYnKSxSKCcyXHhkNyIiNlx4ZDc3XHhkOCcpLFIoJzJceGQ5IiI2XHhkOTdceGRhJyksUignMlx4ZGIiIjZceGRiN1x4ZGMnKSxSKCcyXHhkZCIiNlx4ZGQ3XHhkZScpLFIoJzJceGRmIiI2XHhkZjdceGUwJyksUignMlx4ZTEiIjZceGUxN1x4ZTInKSxSKCcyXHhlMyIiNlx4ZTM3XHhlNCcpLFIoJzJceGU1IiI2XHhlNTdceGU2JyksUignMlx4ZTciIjZceGU3N1x4ZTgnKSxSKCcyXHhlOSIiNlx4ZTk3XHhlYScpLFIoIiU7XHg4NS5ZICY7XHg4Ni5TICY7XHg4OC5NICY7XHg4OS5HICY7XHg4YS5BICY7XHg4Yi47ICY7XHg4Yy41ICY7XHg4Zi4vICY7XHg4ZC4pICY7XHg4ZS4jICY7Ni8mIDghOlx4ZWIhICkiKSxSKCIlO1x4ODQvRyM7Jy8+JDtceDkyLzUkOycvLCQ7XHg5NC8jJCslKSglJyMoJCcjKCMnIyhcIicjJicjIiksUigiJTtceDkzLycgOCE6XHhlYyEhICkiKSxSKCIlOyEvNSM7IS8sJDshLyMkKyMpKCMnIyhcIicjJicjIiksUigiJSQ7Ki5BICY7Ky47ICY7LS41ICY7My4vICY7NC4pICY7Jy4jICY7KDBHKjsqLkEgJjsrLjsgJjstLjUgJjszLi8gJjs0LikgJjsnLiMgJjsoJi8mIDghOlx4ZWQhICkiKSxSKCIlO1x4YjYvWSMkJTtBLywjO1x4YjYvIyQrXCIpKFwiJyMmJyMwNiolO0EvLCM7XHhiNi8jJCtcIikoXCInIyYnIyYvIyQrXCIpKFwiJyMmJyMiKSxSKCclOzkvTiMlMjoiIjY6NzsvLCM7OS8jJCsiKSgiXCcjJlwnIy4iICYiL1wnJDgiOlx4ZWUiICkoIlwnIyZcJyMnKSxSKCIlOzouYyAmJTtceDk4L1kjJCU7QS8sIztceDk4LyMkK1wiKShcIicjJicjMDYqJTtBLywjO1x4OTgvIyQrXCIpKFwiJyMmJyMmLyMkK1wiKShcIicjJicjLyYgOCE6XHhlZiEgKSIpLFIoIiU7TC4jICY7XHg5OS9dIyQlO0IvLCM7XHg5Yi8jJCtcIikoXCInIyYnIzA2KiU7Qi8sIztceDliLyMkK1wiKShcIicjJicjJi8nJDhcIjpceGYwXCIgKShcIicjJicjIiksUigiJTtceDlhLlwiICZcIi8+IztALzUkO00vLCQ7Py8jJCskKSgkJyMoIycjKFwiJyMmJyMiKSxSKCIlJTs2L1kjJCU7Li8sIzs2LyMkK1wiKShcIicjJicjMDYqJTsuLywjOzYvIyQrXCIpKFwiJyMmJyMmLyMkK1wiKShcIicjJicjLiMgJjtILycgOCE6XHhmMSEhICkiKSxSKCI7XHg5Yy4pICY7XHg5ZC4jICY7XHhhMCIpLFIoIiUzXHhmMlwiXCI1ITdceGYzLzojOzwvMSQ7XHg5Zi8oJDgjOlx4ZjQjISApKCMnIyhcIicjJicjIiksUigiJTNceGY1XCJcIjUnN1x4ZjYvOiM7PC8xJDtceDllLygkOCM6XHhmNyMhICkoIycjKFwiJyMmJyMiKSxSKCIlJDshLyYjMCMqOyEmJiYjLycgOCE6XHhmOCEhICkiKSxSKCclMlx4ZjkiIjZceGY5N1x4ZmEvbyMlMkoiIjZKN0svTSM7IS4iICYiLz8kOyEuIiAmIi8xJDshLiIgJiIvIyQrJCkoJFwnIygjXCcjKCJcJyMmXCcjLiIgJiIvXCckOCI6XHhmYiIgKSgiXCcjJlwnIycpLFIoJyU7Ni9KIyU7PC8sIztceGExLyMkKyIpKCJcJyMmXCcjLiIgJiIvKSQ4IjpceGZjIiIhICkoIlwnIyZcJyMnKSxSKCI7Ni4pICY7VC4jICY7SCIpLFIoIiU7XHhhMy9ZIyQlO0IvLCM7XHhhNC8jJCtcIikoXCInIyYnIzA2KiU7Qi8sIztceGE0LyMkK1wiKShcIicjJicjJi8jJCtcIikoXCInIyYnIyIpLFIoJyUzXHhmZCIiNSY3XHhmZS5HICYzXHhmZiIiNVwnN1x1MDEwMC47ICYzXHUwMTAxIiI1JDdcdTAxMDIuLyAmM1x1MDEwMyIiNSU3XHUwMTA0LiMgJjs2LyYgOCE6XHUwMTA1ISApJyksUigiO1x4YTUuIyAmO1x4YTAiKSxSKCclM1x1MDEwNiIiNSg3XHUwMTA3L00jOzwvRCQzXHUwMTA4IiI1KDdcdTAxMDkuLyAmM1x1MDEwYSIiNSg3XHUwMTBiLiMgJjs2LyMkKyMpKCNcJyMoIlwnIyZcJyMnKSxSKCIlOzYvWSMkJTtBLywjOzYvIyQrXCIpKFwiJyMmJyMwNiolO0EvLCM7Ni8jJCtcIikoXCInIyYnIyYvIyQrXCIpKFwiJyMmJyMiKSxSKCIlJDshLyYjMCMqOyEmJiYjLycgOCE6XHUwMTBjISEgKSIpLFIoIiU7XHhhOS8mIDghOlx1MDEwZCEgKSIpLFIoIiU7XHhhYS9rIzs7L2IkO1x4YWYvWSQkJTtCLywjO1x4YjAvIyQrXCIpKFwiJyMmJyMwNiolO0IvLCM7XHhiMC8jJCtcIikoXCInIyYnIyYvIyQrJCkoJCcjKCMnIyhcIicjJicjIiksUigiO1x4YWIuIyAmO1x4YWMiKSxSKCczXHUwMTBlIiI1JDdcdTAxMGYuUyAmM1x1MDExMCIiNSU3XHUwMTExLkcgJjNcdTAxMTIiIjUlN1x1MDExMy47ICYzXHUwMTE0IiI1JTdcdTAxMTUuLyAmM1x1MDExNiIiNSs3XHUwMTE3LiMgJjtceGFkJyksUignM1x1MDExOCIiNVwnN1x1MDExOS4vICYzXHUwMTFhIiI1KTdcdTAxMWIuIyAmO1x4YWQnKSxSKCI7Ni4jICY7XHhhZSIpLFIoJyUzXHUwMTFjIiI1IjdcdTAxMWQvLCM7Ni8jJCsiKSgiXCcjJlwnIycpLFIoIjtceGFkLiMgJjs2IiksUigiJTs2LzUjOzwvLCQ7XHhiMS8jJCsjKSgjJyMoXCInIyYnIyIpLFIoIjs2LiMgJjtIIiksUigiJTtceGIzLzUjOy4vLCQ7XHg5MC8jJCsjKSgjJyMoXCInIyYnIyIpLFIoIiUkOyEvJiMwIyo7ISYmJiMvJyA4ITpcdTAxMWUhISApIiksUigiJTtceDllLycgOCE6XHUwMTFmISEgKSIpLFIoJyU7XHhiNi9eIyQlO0IvLCM7XHhhMC8jJCsiKSgiXCcjJlwnIzA2KiU7Qi8sIztceGEwLyMkKyIpKCJcJyMmXCcjJi8oJDgiOlx1MDEyMCIhISkoIlwnIyZcJyMnKSxSKCclJTs3L2UjJCUySiIiNko3Sy8sIzs3LyMkKyIpKCJcJyMmXCcjMDwqJTJKIiI2SjdLLywjOzcvIyQrIikoIlwnIyZcJyMmLyMkKyIpKCJcJyMmXCcjLyIhJiwpJyksUigiJTtMLiMgJjtceDk5L10jJCU7Qi8sIztceGI4LyMkK1wiKShcIicjJicjMDYqJTtCLywjO1x4YjgvIyQrXCIpKFwiJyMmJyMmLyckOFwiOlx1MDEyMVwiICkoXCInIyYnIyIpLFIoIjtceGI5LiMgJjtceGEwIiksUigiJTNcdTAxMjJcIlwiNSM3XHUwMTIzLzojOzwvMSQ7Ni8oJDgjOlx1MDEyNCMhICkoIycjKFwiJyMmJyMiKSxSKCIlJDshLyYjMCMqOyEmJiYjLycgOCE6XHUwMTI1ISEgKSIpLFIoIiU7XHg5ZS8nIDghOlx1MDEyNiEhICkiKSxSKCIlJDtceDlhMCMqO1x4OWEmL3gjO0AvbyQ7TS9mJDs/L10kJCU7Qi8sIztceGEwLyMkK1wiKShcIicjJicjMDYqJTtCLywjO1x4YTAvIyQrXCIpKFwiJyMmJyMmLyckOCU6XHUwMTI3JSApKCUnIygkJyMoIycjKFwiJyMmJyMiKSxSKCI7XHhiZSIpLFIoIiUzXHUwMTI4XCJcIjUmN1x1MDEyOS9rIzsuL2IkO1x4YzEvWSQkJTtBLywjO1x4YzEvIyQrXCIpKFwiJyMmJyMwNiolO0EvLCM7XHhjMS8jJCtcIikoXCInIyYnIyYvIyQrJCkoJCcjKCMnIyhcIicjJicjLiMgJjtceGJmIiksUigiJTs2L2sjOy4vYiQ7XHhjMC9ZJCQlO0EvLCM7XHhjMC8jJCtcIikoXCInIyYnIzA2KiU7QS8sIztceGMwLyMkK1wiKShcIicjJicjJi8jJCskKSgkJyMoIycjKFwiJyMmJyMiKSxSKCIlOzYvOyM7PC8yJDs2LiMgJjtILyMkKyMpKCMnIyhcIicjJicjIiksUigiO1x4YzIuRyAmO1x4YzQuQSAmO1x4YzYuOyAmO1x4YzguNSAmO1x4YzkuLyAmO1x4Y2EuKSAmO1x4Y2IuIyAmO1x4YzAiKSxSKCIlM1x1MDEyYVwiXCI1JTdcdTAxMmIvNSM7PC8sJDtceGMzLyMkKyMpKCMnIyhcIicjJicjIiksUigiJTtJLycgOCE6XHUwMTJjISEgKSIpLFIoIiUzXHUwMTJkXCJcIjUmN1x1MDEyZS9ceDk3Izs8L1x4OGUkO0QvXHg4NSQ7XHhjNS98JCQlJDsnLyYjMCMqOycmJiYjLywjO1x4YzUvIyQrXCIpKFwiJyMmJyMwQyolJDsnLyYjMCMqOycmJiYjLywjO1x4YzUvIyQrXCIpKFwiJyMmJyMmLywkO0UvIyQrJikoJicjKCUnIygkJyMoIycjKFwiJyMmJyMiKSxSKCI7dC4jICY7dyIpLFIoIiUzXHUwMTJmXCJcIjUlN1x1MDEzMC81Izs8LywkO1x4YzcvIyQrIykoIycjKFwiJyMmJyMiKSxSKCIlO0kvJyA4ITpcdTAxMzEhISApIiksUigiJTNcdTAxMzJcIlwiNSY3XHUwMTMzLzojOzwvMSQ7SS8oJDgjOlx1MDEzNCMhICkoIycjKFwiJyMmJyMiKSxSKCclM1x1MDEzNSIiNSU3XHUwMTM2L10jOzwvVCQlM1x1MDEzNyIiNSQ3XHUwMTM4LyYgOCE6XHUwMTM5ISApLjQgJiUzXHUwMTNhIiI1JTdcdTAxM2IvJiA4ITpcdTAxM2MhICkvIyQrIykoI1wnIygiXCcjJlwnIycpLFIoJyUzXHUwMTNkIiI1KTdcdTAxM2UvUiM7PC9JJDNcdTAxM2YiIjUjN1x1MDE0MC4vICYzXHUwMTQxIiI1KDdcdTAxNDIuIyAmOzYvKCQ4IzpcdTAxNDMjISApKCNcJyMoIlwnIyZcJyMnKSxSKCclM1x1MDE0NCIiNSM3XHUwMTQ1L1x4OTMjOzwvXHg4YSQ7RC9ceDgxJCU7XHhjYy9lIyQlMkQiIjZEN0UvLCM7XHhjYy8jJCsiKSgiXCcjJlwnIzA8KiUyRCIiNkQ3RS8sIztceGNjLyMkKyIpKCJcJyMmXCcjJi8jJCsiKSgiXCcjJlwnIy8sJDtFLyMkKyUpKCVcJyMoJFwnIygjXCcjKCJcJyMmXCcjJyksUignJTNcdTAxNDYiIjUoN1x1MDE0Ny4vICYzXHUwMTQ4IiI1JDdcdTAxNDkuIyAmOzYvXCcgOCE6XHUwMTRhISEgKScpLFIoIiU7Ni9ZIyQlO0EvLCM7Ni8jJCtcIikoXCInIyYnIzA2KiU7QS8sIzs2LyMkK1wiKShcIicjJicjJi8jJCtcIikoXCInIyYnIyIpLFIoIiU7XHhjZi9HIzsuLz4kO1x4Y2YvNSQ7Li8sJDtceDkwLyMkKyUpKCUnIygkJyMoIycjKFwiJyMmJyMiKSxSKCIlJDshLyYjMCMqOyEmJiYjLycgOCE6XHUwMTRiISEgKSIpLFIoIiU7XHhkMS9dIyQlO0EvLCM7XHhkMS8jJCtcIikoXCInIyYnIzA2KiU7QS8sIztceGQxLyMkK1wiKShcIicjJicjJi8nJDhcIjpcdTAxNGNcIiApKFwiJyMmJyMiKSxSKCIlO1x4OTkvXSMkJTtCLywjO1x4YTAvIyQrXCIpKFwiJyMmJyMwNiolO0IvLCM7XHhhMC8jJCtcIikoXCInIyYnIyYvJyQ4XCI6XHUwMTRkXCIgKShcIicjJicjIiksUignJTtMLk8gJjtceDk5LkkgJiU7QC4iICYiLzojO3QvMSQ7Py4iICYiLyMkKyMpKCNcJyMoIlwnIyZcJyMvXSMkJTtCLywjO1x4YTAvIyQrIikoIlwnIyZcJyMwNiolO0IvLCM7XHhhMC8jJCsiKSgiXCcjJlwnIyYvXCckOCI6XHUwMTRlIiApKCJcJyMmXCcjJyksUigiJTtceGQ0L10jJCU7Qi8sIztceGQ1LyMkK1wiKShcIicjJicjMDYqJTtCLywjO1x4ZDUvIyQrXCIpKFwiJyMmJyMmLyckOFwiOlx1MDE0ZlwiICkoXCInIyYnIyIpLFIoIiU7XHg5Ni8mIDghOlx1MDE1MCEgKSIpLFIoJyUzXHUwMTUxIiI1KDdcdTAxNTIvOiM7PC8xJDs2LygkOCM6XHUwMTUzIyEgKSgjXCcjKCJcJyMmXCcjLmcgJiUzXHUwMTU0IiI1JjdcdTAxNTUvOiM7PC8xJDs2LygkOCM6XHUwMTU2IyEgKSgjXCcjKCJcJyMmXCcjLjogJiUzXHUwMTU3IiI1KjdcdTAxNTgvJiA4ITpcdTAxNTkhICkuIyAmO1x4YTAnKSxSKCclJTs2L2sjJCU7QS8yIzs2LykkOCI6XHUwMTVhIiIkICkoIlwnIyZcJyMwPColO0EvMiM7Ni8pJDgiOlx1MDE1YSIiJCApKCJcJyMmXCcjJi8pJDgiOlx1MDE1YiIiISApKCJcJyMmXCcjLiIgJiIvXCcgOCE6XHUwMTVjISEgKScpLFIoIiU7XHhkOC9ZIyQlO0EvLCM7XHhkOC8jJCtcIikoXCInIyYnIzA2KiU7QS8sIztceGQ4LyMkK1wiKShcIicjJicjJi8jJCtcIikoXCInIyYnIyIpLFIoIiU7XHg5OS9ZIyQlO0IvLCM7XHhhMC8jJCtcIikoXCInIyYnIzA2KiU7Qi8sIztceGEwLyMkK1wiKShcIicjJicjJi8jJCtcIikoXCInIyYnIyIpLFIoIiUkOyEvJiMwIyo7ISYmJiMvJyA4ITpcdTAxNWQhISApIiksUigiJTtceGRiL1kjJCU7Qi8sIztceGRjLyMkK1wiKShcIicjJicjMDYqJTtCLywjO1x4ZGMvIyQrXCIpKFwiJyMmJyMmLyMkK1wiKShcIicjJicjIiksUignJTNcdTAxNWUiIjUmN1x1MDE1Zi47ICYzXHUwMTYwIiI1XCc3XHUwMTYxLi8gJjNcdTAxNjIiIjUqN1x1MDE2My4jICY7Ni8mIDghOlx1MDE2NCEgKScpLFIoIiUzXHUwMTY1XCJcIjUmN1x1MDE2Ni86Izs8LzEkO1x4ZGQvKCQ4IzpcdTAxNjcjISApKCMnIyhcIicjJicjLn0gJiUzXHhmNVwiXCI1JzdceGY2LzojOzwvMSQ7XHg5ZS8oJDgjOlx1MDE2OCMhICkoIycjKFwiJyMmJyMuUCAmJTNcdTAxNjlcIlwiNSs3XHUwMTZhLzojOzwvMSQ7XHg5ZS8oJDgjOlx1MDE2YiMhICkoIycjKFwiJyMmJyMuIyAmO1x4YTAiKSxSKCczXHUwMTZjIiI1KzdcdTAxNmQuayAmM1x1MDE2ZSIiNSk3XHUwMTZmLl8gJjNcdTAxNzAiIjUoN1x1MDE3MS5TICYzXHUwMTcyIiI1XCc3XHUwMTczLkcgJjNcdTAxNzQiIjUmN1x1MDE3NS47ICYzXHUwMTc2IiI1KjdcdTAxNzcuLyAmM1x1MDE3OCIiNSk3XHUwMTc5LiMgJjs2JyksUignOzEuIiAmIicpLFIoJyUlOzYvayMkJTtBLzIjOzYvKSQ4IjpcdTAxNWEiIiQgKSgiXCcjJlwnIzA8KiU7QS8yIzs2LykkOCI6XHUwMTVhIiIkICkoIlwnIyZcJyMmLykkOCI6XHUwMTViIiIhICkoIlwnIyZcJyMuIiAmIi9cJyA4ITpcdTAxN2EhISApJyksUigiJTtMLiMgJjtceDk5L10jJCU7Qi8sIztceGUxLyMkK1wiKShcIicjJicjMDYqJTtCLywjO1x4ZTEvIyQrXCIpKFwiJyMmJyMmLyckOFwiOlx1MDE3YlwiICkoXCInIyYnIyIpLFIoIjtceGI5LiMgJjtceGEwIiksUigiJTtceGUzL1kjJCU7QS8sIztceGUzLyMkK1wiKShcIicjJicjMDYqJTtBLywjO1x4ZTMvIyQrXCIpKFwiJyMmJyMmLyMkK1wiKShcIicjJicjIiksUigiJTtceGVhL2sjOy4vYiQ7XHhlZC9ZJCQlO0IvLCM7XHhlNC8jJCtcIikoXCInIyYnIzA2KiU7Qi8sIztceGU0LyMkK1wiKShcIicjJicjJi8jJCskKSgkJyMoIycjKFwiJyMmJyMiKSxSKCI7XHhlNS47ICY7XHhlNi41ICY7XHhlNy4vICY7XHhlOC4pICY7XHhlOS4jICY7XHhhMCIpLFIoIiUzXHUwMTdjXCJcIjUjN1x1MDE3ZC86Izs8LzEkO1x4ZjAvKCQ4IzpcdTAxN2UjISApKCMnIyhcIicjJicjIiksUigiJTNcdTAxN2ZcIlwiNSU3XHUwMTgwLzojOzwvMSQ7VC8oJDgjOlx1MDE4MSMhICkoIycjKFwiJyMmJyMiKSxSKCIlM1x1MDE4MlwiXCI1KDdcdTAxODMvRiM7PC89JDtcXC4pICY7WS4jICY7WC8oJDgjOlx1MDE4NCMhICkoIycjKFwiJyMmJyMiKSxSKCIlM1x1MDE4NVwiXCI1JjdcdTAxODYvOiM7PC8xJDs2LygkOCM6XHUwMTg3IyEgKSgjJyMoXCInIyYnIyIpLFIoJyUzXHUwMTg4IiI1JTdcdTAxODkvTyMlOzwvMyMkOyEwIyo7ISYvIyQrIikoIlwnIyZcJyMuIiAmIi9cJyQ4IjpcdTAxOGEiICkoIlwnIyZcJyMnKSxSKCIlO1x4ZWIvRyM7Oy8+JDs2LzUkOzsvLCQ7XHhlYy8jJCslKSglJyMoJCcjKCMnIyhcIicjJicjIiksUignJTNceDkyIiI1IzdceGQzLiMgJjs2L1wnIDghOlx1MDE4YiEhICknKSxSKCclM1x4YjEiIjUjN1x1MDE4Yy5HICYzXHhiMyIiNSM3XHUwMThkLjsgJjNceGI3IiI1IzdcdTAxOGUuLyAmM1x4YjUiIjUkN1x1MDE4Zi4jICY7Ni9cJyA4ITpcdTAxOTAhISApJyksUignJTtceGVlL0QjJTtDLywjO1x4ZWYvIyQrIikoIlwnIyZcJyMuIiAmIi8jJCsiKSgiXCcjJlwnIycpLFIoIiU7VS4pICY7XFwuIyAmO1gvJiA4ITpcdTAxOTEhICkiKSxSKCclJTshLiIgJiIvWyM7IS4iICYiL00kOyEuIiAmIi8/JDshLiIgJiIvMSQ7IS4iICYiLyMkKyUpKCVcJyMoJFwnIygjXCcjKCJcJyMmXCcjL1wnIDghOlx1MDE5MiEhICknKSxSKCclJTshLz8jOyEuIiAmIi8xJDshLiIgJiIvIyQrIykoI1wnIygiXCcjJlwnIy9cJyA4ITpcdTAxOTMhISApJyksUigiO1x4YmUiKSxSKCclO1x4OWUvXiMkJTtCLywjO1x4ZjMvIyQrIikoIlwnIyZcJyMwNiolO0IvLCM7XHhmMy8jJCsiKSgiXCcjJlwnIyYvKCQ4IjpcdTAxOTQiISEpKCJcJyMmXCcjJyksUigiO1x4ZjQuIyAmO1x4YTAiKSxSKCclMlx1MDE5NSIiNlx1MDE5NTdcdTAxOTYvTCM7PC9DJDJcdTAxOTciIjZcdTAxOTc3XHUwMTk4LikgJjJcdTAxOTkiIjZcdTAxOTk3XHUwMTlhLygkOCM6XHUwMTliIyEgKSgjXCcjKCJcJyMmXCcjJyksUignJTtceDllL14jJCU7Qi8sIztceGEwLyMkKyIpKCJcJyMmXCcjMDYqJTtCLywjO1x4YTAvIyQrIikoIlwnIyZcJyMmLygkOCI6XHUwMTljIiEhKSgiXCcjJlwnIycpLFIoIiU7Ni81IzswLywkO1x4ZjcvIyQrIykoIycjKFwiJyMmJyMiKSxSKCIkOzIuKSAmOzQuIyAmOy4wLyo7Mi4pICY7NC4jICY7LiYiKSxSKCIkOyUwIyo7JSYiKSxSKCIlO1x4ZmEvOyMyOFwiXCI2ODc5LywkO1x4ZmIvIyQrIykoIycjKFwiJyMmJyMiKSxSKCclM1x1MDE5ZCIiNSU3XHUwMTllLikgJjNcdTAxOWYiIjUkN1x1MDFhMC9cJyA4ITpcdTAxYTEhISApJyksUignJTtceGZjL0ojJTI4IiI2ODc5LywjO14vIyQrIikoIlwnIyZcJyMuIiAmIi8jJCsiKSgiXCcjJlwnIycpLFIoIiU7XFwuKSAmO1guIyAmO1x4ODIvJyA4ITpcdTAxYTIhISApIiksUignOyIuUyAmOyEuTSAmMkYiIjZGN0cuQSAmMkoiIjZKN0suNSAmMkgiIjZIN0kuKSAmMk4iIjZON08nKSxSKCcyTCIiNkw3TS5ceDk1ICYyQiIiNkI3Qy5ceDg5ICYyPCIiNjw3PS59ICYyUiIiNlI3Uy5xICYyVCIiNlQ3VS5lICYyViIiNlY3Vy5ZICYyUCIiNlA3US5NICYyQCIiNkA3QS5BICYyRCIiNkQ3RS41ICYyMiIiNjI3My4pICYyPiIiNj43PycpLFIoJyU7XHUwMTAwL2IjMjgiIjY4NzkvUyQ7XHhmYi9KJCUyXHUwMWEzIiI2XHUwMWEzN1x1MDFhNC8sIztceGVjLyMkKyIpKCJcJyMmXCcjLiIgJiIvIyQrJCkoJFwnIygjXCcjKCJcJyMmXCcjJyksUignJTNcdTAxYTUiIjUlN1x1MDFhNi4pICYzXHUwMWE3IiI1JDdcdTAxYTgvXCcgOCE6XHUwMWExISEgKScpLFIoJyU7XHhlYy9PIzNceGIxIiI1IzdceGIyLjYgJjNceGIzIiI1IzdceGI0LiogJiQ7KzAjKjsrJi9cJyQ4IjpcdTAxYTkiICkoIlwnIyZcJyMnKSxSKCIlO1x1MDEwNC9ceDg3IzJGXCJcIjZGN0cveCQ7XHUwMTAzL28kMkZcIlwiNkY3Ry9gJDtcdTAxMDMvVyQyRlwiXCI2RjdHL0gkO1x1MDEwMy8/JDJGXCJcIjZGN0cvMCQ7XHUwMTA1LyckOCk6XHUwMWFhKSApKCknIygoJyMoJycjKCYnIyglJyMoJCcjKCMnIyhcIicjJicjIiksUigiJTsjLz4jOyMvNSQ7Iy8sJDsjLyMkKyQpKCQnIygjJyMoXCInIyYnIyIpLFIoIiU7XHUwMTAzLywjO1x1MDEwMy8jJCtcIikoXCInIyYnIyIpLFIoIiU7XHUwMTAzLzUjO1x1MDEwMy8sJDtcdTAxMDMvIyQrIykoIycjKFwiJyMmJyMiKSxSKCIlO1x4ODQvVSM7Jy9MJDtceDkyL0MkOycvOiQ7XHg5MC8xJDsgLlwiICZcIi8jJCsmKSgmJyMoJScjKCQnIygjJyMoXCInIyYnIyIpLFIoJyUyXHUwMWFiIiI2XHUwMWFiN1x1MDFhYy4pICYyXHUwMWFkIiI2XHUwMWFkN1x1MDFhZS93IzswL24kO1x1MDEwOC9lJCQlO0IvMiM7XHUwMTA5LiMgJjtceGEwLyMkKyIpKCJcJyMmXCcjMDwqJTtCLzIjO1x1MDEwOS4jICY7XHhhMC8jJCsiKSgiXCcjJlwnIyYvIyQrJCkoJFwnIygjXCcjKCJcJyMmXCcjJyksUigiO1x4OTkuIyAmO0wiKSxSKCIlMlx1MDFhZlwiXCI2XHUwMWFmN1x1MDFiMC81Izs8LywkO1x1MDEwYS8jJCsjKSgjJyMoXCInIyYnIyIpLFIoIiU7RC9TIzssL0okMjpcIlwiNjo3Oy87JDssLiMgJjtULywkO0UvIyQrJSkoJScjKCQnIygjJyMoXCInIyYnIyIpXSxoPTAsdT0wLGw9W3tsaW5lOjEsY29sdW1uOjF9XSxkPTAscD1bXSxnPTA7aWYoInN0YXJ0UnVsZSJpbiB0KXtpZighKHQuc3RhcnRSdWxlIGluIG4pKXRocm93IG5ldyBFcnJvcigiQ2FuJ3Qgc3RhcnQgcGFyc2luZyBmcm9tIHJ1bGUgXCIiK3Quc3RhcnRSdWxlKyciLicpO289blt0LnN0YXJ0UnVsZV19ZnVuY3Rpb24gZigpe3JldHVybiBlLnN1YnN0cmluZyh1LGgpfWZ1bmN0aW9uIG0oKXtyZXR1cm4gUyh1LGgpfWZ1bmN0aW9uIFQoZSx0KXtyZXR1cm57dHlwZToibGl0ZXJhbCIsdGV4dDplLGlnbm9yZUNhc2U6dH19ZnVuY3Rpb24gRShlLHQsaSl7cmV0dXJue3R5cGU6ImNsYXNzIixwYXJ0czplLGludmVydGVkOnQsaWdub3JlQ2FzZTppfX1mdW5jdGlvbiBfKHQpe3ZhciBpLHM9bFt0XTtpZihzKXJldHVybiBzO2ZvcihpPXQtMTshbFtpXTspaS0tO2ZvcihzPXtsaW5lOihzPWxbaV0pLmxpbmUsY29sdW1uOnMuY29sdW1ufTtpPHQ7KTEwPT09ZS5jaGFyQ29kZUF0KGkpPyhzLmxpbmUrKyxzLmNvbHVtbj0xKTpzLmNvbHVtbisrLGkrKztyZXR1cm4gbFt0XT1zLHN9ZnVuY3Rpb24gUyhlLHQpe3ZhciBpPV8oZSkscz1fKHQpO3JldHVybntzdGFydDp7b2Zmc2V0OmUsbGluZTppLmxpbmUsY29sdW1uOmkuY29sdW1ufSxlbmQ6e29mZnNldDp0LGxpbmU6cy5saW5lLGNvbHVtbjpzLmNvbHVtbn19fWZ1bmN0aW9uIHYoZSl7aDxkfHwoaD5kJiYoZD1oLHA9W10pLHAucHVzaChlKSl9ZnVuY3Rpb24gQyhlLHQsaSl7cmV0dXJuIG5ldyBzKHMuYnVpbGRNZXNzYWdlKGUsdCksZSx0LGkpfWZ1bmN0aW9uIFIoZSl7dmFyIHQsaT1uZXcgQXJyYXkoZS5sZW5ndGgpO2Zvcih0PTA7dDxlLmxlbmd0aDt0KyspaVt0XT1lLmNoYXJDb2RlQXQodCktMzI7cmV0dXJuIGl9aWYodC5kYXRhPXt9LChpPWZ1bmN0aW9uIHQoaSl7Zm9yKHZhciBzLG4sbz1jW2ldLGw9MCxkPVtdLHA9by5sZW5ndGgsZj1bXSxtPVtdOzspe2Zvcig7bDxwOylzd2l0Y2gob1tsXSl7Y2FzZSAwOm0ucHVzaChhW29bbCsxXV0pLGwrPTI7YnJlYWs7Y2FzZSAxOm0ucHVzaCh2b2lkIDApLGwrKzticmVhaztjYXNlIDI6bS5wdXNoKG51bGwpLGwrKzticmVhaztjYXNlIDM6bS5wdXNoKHIpLGwrKzticmVhaztjYXNlIDQ6bS5wdXNoKFtdKSxsKys7YnJlYWs7Y2FzZSA1Om0ucHVzaChoKSxsKys7YnJlYWs7Y2FzZSA2Om0ucG9wKCksbCsrO2JyZWFrO2Nhc2UgNzpoPW0ucG9wKCksbCsrO2JyZWFrO2Nhc2UgODptLmxlbmd0aC09b1tsKzFdLGwrPTI7YnJlYWs7Y2FzZSA5Om0uc3BsaWNlKC0yLDEpLGwrKzticmVhaztjYXNlIDEwOm1bbS5sZW5ndGgtMl0ucHVzaChtLnBvcCgpKSxsKys7YnJlYWs7Y2FzZSAxMTptLnB1c2gobS5zcGxpY2UobS5sZW5ndGgtb1tsKzFdLG9bbCsxXSkpLGwrPTI7YnJlYWs7Y2FzZSAxMjptLnB1c2goZS5zdWJzdHJpbmcobS5wb3AoKSxoKSksbCsrO2JyZWFrO2Nhc2UgMTM6Zi5wdXNoKHApLGQucHVzaChsKzMrb1tsKzFdK29bbCsyXSksbVttLmxlbmd0aC0xXT8ocD1sKzMrb1tsKzFdLGwrPTMpOihwPWwrMytvW2wrMV0rb1tsKzJdLGwrPTMrb1tsKzFdKTticmVhaztjYXNlIDE0OmYucHVzaChwKSxkLnB1c2gobCszK29bbCsxXStvW2wrMl0pLG1bbS5sZW5ndGgtMV09PT1yPyhwPWwrMytvW2wrMV0sbCs9Myk6KHA9bCszK29bbCsxXStvW2wrMl0sbCs9MytvW2wrMV0pO2JyZWFrO2Nhc2UgMTU6Zi5wdXNoKHApLGQucHVzaChsKzMrb1tsKzFdK29bbCsyXSksbVttLmxlbmd0aC0xXSE9PXI/KHA9bCszK29bbCsxXSxsKz0zKToocD1sKzMrb1tsKzFdK29bbCsyXSxsKz0zK29bbCsxXSk7YnJlYWs7Y2FzZSAxNjptW20ubGVuZ3RoLTFdIT09cj8oZi5wdXNoKHApLGQucHVzaChsKSxwPWwrMitvW2wrMV0sbCs9Mik6bCs9MitvW2wrMV07YnJlYWs7Y2FzZSAxNzpmLnB1c2gocCksZC5wdXNoKGwrMytvW2wrMV0rb1tsKzJdKSxlLmxlbmd0aD5oPyhwPWwrMytvW2wrMV0sbCs9Myk6KHA9bCszK29bbCsxXStvW2wrMl0sbCs9MytvW2wrMV0pO2JyZWFrO2Nhc2UgMTg6Zi5wdXNoKHApLGQucHVzaChsKzQrb1tsKzJdK29bbCszXSksZS5zdWJzdHIoaCxhW29bbCsxXV0ubGVuZ3RoKT09PWFbb1tsKzFdXT8ocD1sKzQrb1tsKzJdLGwrPTQpOihwPWwrNCtvW2wrMl0rb1tsKzNdLGwrPTQrb1tsKzJdKTticmVhaztjYXNlIDE5OmYucHVzaChwKSxkLnB1c2gobCs0K29bbCsyXStvW2wrM10pLGUuc3Vic3RyKGgsYVtvW2wrMV1dLmxlbmd0aCkudG9Mb3dlckNhc2UoKT09PWFbb1tsKzFdXT8ocD1sKzQrb1tsKzJdLGwrPTQpOihwPWwrNCtvW2wrMl0rb1tsKzNdLGwrPTQrb1tsKzJdKTticmVhaztjYXNlIDIwOmYucHVzaChwKSxkLnB1c2gobCs0K29bbCsyXStvW2wrM10pLGFbb1tsKzFdXS50ZXN0KGUuY2hhckF0KGgpKT8ocD1sKzQrb1tsKzJdLGwrPTQpOihwPWwrNCtvW2wrMl0rb1tsKzNdLGwrPTQrb1tsKzJdKTticmVhaztjYXNlIDIxOm0ucHVzaChlLnN1YnN0cihoLG9bbCsxXSkpLGgrPW9bbCsxXSxsKz0yO2JyZWFrO2Nhc2UgMjI6bS5wdXNoKGFbb1tsKzFdXSksaCs9YVtvW2wrMV1dLmxlbmd0aCxsKz0yO2JyZWFrO2Nhc2UgMjM6bS5wdXNoKHIpLDA9PT1nJiZ2KGFbb1tsKzFdXSksbCs9MjticmVhaztjYXNlIDI0OnU9bVttLmxlbmd0aC0xLW9bbCsxXV0sbCs9MjticmVhaztjYXNlIDI1OnU9aCxsKys7YnJlYWs7Y2FzZSAyNjpmb3Iocz1vLnNsaWNlKGwrNCxsKzQrb1tsKzNdKSxuPTA7bjxvW2wrM107bisrKXNbbl09bVttLmxlbmd0aC0xLXNbbl1dO20uc3BsaWNlKG0ubGVuZ3RoLW9bbCsyXSxvW2wrMl0sYVtvW2wrMV1dLmFwcGx5KG51bGwscykpLGwrPTQrb1tsKzNdO2JyZWFrO2Nhc2UgMjc6bS5wdXNoKHQob1tsKzFdKSksbCs9MjticmVhaztjYXNlIDI4OmcrKyxsKys7YnJlYWs7Y2FzZSAyOTpnLS0sbCsrO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG9wY29kZTogIitvW2xdKyIuIil9aWYoIShmLmxlbmd0aD4wKSlicmVhaztwPWYucG9wKCksbD1kLnBvcCgpfXJldHVybiBtWzBdfShvKSkhPT1yJiZoPT09ZS5sZW5ndGgpcmV0dXJuIGk7dGhyb3cgaSE9PXImJmg8ZS5sZW5ndGgmJnYoe3R5cGU6ImVuZCJ9KSxDKHAsZDxlLmxlbmd0aD9lLmNoYXJBdChkKTpudWxsLGQ8ZS5sZW5ndGg/UyhkLGQrMSk6UyhkLGQpKX19fSxmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7dmFyIGkscyxyPVtdLG49ZS5zcGxpdCgvXHJcbi8pO2ZvcihpPTA7aTxuLmxlbmd0aDspe3ZhciBvPW5baV07aWYoL15tPSg/OmF1ZGlvfHZpZGVvKS8udGVzdChvKSlzPXtpbmRleDppLHN0cmlwcGVkOltdfSxyLnB1c2gocyk7ZWxzZSBpZihzKXt2YXIgYT0vXmE9cnRwbWFwOihcZCspIChbXi9dKylcLy8uZXhlYyhvKTtpZihhJiZ0PT09YVsyXSl7bi5zcGxpY2UoaSwxKSxzLnN0cmlwcGVkLnB1c2goYVsxXSk7Y29udGludWV9fWkrK31mb3IoaT0wO2k8ci5sZW5ndGg7aSsrKXtmb3IodmFyIGM9bltyW2ldLmluZGV4XS5zcGxpdCgiICIpLGg9MztoPGMubGVuZ3RoOyktMT09PXJbaV0uc3RyaXBwZWQuaW5kZXhPZihjW2hdKT9oKys6Yy5zcGxpY2UoaCwxKTtuW3JbaV0uaW5kZXhdPWMuam9pbigiICIpfXJldHVybiBuLmpvaW4oIlxyXG4iKX1yZXR1cm57c3RyaXBUY3BDYW5kaWRhdGVzOmZ1bmN0aW9uKHQpe3JldHVybiB0LnNkcD10LnNkcC5yZXBsYWNlKC9eYT1jYW5kaWRhdGU6XGQrIFxkKyB0Y3AgLio/XHJcbi9naW0sIiIpLGUuVXRpbHMuUHJvbWlzZS5yZXNvbHZlKHQpfSxzdHJpcFRlbGVwaG9uZUV2ZW50OmZ1bmN0aW9uKGkpe3JldHVybiBpLnNkcD10KGkuc2RwLCJ0ZWxlcGhvbmUtZXZlbnQiKSxlLlV0aWxzLlByb21pc2UucmVzb2x2ZShpKX0sY2xlYW5KaXRzaVNkcEltYWdlYXR0cjpmdW5jdGlvbih0KXtyZXR1cm4gdC5zZHA9dC5zZHAucmVwbGFjZSgvXihhPWltYWdlYXR0cjouKj8pKHh8eSk9XFswLS9nbSwiJDEkMj1bMToiKSxlLlV0aWxzLlByb21pc2UucmVzb2x2ZSh0KX0sc3RyaXBHNzIyOmZ1bmN0aW9uKGkpe3JldHVybiBpLnNkcD10KGkuc2RwLCJHNzIyIiksZS5VdGlscy5Qcm9taXNlLnJlc29sdmUoaSl9LHN0cmlwUnRwUGF5bG9hZDpmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIHMuc2RwPXQocy5zZHAsaSksZS5VdGlscy5Qcm9taXNlLnJlc29sdmUocyl9fSxzdHJpcFZpZGVvOmZ1bmN0aW9uKHQpe3JldHVybiB0LnNkcD1mdW5jdGlvbihlLHQpe3ZhciBpPW5ldyBSZWdFeHAoIm09Iit0KyIuKiQiLCJnbSIpLHM9bmV3IFJlZ0V4cCgiXmE9Z3JvdXA6LiokIiwiZ20iKTtpZihpLnRlc3QoZSkpe3ZhciByLG49KGU9ZS5zcGxpdCgvXm09L2dtKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3Vic3RyKDAsdC5sZW5ndGgpIT09dHx8KChyPWUubWF0Y2goL15hPW1pZDouKiQvZ20pKSYmKHI9clswXS5tYXRjaCgvOi4rJC9nKVswXS5zdWJzdHIoMSkpLCExKX0pLmpvaW4oIm09IikpLm1hdGNoKHMpO2lmKG4mJjE9PT1uLmxlbmd0aCl7bj1uWzBdO3ZhciBvPW5ldyBSZWdFeHAoIiAqIityKyJbXiBdKiIsImciKTtuPW4ucmVwbGFjZShvLCIiKSxlPWUuc3BsaXQocykuam9pbihuKX19cmV0dXJuIGV9KHQuc2RwLCJ2aWRlbyIpLGUuVXRpbHMuUHJvbWlzZS5yZXNvbHZlKHQpfSxhZGRNaWRMaW5lczpmdW5jdGlvbih0KXt2YXIgaT10LnNkcDtpZigtMT09PWkuc2VhcmNoKC9eYT1taWQuKiQvZ20pKXt2YXIgcz1pLm1hdGNoKC9ebT0uKiQvZ20pO2k9aS5zcGxpdCgvXm09LiokL2dtKSxzLmZvckVhY2goZnVuY3Rpb24oZSx0KXtzW3RdPWUrIlxuYT1taWQ6Iit0fSksaS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7c1t0XSYmKGlbdF09ZStzW3RdKX0pLGk9aS5qb2luKCIiKSx0LnNkcD1pfXJldHVybiBlLlV0aWxzLlByb21pc2UucmVzb2x2ZSh0KX19fX0sZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjsoZnVuY3Rpb24odCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciBpPXtTVEFUVVNfTlVMTDowLFNUQVRVU19ORVc6MSxTVEFUVVNfQ09OTkVDVElORzoyLFNUQVRVU19DT05ORUNURUQ6MyxTVEFUVVNfQ09NUExFVEVEOjR9LHM9ZnVuY3Rpb24ocyl7aWYocy5tZWRpYS5yZW1vdGUudmlkZW8/dGhpcy52aWRlbz0hMDp0aGlzLnZpZGVvPSExLHMubWVkaWEucmVtb3RlLmF1ZGlvP3RoaXMuYXVkaW89ITA6dGhpcy5hdWRpbz0hMSwhdGhpcy5hdWRpbyYmIXRoaXMudmlkZW8pdGhyb3cgbmV3IEVycm9yKCJBdCBsZWFzdCBvbmUgcmVtb3RlIGF1ZGlvIG9yIHZpZGVvIGVsZW1lbnQgaXMgcmVxdWlyZWQgZm9yIFNpbXBsZS4iKTt0aGlzLm9wdGlvbnM9czt2YXIgcj10Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSxuPSExLG89ITE7ci5pbmRleE9mKCJzYWZhcmkiKT4tMSYmci5pbmRleE9mKCJjaHJvbWUiKTwwP249ITA6ci5pbmRleE9mKCJmaXJlZm94Iik+LTEmJnIuaW5kZXhPZigiY2hyb21lIik8MCYmKG89ITApO3ZhciBhPXt9O3JldHVybiBuJiYoYS5tb2RpZmllcnM9W2UuV2ViLk1vZGlmaWVycy5zdHJpcEc3MjJdKSxvJiYoYS5hbHdheXNBY3F1aXJlTWVkaWFGaXJzdD0hMCksdGhpcy5vcHRpb25zLnVhLnVyaXx8KHRoaXMuYW5vbnltb3VzPSEwKSx0aGlzLnVhPW5ldyBlLlVBKHt1cmk6dGhpcy5vcHRpb25zLnVhLnVyaSxhdXRob3JpemF0aW9uVXNlcjp0aGlzLm9wdGlvbnMudWEuYXV0aG9yaXphdGlvblVzZXIscGFzc3dvcmQ6dGhpcy5vcHRpb25zLnVhLnBhc3N3b3JkLGRpc3BsYXlOYW1lOnRoaXMub3B0aW9ucy51YS5kaXNwbGF5TmFtZSx1c2VyQWdlbnRTdHJpbmc6dGhpcy5vcHRpb25zLnVhLnVzZXJBZ2VudFN0cmluZyxyZWdpc3RlcjohMCxzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeU9wdGlvbnM6YSx0cmFuc3BvcnRPcHRpb25zOnt0cmFjZVNpcDp0aGlzLm9wdGlvbnMudWEudHJhY2VTaXAsd3NTZXJ2ZXJzOnRoaXMub3B0aW9ucy51YS53c1NlcnZlcnN9fSksdGhpcy5zdGF0ZT1pLlNUQVRVU19OVUxMLHRoaXMubG9nZ2VyPXRoaXMudWEuZ2V0TG9nZ2VyKCJzaXAuc2ltcGxlIiksdGhpcy51YS5vbigicmVnaXN0ZXJlZCIsZnVuY3Rpb24oKXt0aGlzLmVtaXQoInJlZ2lzdGVyZWQiLHRoaXMudWEpfS5iaW5kKHRoaXMpKSx0aGlzLnVhLm9uKCJ1bnJlZ2lzdGVyZWQiLGZ1bmN0aW9uKCl7dGhpcy5lbWl0KCJ1bnJlZ2lzdGVyZWQiLHRoaXMudWEpfS5iaW5kKHRoaXMpKSx0aGlzLnVhLm9uKCJmYWlsZWQiLGZ1bmN0aW9uKCl7dGhpcy5lbWl0KCJ1bnJlZ2lzdGVyZWQiLHRoaXMudWEpfS5iaW5kKHRoaXMpKSx0aGlzLnVhLm9uKCJpbnZpdGUiLGZ1bmN0aW9uKGUpe2lmKHRoaXMuc3RhdGUhPT1pLlNUQVRVU19OVUxMJiZ0aGlzLnN0YXRlIT09aS5TVEFUVVNfQ09NUExFVEVEKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKCJSZWplY3RpbmcgaW5jb21pbmcgY2FsbC4gU2ltcGxlIG9ubHkgc3VwcG9ydHMgMSBjYWxsIGF0IGEgdGltZSIpLHZvaWQgZS5yZWplY3QoKTt0aGlzLnNlc3Npb249ZSx0aGlzLnNldHVwU2Vzc2lvbigpLHRoaXMuZW1pdCgicmluZ2luZyIsdGhpcy5zZXNzaW9uKX0uYmluZCh0aGlzKSksdGhpcy51YS5vbigibWVzc2FnZSIsZnVuY3Rpb24oZSl7dGhpcy5lbWl0KCJtZXNzYWdlIixlKX0uYmluZCh0aGlzKSksdGhpc307cmV0dXJuIHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5FdmVudEVtaXR0ZXIucHJvdG90eXBlKSxzLkM9aSxzLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUpe2lmKHRoaXMudWEmJnRoaXMuY2hlY2tSZWdpc3RyYXRpb24oKSl7aWYodGhpcy5zdGF0ZT09PWkuU1RBVFVTX05VTEx8fHRoaXMuc3RhdGU9PT1pLlNUQVRVU19DT01QTEVURUQpcmV0dXJuIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8mJih0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLmF1ZGlvLmF1dG9wbGF5PSEwKSx0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLnZpZGVvJiYodGhpcy5vcHRpb25zLm1lZGlhLnJlbW90ZS52aWRlby5hdXRvcGxheT0hMCksdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsJiZ0aGlzLm9wdGlvbnMubWVkaWEubG9jYWwudmlkZW8mJih0aGlzLm9wdGlvbnMubWVkaWEubG9jYWwudmlkZW8uYXV0b3BsYXk9ITAsdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvLnZvbHVtZT0wKSx0aGlzLnNlc3Npb249dGhpcy51YS5pbnZpdGUoZSx7c2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnM6e2NvbnN0cmFpbnRzOnthdWRpbzp0aGlzLmF1ZGlvLHZpZGVvOnRoaXMudmlkZW99fX0pLHRoaXMuc2V0dXBTZXNzaW9uKCksdGhpcy5zZXNzaW9uO3RoaXMubG9nZ2VyLndhcm4oIkNhbm5vdCBtYWtlIG1vcmUgdGhhbiBhIHNpbmdsZSBjYWxsIHdpdGggU2ltcGxlIil9ZWxzZSB0aGlzLmxvZ2dlci53YXJuKCJBIHJlZ2lzdGVyZWQgVUEgaXMgcmVxdWlyZWQgZm9yIGNhbGxpbmciKX0scy5wcm90b3R5cGUuYW5zd2VyPWZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZT09PWkuU1RBVFVTX05FV3x8dGhpcy5zdGF0ZT09PWkuU1RBVFVTX0NPTk5FQ1RJTkcpcmV0dXJuIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8mJih0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLmF1ZGlvLmF1dG9wbGF5PSEwKSx0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLnZpZGVvJiYodGhpcy5vcHRpb25zLm1lZGlhLnJlbW90ZS52aWRlby5hdXRvcGxheT0hMCksdGhpcy5zZXNzaW9uLmFjY2VwdCh7c2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnM6e2NvbnN0cmFpbnRzOnthdWRpbzp0aGlzLmF1ZGlvLHZpZGVvOnRoaXMudmlkZW99fX0pO3RoaXMubG9nZ2VyLndhcm4oIk5vIGNhbGwgdG8gYW5zd2VyIil9LHMucHJvdG90eXBlLnJlamVjdD1mdW5jdGlvbigpe2lmKHRoaXMuc3RhdGU9PT1pLlNUQVRVU19ORVd8fHRoaXMuc3RhdGU9PT1pLlNUQVRVU19DT05ORUNUSU5HKXJldHVybiB0aGlzLnNlc3Npb24ucmVqZWN0KCk7dGhpcy5sb2dnZXIud2FybigiQ2FsbCBpcyBhbHJlYWR5IGFuc3dlcmVkIil9LHMucHJvdG90eXBlLmhhbmd1cD1mdW5jdGlvbigpe2lmKHRoaXMuc3RhdGU9PT1pLlNUQVRVU19DT05ORUNURUR8fHRoaXMuc3RhdGU9PT1pLlNUQVRVU19DT05ORUNUSU5HfHx0aGlzLnN0YXRlPT09aS5TVEFUVVNfTkVXKXJldHVybiB0aGlzLnN0YXRlIT09aS5TVEFUVVNfQ09OTkVDVEVEP3RoaXMuc2Vzc2lvbi5jYW5jZWwoKTp0aGlzLnNlc3Npb24uYnllKCk7dGhpcy5sb2dnZXIud2FybigiTm8gYWN0aXZlIGNhbGwgdG8gaGFuZyB1cCBvbiIpfSxzLnByb3RvdHlwZS5ob2xkPWZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZT09PWkuU1RBVFVTX0NPTk5FQ1RFRCYmIXRoaXMuc2Vzc2lvbi5sb2NhbF9ob2xkKXJldHVybiB0aGlzLm11dGUoKSx0aGlzLmxvZ2dlci5sb2coIlBsYWNpbmcgc2Vzc2lvbiBvbiBob2xkIiksdGhpcy5zZXNzaW9uLmhvbGQoKTt0aGlzLmxvZ2dlci53YXJuKCJDYW5ub3QgcHV0IGNhbGwgb24gaG9sZCIpfSxzLnByb3RvdHlwZS51bmhvbGQ9ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlPT09aS5TVEFUVVNfQ09OTkVDVEVEJiZ0aGlzLnNlc3Npb24ubG9jYWxfaG9sZClyZXR1cm4gdGhpcy51bm11dGUoKSx0aGlzLmxvZ2dlci5sb2coIlBsYWNpbmcgY2FsbCBvZmYgaG9sZCIpLHRoaXMuc2Vzc2lvbi51bmhvbGQoKTt0aGlzLmxvZ2dlci53YXJuKCJDYW5ub3QgdW5ob2xkIGEgY2FsbCB0aGF0IGlzIG5vdCBvbiBob2xkIil9LHMucHJvdG90eXBlLm11dGU9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPT09aS5TVEFUVVNfQ09OTkVDVEVEPyh0aGlzLmxvZ2dlci5sb2coIk11dGluZyBBdWRpbyIpLHRoaXMudG9nZ2xlTXV0ZSghMCksdGhpcy5lbWl0KCJtdXRlIix0aGlzKSk6dGhpcy5sb2dnZXIud2FybigiQW4gYWNpdHZlIGNhbGwgaXMgcmVxdWlyZWQgdG8gbXV0ZSBhdWRpbyIpfSxzLnByb3RvdHlwZS51bm11dGU9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPT09aS5TVEFUVVNfQ09OTkVDVEVEPyh0aGlzLmxvZ2dlci5sb2coIlVubXV0aW5nIEF1ZGlvIiksdGhpcy50b2dnbGVNdXRlKCExKSx0aGlzLmVtaXQoInVubXV0ZSIsdGhpcykpOnRoaXMubG9nZ2VyLndhcm4oIkFuIGFjdGl2ZSBjYWxsIGlzIHJlcXVpcmVkIHRvIHVubXV0ZSBhdWRpbyIpfSxzLnByb3RvdHlwZS5zZW5kRFRNRj1mdW5jdGlvbihlKXt0aGlzLnN0YXRlPT09aS5TVEFUVVNfQ09OTkVDVEVEPyh0aGlzLmxvZ2dlci5sb2coIlNlbmRpbmcgRFRNRiB0b25lOiAiK2UpLHRoaXMuc2Vzc2lvbi5kdG1mKGUpKTp0aGlzLmxvZ2dlci53YXJuKCJBbiBhY3RpdmUgY2FsbCBpcyByZXF1aXJlZCB0byBzZW5kIGEgRFRNRiB0b25lIil9LHMucHJvdG90eXBlLm1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXt0aGlzLnVhJiZ0aGlzLmNoZWNrUmVnaXN0cmF0aW9uKCk/ZSYmdD90aGlzLnVhLm1lc3NhZ2UoZSx0KTp0aGlzLmxvZ2dlci53YXJuKCJBIGRlc3RpbmF0aW9uIGFuZCBtZXNzYWdlIGFyZSByZXF1aXJlZCB0byBzZW5kIGEgbWVzc2FnZSIpOnRoaXMubG9nZ2VyLndhcm4oIkEgcmVnaXN0ZXJlZCBVQSBpcyByZXF1aXJlZCB0byBzZW5kIGEgbWVzc2FnZSIpfSxzLnByb3RvdHlwZS5jaGVja1JlZ2lzdHJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFub255bW91c3x8dGhpcy51YSYmdGhpcy51YS5pc1JlZ2lzdGVyZWQoKX0scy5wcm90b3R5cGUuc2V0dXBSZW1vdGVNZWRpYT1mdW5jdGlvbigpe3ZhciBlLGk9dGhpcy5zZXNzaW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucGVlckNvbm5lY3Rpb247aS5nZXRSZWNlaXZlcnM/KGU9bmV3IHQud2luZG93Lk1lZGlhU3RyZWFtLGkuZ2V0UmVjZWl2ZXJzKCkuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgaT10LnRyYWNrO2kmJmUuYWRkVHJhY2soaSl9KSk6ZT1pLmdldFJlbW90ZVN0cmVhbXMoKVswXSx0aGlzLnZpZGVvPyh0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLnZpZGVvLnNyY09iamVjdD1lLHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUudmlkZW8ucGxheSgpLmNhdGNoKGZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIubG9nKCJwbGF5IHdhcyByZWplY3RlZCIpfS5iaW5kKHRoaXMpKSk6dGhpcy5hdWRpbyYmKHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8uc3JjT2JqZWN0PWUsdGhpcy5vcHRpb25zLm1lZGlhLnJlbW90ZS5hdWRpby5wbGF5KCkuY2F0Y2goZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5sb2coInBsYXkgd2FzIHJlamVjdGVkIil9LmJpbmQodGhpcykpKX0scy5wcm90b3R5cGUuc2V0dXBMb2NhbE1lZGlhPWZ1bmN0aW9uKCl7aWYodGhpcy52aWRlbyYmdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsJiZ0aGlzLm9wdGlvbnMubWVkaWEubG9jYWwudmlkZW8pe3ZhciBlLGk9dGhpcy5zZXNzaW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucGVlckNvbm5lY3Rpb247aS5nZXRTZW5kZXJzPyhlPW5ldyB0LndpbmRvdy5NZWRpYVN0cmVhbSxpLmdldFNlbmRlcnMoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPXQudHJhY2s7aSYmInZpZGVvIj09PWkua2luZCYmZS5hZGRUcmFjayhpKX0pKTplPWkuZ2V0TG9jYWxTdHJlYW1zKClbMF0sdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvLnNyY09iamVjdD1lLHRoaXMub3B0aW9ucy5tZWRpYS5sb2NhbC52aWRlby52b2x1bWU9MCx0aGlzLm9wdGlvbnMubWVkaWEubG9jYWwudmlkZW8ucGxheSgpfX0scy5wcm90b3R5cGUuY2xlYW51cE1lZGlhPWZ1bmN0aW9uKCl7dGhpcy52aWRlbyYmKHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUudmlkZW8uc3JjT2JqZWN0PW51bGwsdGhpcy5vcHRpb25zLm1lZGlhLnJlbW90ZS52aWRlby5wYXVzZSgpLHRoaXMub3B0aW9ucy5tZWRpYS5sb2NhbCYmdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvJiYodGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvLnNyY09iamVjdD1udWxsLHRoaXMub3B0aW9ucy5tZWRpYS5sb2NhbC52aWRlby5wYXVzZSgpKSksdGhpcy5hdWRpbyYmKHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8uc3JjT2JqZWN0PW51bGwsdGhpcy5vcHRpb25zLm1lZGlhLnJlbW90ZS5hdWRpby5wYXVzZSgpKX0scy5wcm90b3R5cGUuc2V0dXBTZXNzaW9uPWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT1pLlNUQVRVU19ORVcsdGhpcy5lbWl0KCJuZXciLHRoaXMuc2Vzc2lvbiksdGhpcy5zZXNzaW9uLm9uKCJwcm9ncmVzcyIsdGhpcy5vblByb2dyZXNzLmJpbmQodGhpcykpLHRoaXMuc2Vzc2lvbi5vbigiYWNjZXB0ZWQiLHRoaXMub25BY2NlcHRlZC5iaW5kKHRoaXMpKSx0aGlzLnNlc3Npb24ub24oInJlamVjdGVkIix0aGlzLm9uRW5kZWQuYmluZCh0aGlzKSksdGhpcy5zZXNzaW9uLm9uKCJmYWlsZWQiLHRoaXMub25GYWlsZWQuYmluZCh0aGlzKSksdGhpcy5zZXNzaW9uLm9uKCJ0ZXJtaW5hdGVkIix0aGlzLm9uRW5kZWQuYmluZCh0aGlzKSl9LHMucHJvdG90eXBlLmRlc3Ryb3lNZWRpYT1mdW5jdGlvbigpe3RoaXMuc2Vzc2lvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmNsb3NlKCl9LHMucHJvdG90eXBlLnRvZ2dsZU11dGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zZXNzaW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucGVlckNvbm5lY3Rpb247dC5nZXRTZW5kZXJzP3QuZ2V0U2VuZGVycygpLmZvckVhY2goZnVuY3Rpb24odCl7dC50cmFjayYmKHQudHJhY2suZW5hYmxlZD0hZSl9KTp0LmdldExvY2FsU3RyZWFtcygpLmZvckVhY2goZnVuY3Rpb24odCl7dC5nZXRBdWRpb1RyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odCl7dC5lbmFibGVkPSFlfSksdC5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odCl7dC5lbmFibGVkPSFlfSl9KX0scy5wcm90b3R5cGUub25BY2NlcHRlZD1mdW5jdGlvbigpe3RoaXMuc3RhdGU9aS5TVEFUVVNfQ09OTkVDVEVELHRoaXMuZW1pdCgiY29ubmVjdGVkIix0aGlzLnNlc3Npb24pLHRoaXMuc2V0dXBMb2NhbE1lZGlhKCksdGhpcy5zZXR1cFJlbW90ZU1lZGlhKCksdGhpcy5zZXNzaW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIub24oImFkZFRyYWNrIixmdW5jdGlvbigpe3RoaXMubG9nZ2VyLmxvZygiQSB0cmFjayBoYXMgYmVlbiBhZGRlZCwgdHJpZ2dlcmluZyBuZXcgcmVtb3RlTWVkaWEgc2V0dXAiKSx0aGlzLnNldHVwUmVtb3RlTWVkaWEoKX0uYmluZCh0aGlzKSksdGhpcy5zZXNzaW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIub24oImFkZFN0cmVhbSIsZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5sb2coIkEgc3RyZWFtIGhhcyBiZWVuIGFkZGVkLCB0cmlnZ2VyIG5ldyByZW1vdGVNZWRpYSBzZXR1cCIpLHRoaXMuc2V0dXBSZW1vdGVNZWRpYSgpfS5iaW5kKHRoaXMpKSx0aGlzLnNlc3Npb24ub24oImhvbGQiLGZ1bmN0aW9uKCl7dGhpcy5lbWl0KCJob2xkIix0aGlzLnNlc3Npb24pfS5iaW5kKHRoaXMpKSx0aGlzLnNlc3Npb24ub24oInVuaG9sZCIsZnVuY3Rpb24oKXt0aGlzLmVtaXQoInVuaG9sZCIsdGhpcy5zZXNzaW9uKX0uYmluZCh0aGlzKSksdGhpcy5zZXNzaW9uLm9uKCJkdG1mIixmdW5jdGlvbihlKXt0aGlzLmVtaXQoImR0bWYiLGUpfS5iaW5kKHRoaXMpKSx0aGlzLnNlc3Npb24ub24oImJ5ZSIsdGhpcy5vbkVuZGVkLmJpbmQodGhpcykpfSxzLnByb3RvdHlwZS5vblByb2dyZXNzPWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT1pLlNUQVRVU19DT05ORUNUSU5HLHRoaXMuZW1pdCgiY29ubmVjdGluZyIsdGhpcy5zZXNzaW9uKX0scy5wcm90b3R5cGUub25GYWlsZWQ9ZnVuY3Rpb24oKXt0aGlzLm9uRW5kZWQoKX0scy5wcm90b3R5cGUub25FbmRlZD1mdW5jdGlvbigpe3RoaXMuc3RhdGU9aS5TVEFUVVNfQ09NUExFVEVELHRoaXMuZW1pdCgiZW5kZWQiLHRoaXMuc2Vzc2lvbiksdGhpcy5jbGVhbnVwTWVkaWEoKX0sc319KS5jYWxsKHRoaXMsaSgwKSl9LGZ1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7KGZ1bmN0aW9uKHQpe3ZhciBzPXQud2luZG93fHx0O2Z1bmN0aW9uIHIoZSx0KXtpZihudWxsIT1lKXt2YXIgaT10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSkscz1bdCwid2Via2l0IitpLCJtb3oiK2ldO2Zvcih2YXIgciBpbiBzKXt2YXIgbj1lW3Nbcl1dO2lmKG4pcmV0dXJuIG4uYmluZChlKX19fWUuZXhwb3J0cz17V2ViU29ja2V0OnMuV2ViU29ja2V0LFRyYW5zcG9ydDppKDEpLG9wZW46cy5vcGVuLFByb21pc2U6cy5Qcm9taXNlLHRpbWVyczpzLGNvbnNvbGU6cy5jb25zb2xlfHx7ZGVidWc6ZnVuY3Rpb24oKXt9LGxvZzpmdW5jdGlvbigpe30sd2FybjpmdW5jdGlvbigpe30sZXJyb3I6ZnVuY3Rpb24oKXt9fSxhZGRFdmVudExpc3RlbmVyOnIocywiYWRkRXZlbnRMaXN0ZW5lciIpLHJlbW92ZUV2ZW50TGlzdGVuZXI6cihzLCJyZW1vdmVFdmVudExpc3RlbmVyIil9fSkuY2FsbCh0aGlzLGkoMCkpfV0pfSk7`
